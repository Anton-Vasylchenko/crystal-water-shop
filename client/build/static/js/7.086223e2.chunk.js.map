{"version":3,"sources":["hooks/usePage.js","components/Layout/map/map.js","components/Layout/map/index.js","pages/contacts-page/index.js","pages/contacts-page/contacts-page.js"],"names":["usePage","page","componentData","setComponentData","React","useState","isLoading","setIsLoading","updateInfo","useCallback","getComponentInfoByName","then","data","finally","useEffect","update","mapboxgl","workerClass","MapboxWorker","accessToken","Map","mapContainer","useRef","map","lng","setLng","lat","setLat","zoom","setZoom","current","container","style","center","on","getCenter","toFixed","getZoom","className","ref","ContactsPage","isAuth","role","useSelector","user","ComponentName","CONTACTS","title","isLoaded","updateData","parse","text","img","src","ImgUrlDefault","COMPONENTS","alt"],"mappings":"wHAAA,4BA0BeA,IAvBf,SAAiBC,GACb,MAAOC,EAAeC,GAAoBC,IAAMC,SAAS,KAClDC,EAAWC,GAAgBH,IAAMC,UAAS,GAE3CG,EAAaJ,IAAMK,aAAY,KACjCC,YAAuBT,GAAMU,MAAKC,IAC9BT,KAAoBS,MACrBC,SAAQ,KACPN,GAAa,QAElB,CAACN,IAMJ,OAJAG,IAAMU,WAAU,KACZN,MACD,CAACA,IAEG,CACHI,KAAMV,EACNI,YACAS,OAAQP,K,qHCdhBQ,IAASC,YAAcC,IACvBF,IAASG,YAAc,4FAqCRC,MAnCH,KACR,MAAMC,EAAeC,iBAAO,MACtBC,EAAMD,iBAAO,OACZE,EAAKC,GAAUpB,mBAAS,aACxBqB,EAAKC,GAAUtB,mBAAS,aACxBuB,EAAMC,GAAWxB,mBAAS,MAqBjC,OAnBAS,qBAAU,KACFS,EAAIO,UACRP,EAAIO,QAAU,IAAId,IAASI,IAAI,CAC3BW,UAAWV,EAAaS,QACxBE,MAAO,oDACPC,OAAQ,CAACT,EAAKE,GACdE,KAAMA,QAIdd,qBAAU,KACDS,EAAIO,SACTP,EAAIO,QAAQI,GAAG,QAAQ,KACnBT,EAAOF,EAAIO,QAAQK,YAAYX,IAAIY,QAAQ,IAC3CT,EAAOJ,EAAIO,QAAQK,YAAYT,IAAIU,QAAQ,IAC3CP,EAAQN,EAAIO,QAAQO,UAAUD,QAAQ,UAK1C,cAAC,IAAD,UACI,8BACI,qBAAKE,UAAU,gBAAgBC,IAAKlB,SCtCrCD,O,+ICAAoB,UCUA,WACX,MAAM,OAAEC,EAAF,KAAUC,GAASC,aAAY,EAAGC,UAAWA,KAE7C,KAAEhC,EAAF,UAAQN,EAAR,OAAmBS,GAAWf,YAAQ6C,IAAcC,UAE1D,OACI,sBAAKR,UAAU,WAAf,UACI,eAAC,IAAD,CAAWS,MAAOnC,EAAKmC,MAAOC,SAAU1C,EAAxC,UACKmC,GAAmB,UAATC,EAAmB,cAAC,IAAD,CAAqB9B,KAAMA,EAAMqC,WAAYlC,IAAa,GAExF,sBAAKuB,UAAU,MAAf,UACI,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,gBAAf,SACK1B,EAAOsC,YAAM,GAAD,OAAItC,EAAKuC,OAAU,OAIxC,qBAAKb,UAAU,WAAf,SACI,qBAAKA,UAAU,WAAf,SACK1B,EAAKwC,KAAO,qBAAKC,IAAG,UAAKC,IAAcC,YAAnB,OAAgC3C,EAAKwC,KAAOI,IAAI,qBAMrF,cAAC,IAAD","file":"static/js/7.086223e2.chunk.js","sourcesContent":["import React from 'react'\r\nimport { getComponentInfoByName } from '../services/productsAPI'\r\n\r\nfunction usePage(page) {\r\n    const [componentData, setComponentData] = React.useState({})\r\n    const [isLoading, setIsLoading] = React.useState(false)\r\n\r\n    const updateInfo = React.useCallback(() => {\r\n        getComponentInfoByName(page).then(data => {\r\n            setComponentData(...data)\r\n        }).finally(() => {\r\n            setIsLoading(true);\r\n        })\r\n    }, [page])\r\n\r\n    React.useEffect(() => {\r\n        updateInfo();\r\n    }, [updateInfo])\r\n\r\n    return {\r\n        data: componentData,\r\n        isLoading,\r\n        update: updateInfo\r\n    }\r\n}\r\n\r\nexport default usePage;\r\n","import React, { useRef, useEffect, useState } from 'react';\r\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl-csp';\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\nimport MapboxWorker from 'worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker';\r\nimport Container from '../../UI/container';\r\n\r\nimport './map.scss';\r\n\r\nmapboxgl.workerClass = MapboxWorker;\r\nmapboxgl.accessToken = 'pk.eyJ1IjoiZGlrdXNvciIsImEiOiJja25leWhsYWYxdzY2MnBtcjNkdDRhYWU4In0.pdghOzMOAjtXK2FrRLFRcA';\r\n\r\nconst Map = () => {\r\n    const mapContainer = useRef(null);\r\n    const map = useRef(null);\r\n    const [lng, setLng] = useState(24.0099813);\r\n    const [lat, setLat] = useState(49.8439957);\r\n    const [zoom, setZoom] = useState(16.5);\r\n\r\n    useEffect(() => {\r\n        if (map.current) return; // initialize map only once\r\n        map.current = new mapboxgl.Map({\r\n            container: mapContainer.current,\r\n            style: 'mapbox://styles/dikusor/ckngbl5xc1bka17p3fql8z4wn',\r\n            center: [lng, lat],\r\n            zoom: zoom\r\n        });\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (!map.current) return; // wait for map to initialize\r\n        map.current.on('move', () => {\r\n            setLng(map.current.getCenter().lng.toFixed(4));\r\n            setLat(map.current.getCenter().lat.toFixed(4));\r\n            setZoom(map.current.getZoom().toFixed(2));\r\n        });\r\n    });\r\n\r\n    return (\r\n        <Container >\r\n            <div>\r\n                <div className=\"map-container\" ref={mapContainer} />\r\n            </div>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Map;","import Map from './map';\r\n\r\nexport default Map;","import ContactsPage from './contacts-page';\r\n\r\nexport default ContactsPage;","import React from 'react'\r\nimport Container from '../../components/UI/container';\r\nimport Map from '../../components/Layout/map';\r\nimport { useSelector } from 'react-redux';\r\nimport { AdminComponentsEdit } from '../../components/admin/admin-components';\r\nimport parse from 'html-react-parser';\r\nimport { ComponentName } from '../../utils/consts';\r\nimport usePage from '../../hooks/usePage';\r\nimport { ImgUrlDefault } from '../../utils/consts';\r\n\r\nimport './contacts-page.scss';\r\n\r\nexport default function ContactsPage() {\r\n    const { isAuth, role } = useSelector(({ user }) => user);\r\n\r\n    const { data, isLoading, update } = usePage(ComponentName.CONTACTS)\r\n\r\n    return (\r\n        <div className=\"contacts\">\r\n            <Container title={data.title} isLoaded={isLoading}>\r\n                {isAuth && role === 'ADMIN' ? <AdminComponentsEdit data={data} updateData={update} /> : ''}\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                        <div className=\"contacts-text\">\r\n                            {data ? parse(`${data.text}`) : ''}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-6\">\r\n                        <div className=\"page-img\">\r\n                            {data.img && <img src={`${ImgUrlDefault.COMPONENTS}${data.img}`} alt=\"poster\" />}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Container>\r\n\r\n            <Map />\r\n        </div>\r\n    )\r\n}\r\n"],"sourceRoot":""}