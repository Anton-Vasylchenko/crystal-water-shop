{"version":3,"sources":["utils/consts.js","redux/actions/filters.js","redux/actions/goods.js","redux/actions/advantages.js","redux/actions/cart.js","redux/actions/user.js","services/http.js","services/productsAPI.js","components/UI/back-arrow/back-arrow.js","components/UI/back-arrow/index.js","components/UI/container/container.js","components/UI/container/index.js","services/userAPI.js","components/UI/spinner/spinner.js","components/UI/spinner/index.js","redux/actions/orders.js","services/api-services.js","hooks/useIsAdmin.js","components/UI/modal-box/modal-box.js","components/UI/modal-box/index.js","components/admin/text-editor/TextEditor.js","components/admin/text-editor/index.js","helpers/isValidInput.js","hooks/useIsModerator.js","components/admin/admin-products/admin-products-form.js","components/admin/admin-products/admin-products-add.js","components/admin/admin-products/admin-products-delete.js","components/admin/admin-products/admin-products-edit.js","components/UI/pagination/usePagination.js","components/UI/pagination/pagination.js","components/UI/pagination/index.js","components/admin/admin-components/admin-components-edit.js","components/popular-products/popular-products.js","components/popular-products/index.js","components/shop-items-list/list-item/list-item.js","components/shop-items-list/list-item/index.js","components/UI/dropdown-arrow/dropdown-arrow.js","components/UI/dropdown-arrow/index.js","redux/reducers/goods.js","redux/reducers/filters.js","redux/reducers/advantages.js","redux/reducers/cart.js","redux/reducers/user.js","redux/reducers/orders.js","redux/reducers/index.js","redux/store.js","components/scroll-to-top/scroll-to-top.js","components/main-navigation/main-navigation.js","components/main-navigation/index.js","assets/images/logo.png","components/main-logo/main-logo.js","components/main-logo/index.js","components/login-panel/login-panel.js","components/login-panel/index.js","components/mobile-menu/mobile-menu.js","components/mobile-menu/index.js","components/user/user-panel/user-panel.js","components/user/user-panel/index.js","helpers/transformedUserName.js","assets/images/cart.png","components/Layout/header/header.js","components/Layout/header/index.js","components/Layout/footer/footer-item/footer-item.js","components/Layout/footer/footer-item/index.js","components/Layout/footer/footer.js","components/Layout/footer/index.js","components/shop-item-details/shop-item-details.js","components/shop-item-details/index.js","components/error-404/error-404.js","components/error-404/index.js","components/admin/users-list/user-delete/user-delete.js","components/admin/users-list/user-item/user-item.js","components/admin/users-list/user-item/index.js","components/admin/users-list/users-list.js","components/admin/users-list/index.js","components/admin/admin-order-delete/admin-order-delete.js","components/orders-list/orders-table/order-table-item.js","components/orders-list/orders-table/orders-table.js","components/orders-list/orders-table/index.js","components/orders-list/orders-list-item/orders-list-item.js","components/orders-list/orders-list-item/index.js","components/orders-list/orders-list.js","components/orders-list/index.js","pages/reset-password-page/reset-password-page.js","components/user/user-profile/profile-edit-form/profile-edit-form.js","components/user/user-profile/change-password-form/change-password-form.js","components/user/user-profile/user-profile.js","components/user/user-profile/index.js","app/App.js","app/index.js","index.js"],"names":["_baseImgUrl","Routes","LOGIN_ROUTE","REGISTRATION_ROUTE","HOME_ROUTE","ABOUT_ROUTE","CONTACTS_ROUTE","PAYMENT_DELIVERY_ROUTE","CART_ROUTE","SHOP_ROUTE","SHOP_ITEM_ROUTE","USERS_LIST","ORDERS_LIST","USER_PROFILE","USER_RESET_PASSWORD","UserRoles","ADMIN","MODERATOR","USER","ComponentName","HOME","FOOTER","ABOUT_US","PAYMENT","CONTACTS","UserDefault","IMAGE","ProductDefault","ImgUrlDefault","ADVANTAGES","COMPONENTS","PRODUCTS","USERS","fetchCategories","dispatch","apiServices","getShopCategories","then","data","setCategories","items","type","payload","setActiveCategory","index","setSortBy","name","setSortOrder","setLoaded","fetchGoods","sortBy","category","sortOrder","page","limit","getAllProducts","setGoods","rows","setTotalCount","count","fetchPopularGoods","catId","setPopularGoods","fetchItemDetails","id","getProductById","setItemDetails","itemDetails","setPage","pageNumber","totalCount","fetchAdvantages","getAdvantages","setAdvantages","addItemToCart","obj","clearCart","removeCartItem","minusCartItem","setIsAuth","bool","setUser","user","setUserLogout","$host","axios","create","baseURL","$authHost","interceptors","request","use","config","headers","authorization","localStorage","getItem","async","get","categoryId","params","createProduct","post","product","updateProduct","patch","deleteProduct","delete","getProductByCatId","createCategory","deleteCategory","updateCategory","updateComponent","item","getComponentInfoByName","createAdvantages","advantage","deleteAdvantages","updateAdvantages","deleteOrders","BackArrow","history","useHistory","className","onClick","goBack","viewBox","d","Container","title","children","backArrow","isLoaded","mainTitle","backArrowBtn","loading","registration","email","password","phone","console","log","role","setItem","token","jwt_decode","login","changePassword","newPassword","check","changeRole","userRole","updateUser","deleteUser","forgotPassword","resetPassword","Spinner","fetchOrders","userId","getOrders","setOrders","setOrdersTotalCount","fetchOrdersItems","orderId","getOrdersItems","setOrdersItems","setOrdersPage","_baseUrl","getResource","res","fetch","this","url","ok","Error","status","json","getUsers","getShopItemById","useIsAdmin","isAuth","useSelector","ModalBox","handleNo","handleYes","show","body","onClose","Modal","animation","onHide","Header","closeButton","Title","Body","Footer","Button","variant","TextEditor","content","onChangeInfo","fieldName","text","setText","useState","onSaveShanges","event","editor","getData","ClassicEditor","fontFamily","options","fontSize","toolbar","placeholder","onChange","onBlur","isEmpty","value","trim","isFiveChars","length","isEmail","includes","useIsModerator","AdminProductsForm","handleSubmit","useDispatch","activeCategory","categories","filters","error","setError","React","nameCount","setNameCount","selectedImage","setSelectedImage","inputsValue","setInputsValue","img","price","description","updateState","field","newValue","onCancelHandle","clearForm","showErrorMsg","categoriesDropdown","map","cat","activeCat","Dropdown","Item","changeCategory","active","imgUrl","URL","createObjectURL","size","Alert","Form","Row","Group","as","Col","controlId","Label","Control","e","target","Toggle","Menu","src","alt","files","preventDefault","split","AdminProductsAdd","goods","modalVisible","setModalVisible","formData","FormData","append","alert","response","message","action","currentCategory","AdminProductDelete","setShow","toggleShow","AdminProductsEdit","itemCatId","setItemCatId","closeModal","useEffect","replace","key","Number","MAX_SAFE_INTEGER","DOTS","range","start","end","Array","from","_","idx","Pagination","props","onPageChange","siblingCount","currentPage","pageSize","paginationRange","useMemo","totalPageCount","Math","ceil","leftSiblingIndex","max","rightSiblingIndex","min","shouldShowLeftDots","shouldShowRightDots","lastPageIndex","rightRange","middleRange","usePagination","lastPage","classnames","disabled","selected","AdminComponentsEdit","updateData","stopPropagation","PopularProducts","cartItems","cart","popularItems","handleAddItemToCart","countOfAdded","onClickBuyBtn","ListItem","isAdmin","isModerator","to","DropdownArrow","rotate","classNames","width","height","fill","xmlns","initialState","state","advantages","totalPrice","updateCart","Object","keys","filter","reduce","itemTotalCount","itemTotalPrice","remove","newItemsList","pageOrders","isLoadedOrderItems","orders","itemsOrder","i","orderNumber","push","stateOrders","order","userName","userEmail","userPhone","totalAmount","amount","date","createdAt","newStateItems","rootReducer","combineReducers","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","withRouter","location","pathname","scrollTo","top","left","MainNavigation","activeClassName","exact","MainLogo","Logo","LoginPanel","MobileMenu","showMenu","setShowMenu","toggleMenu","prevState","UserPanel","image","slice","transformedUserName","imageUrl","DropdownButton","Link","eventKey","removeItem","btnIsHighLighted","setBtnIsHighLighted","btnCartClasses","timer","setTimeout","clearTimeout","Cart","FooterItem","updateFooterInfo","parse","footerInfo","setFooterInfo","href","rel","ShopItemDetails","itemId","editAccess","Fragment","Error404","UserDelete","showDeletePopup","setShowDeletePopup","onTogglePopup","onDeleteUser","UserItem","pageLimit","idUserLogined","userNumber","defaultValue","UsersList","users","setUsers","deleteUserHandler","newUsers","Table","responsive","AdminOrderDelete","onShowPopupHandler","OrderTableItem","isProductDeleted","setIsProductDeleted","onError","goodsId","OrdersTable","OrdersListItem","dropdownOrder","setDropdownOrder","onErrorImage","orderImages","images","orderData","join","OrdersList","ordersList","handleChangePage","ResetPasswordPage","enteredPasswordInput","setEnteredPasswordInput","onSubmit","ProfileEditForm","enteredName","setEnteredName","enteredEmail","setEnteredEmail","enteredPhone","setEnteredPhone","onHideForm","onShowFormHandler","onSubmitHandler","newProfile","onSaveProfile","ChangePasswordForm","showForm","setShowForm","currentPasswordInput","setCurrentPasswordInput","newPasswordInput","setNewPasswordInput","serverError","setServerError","errors","setErrors","currentPassword","updateErrors","inputName","msg","onChangePasswordHandler","catch","UserProfile","isFormVisible","setIsFormVisible","setIsLoading","profile","HomePage","lazy","ContactsPage","AboutUsPage","PaymentDeliveryPage","CartPage","ShopPage","AuthPage","App","setLoading","finally","fallback","path","component","render","match","ReactDOM","document","getElementById"],"mappings":"wHAAA,kNAAMA,EACF,QAESC,EAAS,CAClBC,YAAa,SACbC,mBAAoB,gBACpBC,WAAY,IACZC,YAAa,YACbC,eAAgB,YAChBC,uBAAwB,oBACxBC,WAAY,QACZC,WAAY,QACZC,gBAAiB,YACjBC,WAAY,cACZC,YAAa,eACbC,aAAc,gBACdC,oBAAqB,8BAGZC,EAAY,CACrBC,MAAO,QACPC,UAAW,YACXC,KAAM,QAGGC,EAAgB,CACzBC,KAAM,OACNC,OAAQ,SACRC,SAAU,WACVC,QAAS,mBACTC,SAAU,YAGDC,EAAc,CACvBC,MAAO,sBAGEC,EAAiB,CAC1BD,MAAO,eAGEE,EAAgB,CACzBC,WAAW,GAAD,OAAK7B,EAAL,eACV8B,WAAW,GAAD,OAAK9B,EAAL,eACV+B,SAAS,GAAD,OAAK/B,EAAL,aACRgC,MAAM,GAAD,OAAKhC,EAAL,Y,spBC3CT,MAAMiC,EAAkB,IAAOC,IAC3BC,IAAYC,oBAAoBC,MAAKC,IACjCJ,EAASK,EAAcD,QAIzBC,EAAiBC,IAAD,CAClBC,KAAM,iBACNC,QAASF,IAGPG,EAAqBC,IAAD,CACtBH,KAAM,sBACNC,QAASE,IAGPC,EAAaC,IAAD,CACdL,KAAM,cACNC,QAASI,IAGPC,EAAgBD,IAAD,CACjBL,KAAM,iBACNC,QAASI,I,YCvBb,MAAME,EAAaN,IAAD,CACdD,KAAM,aACNC,YAGEO,EAAa,CAACC,EAAQC,EAAUC,EAAWC,EAAMC,IAAWpB,IAC9DA,EAASc,GAAU,IACnBO,YAAeL,EAAQC,EAAUC,EAAWC,EAAMC,GAAOjB,MAAKC,IAC1DJ,EAASsB,EAASlB,EAAKmB,OACvBvB,EAASwB,EAAcpB,EAAKqB,YAI9BC,EAAqBC,GAAW3B,IAOlCA,EAASc,GAAU,IACnBO,YAHe,SAGQM,EAJL,OAFL,EACC,GAKwCxB,MAAKC,IACvDJ,EAAS4B,EAAgBxB,EAAKmB,WAIhCM,EAAoBC,GAAQ9B,IAC9BA,EAASc,GAAU,IACnBiB,YAAeD,GAAI3B,MAAKC,IACpBJ,EAASgC,EAAe5B,QAI1BkB,EAAYhB,IAAD,CACbC,KAAM,YACNC,QAASF,IAGPsB,EAAmBtB,IAAD,CACpBC,KAAM,oBACNC,QAASF,IAGP0B,EAAkBC,IAAD,CACnB1B,KAAM,mBACNC,QAASyB,IAGPC,EAAWC,IAAD,CACZ5B,KAAM,WACNC,QAAS2B,IAQPX,EAAiBY,IAAD,CAClB7B,KAAM,kBACNC,QAAS4B,IC5DPC,EAAkB,IAAOrC,IAC3BC,IAAYqC,gBAAgBnC,MAAKC,IAC7BJ,EAASuC,EAAcnC,QAIzBmC,EAAiBjC,IAAD,CAClBC,KAAM,iBACNC,QAASF,ICVPkC,EAAiBC,IAAD,CAClBlC,KAAM,mBACNC,QAASiC,IAGPC,EAAY,MACdnC,KAAM,eAGJoC,EAAkBb,IAAD,CACnBvB,KAAM,mBACNC,QAASsB,IAQPc,EAAiBd,IAAD,CAClBvB,KAAM,kBACNC,QAASsB,ICrBPe,EAAaC,IAAD,CACdvC,KAAM,cACNC,QAASsC,IAGPC,EAAWC,IAAD,CACZzC,KAAM,WACNC,QAASwC,IAQPC,EAAgB,MAClB1C,KAAM,oB,6CChBV,yFAEA,MAEM2C,EAAQC,IAAMC,OAAO,CACvBC,QAHqD,MAMnDC,EAAYH,IAAMC,OAAO,CAC3BC,QAPqD,MAezDC,EAAUC,aAAaC,QAAQC,KALRC,IACnBA,EAAOC,QAAQC,cAAf,iBAAyCC,aAAaC,QAAQ,UACvDJ,M,+BCdX,0gBAGO,MAAM3B,EAAiBgC,UAC1B,MAAM,KAAE3D,SAAe8C,IAAMc,IAAI,eAAiBlC,GAClD,OAAO1B,GAGEiB,EAAiB0C,MAAO/C,EAAQiD,EAAY/C,EAAWC,EAAMC,KACtE,MAAM,KAAEhB,SAAe8C,IAAMc,IAAI,eAAgB,CAC7CE,OAAQ,CACJD,aACA/C,YACAF,SACAI,QACAD,UAGR,OAAOf,GAGE+D,EAAgBJ,UACzB,MAAM,KAAE3D,SAAekD,IAAUc,KAAK,cAAeC,GACrD,OAAOjE,GAGEkE,EAAgBP,MAAOM,EAASvC,KACzC,MAAM,KAAE1B,SAAekD,IAAUiB,MAAM,eAAiBzC,EAAIuC,GAC5D,OAAOjE,GAGEoE,EAAgBT,UACzB,MAAM,KAAE3D,SAAekD,IAAUmB,OAAO,eAAiB3C,GACzD,OAAO1B,GAGEsE,EAAoBX,UAC7B,MAAM,KAAE3D,SAAe8C,IAAMc,IAAI,0BAA4BlC,GAC7D,OAAO1B,GAKEuE,EAAiBZ,UAC1B,MAAM,KAAE3D,SAAekD,IAAUc,KAAK,eAAgBnD,GACtD,OAAOb,GAGEwE,EAAiBb,UAC1B,MAAM,KAAE3D,SAAekD,IAAUmB,OAAO,gBAAkB3C,GAC1D,OAAO1B,GAGEyE,EAAiBd,MAAOnD,EAAMkB,KACvC,MAAM,KAAE1B,SAAekD,IAAUiB,MAAM,gBAAkBzC,EAAIlB,GAC7D,OAAOR,GAKE0E,EAAkBf,MAAOjC,EAAIiD,KACtC,MAAM,KAAE3E,SAAekD,IAAUiB,MAAM,iBAAmBzC,EAAIiD,GAC9D,OAAO3E,GAGE4E,EAAyBjB,UAClC,MAAM,KAAE3D,SAAe8C,IAAMc,IAAI,2BAA6BpD,GAC9D,OAAOR,GAKE6E,EAAmBlB,UAC5B,MAAM,KAAE3D,SAAekD,IAAUc,KAAK,iBAAkBc,GACxD,OAAO9E,GAGE+E,EAAmBpB,UAC5B,MAAM,KAAE3D,SAAekD,IAAUmB,OAAO,kBAAoB3C,GAC5D,OAAO1B,GAGEgF,EAAmBrB,UAC5B,MAAM,KAAE3D,SAAekD,IAAUiB,MAAM,kBAAoB9B,EAAIX,GAAIW,EAAIsC,MACvE,OAAO3E,GAKEiF,EAAetB,UACxB,MAAM,KAAE3D,SAAekD,IAAUmB,OAAO,aAAe3C,GACvD,OAAO1B,I,sECvEIkF,IClBAA,EDGf,WAEI,IAAIC,EAAUC,cAEd,OACI,8BACI,qBAAKC,UAAU,aAAaC,QAAS,IAAMH,EAAQI,SAAnD,SACI,qBAAKC,QAAQ,YAAb,SAAyB,4BACrB,sBAAMH,UAAU,aAAaI,EAAE,oO,OEsBpCC,MA5Bf,UAAmB,MAAEC,EAAF,SAASC,EAAT,UAAmBC,EAAnB,SAA8BC,GAAW,IAExD,MAAMC,EAAYJ,EAAQ,6BAAKA,IAAc,KACvCK,EAAeH,EAAY,cAAC,EAAD,IAAgB,GAC3CI,EAAUH,EAAWF,EAAW,cAAC,IAAD,IAEtC,OACI,qBAAKP,UAAU,YAAf,SACI,sBAAKA,UAAU,eAAf,UACI,sBAAKA,UAAU,kBAAf,UACKW,EACAD,KAEL,qBAAKV,UAAU,UAAf,SACKY,UCpBNP,O,kCCDf,6UAIO,MAAMQ,EAAevC,MAAOwC,EAAOC,EAAU5F,EAAM6F,EAAQ,QAC9DC,QAAQC,IAAIF,GACZ,MAAM,KAAErG,SAAe8C,IAAMkB,KAAK,wBAAyB,CAAEmC,QAAOC,WAAU5F,OAAM6F,QAAOG,KAAM/H,IAAUG,OAE3G,OADA6E,aAAagD,QAAQ,QAASzG,EAAK0G,OAC5BC,YAAW3G,EAAK0G,QAGdE,EAAQjD,MAAOwC,EAAOC,KAC/B,MAAM,KAAEpG,SAAe8C,IAAMkB,KAAK,iBAAkB,CAAEmC,QAAOC,aAE7D,OADA3C,aAAagD,QAAQ,QAASzG,EAAK0G,OAC5BC,YAAW3G,EAAK0G,QAGdG,EAAiBlD,MAAOyC,EAAUU,EAAapF,KACxD,MAAM,KAAE1B,SAAe8C,IAAMkB,KAAK,0BAA2B,CAAEoC,WAAUU,cAAapF,OAEtF,OADA+B,aAAagD,QAAQ,QAASzG,EAAK0G,OAC5BC,YAAW3G,EAAK0G,QAGdK,EAAQpD,UACjB,MAAM,KAAE3D,SAAekD,IAAUU,IAAI,iBAErC,OADAH,aAAagD,QAAQ,QAASzG,EAAK0G,OAC5BC,YAAW3G,EAAK0G,QAGdM,EAAarD,MAAOjC,EAAIuF,KACjC,MAAMT,EAAO,CAAEA,KAAMS,IACf,KAAEjH,SAAe8C,IAAMqB,MAAM,YAAczC,EAAI8E,GACrD,OAAOxG,GAGEkH,EAAavD,MAAOf,EAAMlB,KACnC,MAAM,KAAE1B,SAAekD,IAAUiB,MAAM,uBAAyBzC,EAAIkB,GAEpE,OADAa,aAAagD,QAAQ,QAASzG,EAAK0G,OAC5BC,YAAW3G,EAAK0G,QAGdS,EAAaxD,UACtB,MAAM,KAAE3D,SAAekD,IAAUmB,OAAO,YAAc3C,GACtD,OAAO1B,GAGEoH,EAAiBzD,UAC1B,MAAM,KAAE3D,SAAekD,IAAUc,KAAK,0BAA2B,CAAEmC,UACnE,OAAOnG,GAGEqH,EAAgB1D,MAAOjC,EAAIgF,EAAON,KAC3C,MAAM,KAAEpG,SAAekD,IAAUc,KAAK,0BAA4BtC,EAAK,IAAMgF,EAAO,CAAEN,aACtF,OAAOpG,I,wDCjCIsH,MAjBC,IAEZ,qBAAKjC,UAAU,0CAAf,SACE,sBAAKA,UAAU,OAAf,UACE,wBACA,wBACA,8BACE,0BAEF,8BACE,+BCXKiC,O,8BCFf,kHAEA,MAUMC,EAAc,CAACxG,EAAMC,EAAOwG,IAAY5H,IAC1CA,EAXoB,CACpBO,KAAM,oBACNC,SASyB,IAEzBP,IAAY4H,UAAU1G,EAAMC,EAAOwG,GAAQzH,MAAKC,IAC5CJ,EAAS8H,EAAU1H,EAAKmB,OACxBvB,EAAS+H,EAAoB3H,EAAKqB,YAGpCuG,EAAoBC,GAAajI,IACnCA,EAdyB,CACzBO,KAAM,0BACNC,SAY8B,IAE9BP,IAAYiI,eAAeD,GAAS9H,MAAKC,IACrCJ,EAASmI,EAAe/H,EAAKmB,WAI/BuG,EAAaxH,IAAD,CACdC,KAAM,aACNC,QAASF,IAGP6H,EAAkB7H,IAAD,CACnBC,KAAM,mBACNC,QAASF,IAGP8H,EAAiBjG,IAAD,CAClB5B,KAAM,kBACNC,QAAS2B,IAQP4F,EAAuB3F,IAAD,CACxB7B,KAAM,kBACNC,QAAS4B,K,6BClDb,qBAoEA,MAAMnC,EAAc,IAlEpB,MAAmB,cAAD,KAChBoI,SAAmD,OADnC,KAGhBC,YAAcvE,UACZ,MAAMwE,QAAYC,MAAM,GAAD,OAAIC,KAAKJ,UAAT,OAAoBK,IAC3C,IAAKH,EAAII,GACP,MAAM,IAAIC,MAAJ,0BAA6BF,EAA7B,sBAA8CH,EAAIM,SAG1D,OADaN,EAAIO,QARH,KAYhBjB,UAAY9D,MAAO5C,EAAMC,EAAOwG,KAC9B,MAAM,KAAExH,SAAe+C,IAAMa,IAAN,UAAayE,KAAKJ,SAAlB,SAAmC,CACxDnE,OAAQ,CACN0D,SACAxG,QACAD,UAIJ,OAAOf,GArBO,KAwBhB8H,eAAiBnE,UACf,MAAM,KAAE3D,SAAe+C,IAAMa,IAAN,UAAayE,KAAKJ,SAAlB,eAAyC,CAC9DnE,OAAQ,CACN+D,QAASA,KAGb,OAAO7H,GA9BO,KAiChB2I,SAAWhF,MAAO3C,EAAOD,KACvB,MAAM,KAAEf,SAAe+C,IAAMa,IAAN,UAAayE,KAAKJ,SAAlB,QAAkC,CACvDnE,OAAQ,CACN9C,MAAOA,EACPD,KAAMA,KAIV,OAAOf,GAzCO,KA4ChBsE,kBAAoBX,UAClB,MAAM,KAAE3D,SAAe+C,IAAMa,IAAN,UAAayE,KAAKJ,SAAlB,8BAAgD1G,IACvE,OAAOvB,GA9CO,KAiDhB4I,gBAAkBjF,UAChB,MAAM,KAAE3D,SAAe+C,IAAMa,IAAN,UAAayE,KAAKJ,SAAlB,mBAAqCvG,IAC5D,OAAO1B,GAnDO,KAsDhBF,kBAAoB6D,eACE0E,KAAKH,YAAL,YAvDN,KA2DhBhG,cAAgByB,eACM0E,KAAKH,YAAL,gBAQTrI,O,8BCtEf,kBASegJ,IANf,WACI,MAAM,OAAEC,EAAF,KAAUtC,GAASuC,aAAY,EAAGnG,UAAWA,IAEnD,OADgBkG,GAAUtC,IAAS/H,IAAUC,Q,iECuBlCsK,MAxBf,UAAkB,SAAEC,EAAF,UAAYC,EAAZ,KAAuBC,EAAvB,KAA6BC,EAA7B,MAAmCzD,IAEjD,MAAM0D,EAAUJ,GAAsBC,EAEtC,OACI,eAACI,EAAA,EAAD,CAAOC,WAAW,EAAMJ,KAAMA,EAAMK,OAAQH,EAA5C,UACI,cAACC,EAAA,EAAMG,OAAP,CAAcC,aAAW,EAAzB,SACI,cAACJ,EAAA,EAAMK,MAAP,UAAchE,MAElB,cAAC2D,EAAA,EAAMM,KAAP,UAAaR,IACb,eAACE,EAAA,EAAMO,OAAP,WACKZ,GACG,cAACa,EAAA,EAAD,CAAQC,QAAQ,YAAYzE,QAAS2D,EAArC,oEAIJ,cAACa,EAAA,EAAD,CAAQC,QAAQ,UAAUzE,QAAS4D,EAAnC,iCCnBDF,O,uFCiDAgB,MA5Cf,UAAoB,QAAEC,EAAF,aAAWC,EAAX,UAAyBC,IACzC,MAAOC,EAAMC,GAAWC,mBAASL,GAE3BM,EAAgB,CAACC,EAAOC,KAC1B,MAAMzK,EAAOyK,EAAOC,UACpBL,EAAQrK,GACRkK,EAAaC,EAAWC,IAG5B,OACI,qBAAK/E,UAAU,MAAf,SACI,qBAAKA,UAAU,SAAf,SACI,cAAC,WAAD,CACIoF,OAAQE,IACR3K,KAAMoK,EACN9G,OACI,CACIsH,WAAY,CACRC,QAAS,CACL,UACA,4BACA,iDAGRC,SAAU,CACND,QAAS,CAAC,EAAG,GAAI,GAAI,UAAW,GAAI,GAAI,KAE5CE,QAAS,CAAC,UAAW,IAAK,OAAQ,SAAU,eAAgB,eAAgB,cACxE,cAAe,WAAY,kBAAmB,IAAK,OAAQ,OAAQ,WAAY,cACnFC,YAAa,iCAGrBC,SAAU,CAACT,EAAOC,KACdF,EAAcC,EAAOC,IAEzBS,OAAQ,CAACV,EAAOC,KACZF,EAAcC,EAAOC,WCxC9BT,O,gCCFf,sGAAO,MAAMmB,EAAUC,GAA0B,KAAjBA,EAAMC,OACzBC,EAAcF,GAASA,EAAMC,OAAOE,QAAU,EAC9CC,EAAUJ,GAAiC,IAAxBA,EAAMC,OAAOE,SAAiBH,EAAMC,OAAOI,SAAS,M,qCCFpF,kBASeC,IANf,WACI,MAAM,OAAE5C,EAAF,KAAUtC,GAASuC,aAAY,EAAGnG,UAAWA,IAEnD,OADoBkG,GAAUtC,IAAS/H,IAAUE,Y,0OC4NtCgN,MA3Nf,UAA2B,KAAExC,EAAF,SAAQF,EAAR,aAAkB2C,IACzC,MAAMhM,EAAWiM,eAEX,eAAEC,EAAF,WAAkBC,GAAehD,aAAY,EAAGiD,aAAcA,KAE7DC,EAAOC,GAAYC,IAAM7B,UAAS,IAClC8B,EAAWC,GAAgBF,IAAM7B,SAAS,IAC1CgC,EAAeC,GAAoBJ,IAAM7B,SAAS,KAElDkC,EAAaC,GAAkBN,IAAM7B,SAAS,CACjD9J,KAAM,GACNkM,IAAK,GACLC,MAAO,GACPC,YAAa,KAGXC,EAAc,CAACC,EAAOC,KACd,SAAVD,GAAoBT,EAAaU,EAASxB,QAE1CkB,EAAe,IACRD,EACH,CAACM,GAAQC,KA4DXC,EAAiB,KACnB/D,IACAiD,GAAS,IAGPe,EAAY,KACdR,EAAe,CACXjM,KAAM,GACNkM,IAAK,GACLC,MAAO,GACPC,YAAa,KAGjBL,EAAiB,IAEjBF,EAAa,GACbH,GAAS,IAWPgB,EAAgB9C,IAClB8B,EAAS9B,IAOP+C,EAAqBpB,GAAcA,EAAWqB,KAAI,CAACC,EAAK/M,KAC1D,MAAMgN,EAAYxB,IAAmBxL,EAErC,OACI,cAACiN,EAAA,EAASC,KAAV,CACIlI,QAAS,KAAMmI,OATHrC,EASkB9K,OARtCV,EAASS,YAAkB+K,IADPA,OAWZsC,OAAQJ,EAHZ,SAKKD,EAAI7M,MAHA6M,EAAI3L,OAQfiM,EAAkC,IAAzBrB,EAAcf,QAAgBqC,IAAIC,gBAAgBvB,GAEjE,OACI,mCACI,eAAChD,EAAA,EAAD,CAAOwE,KAAK,KAAKvE,WAAW,EAAMJ,KAAMA,EAAMK,OAAQwD,EAAtD,UACI,cAAC1D,EAAA,EAAMG,OAAP,CAAcC,aAAW,EAAzB,SACI,cAACJ,EAAA,EAAMK,MAAP,+HAGHsC,GAAS,cAAC8B,EAAA,EAAD,CAAO1I,UAAU,MAAM0E,QAAS,SAAhC,SACLkC,IAGL,cAAC3C,EAAA,EAAMM,KAAP,UACI,eAACoE,EAAA,EAAD,WACI,eAACA,EAAA,EAAKC,IAAN,WACI,eAACD,EAAA,EAAKE,MAAN,CAAYC,GAAIC,IAAKC,UAAU,eAA/B,UACI,cAACL,EAAA,EAAKM,MAAN,UACI,uCAAS,uBACLjJ,UAAW+G,EAAY,GAAK,cAAgB,GADvC,cAEHA,EAFG,YAKb,cAAC4B,EAAA,EAAKO,QAAN,CACItD,SAAUuD,GAAK3B,EAAY,OAAQ2B,EAAEC,OAAOrD,OAC5CjL,KAAK,OACL6K,YAAY,yBACZI,MAAOoB,EAAYhM,UAI3B,eAAC+M,EAAA,EAAD,CAAUlI,UAAU,OAApB,UACI,cAACkI,EAAA,EAASmB,OAAV,UACwB,OAAnB5C,EAA0B,0GAAuBC,EAAWD,GAAgBtL,OAGjF,cAAC+M,EAAA,EAASoB,KAAV,UACKxB,OAIT,eAACa,EAAA,EAAKE,MAAN,CAAYC,GAAIC,IAAKC,UAAU,gBAAgBhJ,UAAU,OAAzD,UAE8B,IAAzBiH,EAAcf,QAAgB,qBAAKlG,UAAU,gCAAf,SAC3B,qBAAKuJ,IAAKjB,EAAQkB,IAAI,oBAG1B,cAACb,EAAA,EAAKO,QAAN,CACItD,SA9EZuD,IAChBjC,EAAiBiC,EAAEC,OAAOK,MAAM,IAChCrC,EAAe,IACRD,EACHE,IAAK8B,EAAEC,OAAOK,MAAM,MA2EI3O,KAAK,OACL6K,YAAY,8BAKxB,eAACgD,EAAA,EAAKE,MAAN,CAAYG,UAAU,eAAehJ,UAAU,OAA/C,UACI,eAAC2I,EAAA,EAAKM,MAAN,eAAa,4DAAb,OAEA,cAAC,IAAD,CAAYpE,aAAc2C,EAAa5C,QAASuC,EAAYI,YAAazC,UAAU,mBAGvF,cAAC6D,EAAA,EAAKC,IAAN,UACI,eAACD,EAAA,EAAKE,MAAN,CAAYC,GAAIC,IAAK/I,UAAU,OAAOgJ,UAAU,gBAAhD,UACI,eAACL,EAAA,EAAKM,MAAN,eAAa,8DACb,cAACN,EAAA,EAAKO,QAAN,CACItD,SAAUuD,GAAK3B,EAAY,QAAS2B,EAAEC,OAAOrD,OAC7CA,MAAOoB,EAAYG,MACnB3B,YAAY,2BACZ7K,KAAK,gBAKjB,uBAEA,cAAC2J,EAAA,EAAD,CAAQC,QAAQ,YAAYzE,QAAS0H,EAArC,oEAIA,cAAClD,EAAA,EAAD,CAAQzE,UAAU,MAAM0E,QAAQ,UAAU5J,KAAK,SAASmF,QAxLpDkJ,IAGpB,GAFAA,EAAEO,iBAEqB,OAAnBjD,EAEA,YADAoB,EAAa,wJAIjB,GAAyC,KAApCV,EAAYG,MAAMtB,OAAOE,OAE1B,YADA2B,EAAa,gMAIjB,GAAwC,IAApCV,EAAYG,MAAMtB,OAAOE,OAEzB,YADA2B,EAAa,gIAIjB,GAA8C,IAA1CV,EAAYI,YAAYvB,OAAOE,OAE/B,YADA2B,EAAa,sIAIjB,GAA+B,kBAApBV,EAAYE,IAEnB,YADAQ,EAAa,2KAOjB,GAAiB,UAHLV,EAAYE,IACHvM,KAAK6O,MAAM,KAAK,GAIjC,YADA9B,EAAa,qKAIjB,GAAId,EAAY,GAEZ,YADAc,EAAa,wPAIjB,GAAIV,EAAYG,MAAQ,WAEpB,YADAO,EAAa,8JAIjB,MAAMjJ,EAAU,IACTuI,GAGPS,IAEAhE,IACA2C,EAAa3H,IAmIG,yE,cC9JTgL,MAhDf,WACI,MAAMrP,EAAWiM,eACX,eAAEC,EAAF,OAAkBlL,EAAlB,UAA0BE,GAAciI,aAAY,EAAGiD,aAAcA,KACrE,MAAEhL,EAAF,KAASD,GAASgI,aAAY,EAAGmG,WAAYA,KAE5CC,EAAcC,GAAmBjD,IAAM7B,UAAS,GA4BvD,OACI,sBAAKjF,UAAU,iCAAf,UACI,cAACyE,EAAA,EAAD,CAAQxE,QA5BD,KACX8J,GAAgB,IA2BZ,+FACA,cAAC,EAAD,CACIjG,KAAMgG,EACNlG,SA3BO,KACfmG,GAAgB,IA2BRxD,aAxBU3H,IAClB,IACI,MAAMoL,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQtL,EAAQzD,MAChC6O,EAASE,OAAO,QAAStL,EAAQ0I,OACjC0C,EAASE,OAAO,cAAetL,EAAQ2I,aACvCyC,EAASE,OAAO,aAAczD,GAC9BuD,EAASE,OAAO,MAAOtL,EAAQyI,KAE/B3I,YAAcsL,GAAUtP,MAAKC,IACzBJ,EAASe,YAAWC,EAAQkL,EAAgBhL,EAAWC,EAAMC,OAGnE,MAAOwN,GACLgB,MAAMhB,EAAEiB,SAASzP,KAAK0P,WAWlBC,OAAQ,SACRC,gBAAiB9D,Q,QCTlB+D,MAnCf,UAA4B,GAAEnO,EAAF,KAAMlB,IAC9B,MAAMZ,EAAWiM,eACX,eAAEC,EAAF,OAAkBlL,EAAlB,UAA0BE,GAAciI,aAAY,EAAGiD,aAAcA,KAEpE7C,EAAM2G,GAAW3D,IAAM7B,UAAS,GAYjCyF,EAAa,KACfD,GAAS3G,IAGb,OACI,qCACI,cAAC,IAAD,CACIA,KAAMA,EACNF,SAlBK,IAAM6G,GAAQ,GAmBnB5G,UAjBM,KACd6G,IAEA3L,YAAc1C,GAAI3B,MAAKC,IACnBJ,EAASe,YAAWC,EAAQkL,EAAgBhL,QAcxC6E,MAAK,mEAAiBnF,EAAjB,KACL4I,KAAI,wLAAuC5I,EAAvC,QAGR,qBAAK6E,UAAU,cAAcC,QAASyK,EAAtC,mB,gBCmOGC,MA5Pf,UAA2B,YAAEnO,IACzB,MAAMjC,EAAWiM,eAEVsD,EAAcC,GAAmBjD,IAAM7B,UAAS,IAChD2B,EAAOC,GAAYC,IAAM7B,UAAS,IAClC8B,EAAWC,GAAgBF,IAAM7B,SAAS,IAC1C2F,EAAWC,GAAgB/D,IAAM7B,SAASzI,EAAYgC,aACtDyI,EAAeC,GAAoBJ,IAAM7B,SAAS,KAElDkC,EAAaC,GAAkBN,IAAM7B,SAAS,IAC9CzI,KAGD,WAAEkK,GAAehD,aAAY,EAAGiD,aAAcA,IAa9CmE,EAAa,KACff,GAAgB,IAGpBjD,IAAMiE,WAAU,KACZxQ,EAASD,iBACV,CAACC,IAEJ,MAiBMiN,EAAc,CAACC,EAAOC,KACd,SAAVD,GAAoBT,EAAaU,EAASxB,QAE1CkB,EAAe,IACRD,EACH,CAACM,GAAQC,KAqDXC,EAAiB,KACnBmD,IACAlD,KAGEA,EAAY,KACdR,EAAe,IACR5K,IAGPwK,EAAaxK,EAAYrB,KAAK+K,QAC9B2E,EAAarO,EAAYgC,YACzBqI,GAAS,IAYPgB,EAAgB9C,IAClB8B,EAAS9B,IAQP+C,EAAqBpB,GAAcA,EAAWqB,KAAI,CAACC,EAAK/M,KAC1D,MAAMgN,EAAY2C,IAAc3P,EAEhC,OACI,cAACiN,EAAA,EAASC,KAAV,CACIlI,QAAS,KAAMmI,OATvByC,EADoB9E,EAUkB9K,QARtCmM,EAAe,IAAKD,EAAa3I,WAAYuH,IAFzBA,OAYZsC,OAAQJ,EAHZ,SAKKD,EAAI7M,MAHA6M,EAAI3L,OAQfiM,EAAkC,IAAzBrB,EAAcf,OAAd,UACRjM,IAAcG,UADN,OACiB+M,EAAYE,KAAQkB,IAAIC,gBAAgBvB,GAExE,OACI,qCACI,qBAAKjH,UAAU,UAAUC,QAlJlB,KACX8J,GAAgB,GAChBc,EAAarO,EAAYgC,YAEzB4I,EAAe,IACR5K,IAGP0K,EAAiB,KA0Ib,SACI,cAAC,IAAD,MAGJ,eAACjD,EAAA,EAAD,CAAOwE,KAAK,KAAKvE,WAAW,EAAMJ,KAAMgG,EAAc3F,OAAQwD,EAA9D,UACI,cAAC1D,EAAA,EAAMG,OAAP,CAAcC,aAAW,EAAzB,SACI,cAACJ,EAAA,EAAMK,MAAP,4GAGHsC,GAAS,cAAC8B,EAAA,EAAD,CAAO1I,UAAU,MAAM0E,QAAS,SAAhC,SACLkC,IAGL,cAAC3C,EAAA,EAAMM,KAAP,UACI,eAACoE,EAAA,EAAD,WACI,eAACA,EAAA,EAAKC,IAAN,WACI,eAACD,EAAA,EAAKE,MAAN,CAAYC,GAAIC,IAAKC,UAAU,eAA/B,UACI,cAACL,EAAA,EAAKM,MAAN,UACI,+DAAQ,sBACJjJ,UAAW+G,EAAY,GAAK,cAAgB,GADxC,SAGFA,EAAD,WAAwBA,EAAxB,MAAa,WAItB,cAAC4B,EAAA,EAAKO,QAAN,CACItD,SAAUuD,GAAK3B,EAAY,OAAQ2B,EAAEC,OAAOrD,OAC5CjL,KAAK,OACL6K,YAAY,yBACZI,MAAOoB,GAAeA,EAAYhM,UAI1C,qBAAK6E,UAAU,gCAAf,SACI,qBAAKuJ,IAAKjB,EAAQkB,IAAI,oBAG1B,cAACb,EAAA,EAAKE,MAAN,CAAYC,GAAIC,IAAKC,UAAU,gBAAgBhJ,UAAU,OAAzD,SACI,cAAC2I,EAAA,EAAKO,QAAN,CACItD,SA5EZuD,IAChBjC,EAAiBiC,EAAEC,OAAOK,MAAM,IAEhCrC,EAAe,IACRD,EACHE,IAAK8B,EAAEC,OAAOK,MAAM,MAwEI3O,KAAK,OACL6K,YAAY,0BAIpB,eAACuC,EAAA,EAAD,CAAUlI,UAAU,OAApB,UACI,cAACkI,EAAA,EAASmB,OAAV,UACM3C,GAAeA,EAAWkE,GAAoClE,EAAWkE,GAAWzP,KAA7C,4GAG7C,cAAC+M,EAAA,EAASoB,KAAV,UACKxB,UAMb,eAACa,EAAA,EAAKE,MAAN,CAAYG,UAAU,eAAehJ,UAAU,OAA/C,UACI,eAAC2I,EAAA,EAAKM,MAAN,eAAa,4DAAb,OAEA,cAAC,IAAD,CAAYpE,aAAc2C,EAAa1C,UAAW,cAAeF,QAASuC,EAAYI,iBAG1F,cAACoB,EAAA,EAAKC,IAAN,UACI,eAACD,EAAA,EAAKE,MAAN,CAAYC,GAAIC,IAAK/I,UAAU,OAAOgJ,UAAU,gBAAhD,UACI,eAACL,EAAA,EAAKM,MAAN,eAAa,8DACb,cAACN,EAAA,EAAKO,QAAN,CACItD,SAAUuD,GAAK3B,EAAY,QAAS2B,EAAEC,OAAOrD,OAC7CA,MAAOoB,EAAYG,MACnB3B,YAAY,2BACZ7K,KAAK,gBAKjB,uBAEA,cAAC2J,EAAA,EAAD,CAAQC,QAAQ,YAAYzE,QAAS0H,EAArC,oEAIA,cAAClD,EAAA,EAAD,CAAQzE,UAAU,MAAM0E,QAAQ,UAAU5J,KAAK,SAASmF,QAtLpDkJ,IAGpB,GAFAA,EAAEO,iBAE6B,kBAApBvC,EAAYE,IAAkB,CAKrC,GAAiB,UAJLF,EAAYE,IAEHvM,KAAK6O,MAAM,KAAK,GAIjC,YADA9B,EAAa,qKAKrB,IAAKV,EAAYhM,KAAK6P,QAAQ,MAAO,IAAI9E,OAErC,YADA2B,EAAa,gMAIjB,GAA+B,OAA3BrL,EAAYgC,aAAwBkI,EAAWS,EAAY3I,YAE3D,YADAqJ,EAAa,wJAIjB,IAAK,IAAIoD,KAAO9D,EACZ,GAAyB,KAArBA,EAAY8D,GAEZ,YADApD,EAAa,+JAKrB,GAAId,EAAY,GAEZ,YADAc,EAAa,wPAIjB,IAAKV,EAAYG,MAAQ4D,OAAOC,iBAE5B,YADAtD,EAAa,8JAIjB,MAAMjJ,EAAU,IACTuI,GAGP2D,IAvEkBlM,KAClB,IACI,MAAMoL,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQtL,EAAQzD,MAChC6O,EAASE,OAAO,QAAStL,EAAQ0I,OACjC0C,EAASE,OAAO,cAAetL,EAAQ2I,aAChB,kBAAhB3I,EAAQyI,KAAoB2C,EAASE,OAAO,MAAOtL,EAAQyI,KAClE2C,EAASE,OAAO,aAActL,EAAQJ,YACtCK,YAAcmL,EAAUxN,EAAYH,IAAI3B,MAAKC,IACzCJ,EAAS6B,YAAiBI,EAAYH,KACtC9B,EAAS0B,YAAkBO,EAAYgC,gBAE7C,MAAO2K,GACLgB,MAAMhB,EAAEiB,SAASzP,KAAK0P,WA2D1B9D,CAAa3H,IAwIG,2E,yDC3PjB,MAAMwM,EAAO,MAEdC,EAAQ,CAACC,EAAOC,KAClB,IAAIrF,EAASqF,EAAMD,EAAQ,EAC3B,OAAOE,MAAMC,KAAK,CAAEvF,WAAU,CAACwF,EAAGC,IAAQA,EAAML,K,kBCsErCM,MAvEIC,IACf,MAAM,aACFC,EADE,WAEFnP,EAFE,aAGFoP,EAAe,EAHb,YAIFC,EAJE,SAKFC,EALE,UAMFjM,GACA6L,EAEEK,EDNmB,GACzBvP,aACAsP,WACAF,eAAe,EACfC,iBAEwBG,mBAAQ,KAC5B,MAAMC,EAAiBC,KAAKC,KAAK3P,EAAasP,GAS9C,GANyBF,EAAe,GAMhBK,EACpB,OAAOf,EAAM,EAAGe,GAGpB,MAAMG,EAAmBF,KAAKG,IAAIR,EAAcD,EAAc,GACxDU,EAAoBJ,KAAKK,IAC3BV,EAAcD,EACdK,GAQEO,EAAqBJ,EAAmB,EACxCK,EAAsBH,EAAoBL,EAAiB,EAG3DS,EAAgBT,EAEtB,IAAKO,GAAsBC,EAIvB,MAAO,IAFSvB,EAAM,EADF,EAAI,EAAIU,GAGNX,EAAMgB,GAGhC,GAAIO,IAAuBC,EAAqB,CAC5C,IACIE,EAAazB,EACbe,GAFiB,EAAI,EAAIL,GAES,EAClCK,GAEJ,MAAO,CAhBY,EAgBKhB,KAAS0B,GAGrC,GAAIH,GAAsBC,EAAqB,CAC3C,IAAIG,EAAc1B,EAAMkB,EAAkBE,GAC1C,MAAO,CArBY,EAqBKrB,KAAS2B,EAAa3B,EAAMyB,MAEzD,CAAClQ,EAAYsP,EAAUF,EAAcC,ICnDhBgB,CAAc,CAClChB,cACArP,aACAoP,eACAE,aAGJ,GAAoB,IAAhBD,GAAqBE,EAAgBhG,OAAS,EAC9C,OAAO,KAYX,IAAI+G,EAAWf,EAAgBA,EAAgBhG,OAAS,GACxD,OACI,qBACIlG,UAAWkN,IAAW,uBAAwB,CAAE,CAAClN,GAAYA,IADjE,UAGI,oBACIA,UAAWkN,IAAW,kBAAmB,CACrCC,SAA0B,IAAhBnB,IAEd/L,QAdO,KACf6L,EAAaE,EAAc,GAC3B/K,QAAQC,IAAI,UAQR,SAMI,qBAAKlB,UAAU,iBAElBkM,EAAgBnE,KAAI,CAACrL,EAAYzB,IAC1ByB,IAAe0O,EACR,oBAAgBpL,UAAU,uBAA1B,mBAAS/E,GAIhB,oBACI+E,UAAWkN,IAAW,kBAAmB,CACrCE,SAAU1Q,IAAesP,IAE7B/L,QAAS,IAAM6L,EAAapP,GAJhC,SAMKA,GANIA,EAAa,GAAKzB,KAUnC,oBACI+E,UAAWkN,IAAW,kBAAmB,CACrCC,SAAUnB,IAAgBiB,IAE9BhN,QA1CG,KACX6L,EAAaE,EAAc,IAqCvB,SAMI,qBAAKhM,UAAU,sBCrEhB4L,O,iMC+JAyB,MAtJf,UAA6B,KAAE1S,EAAF,WAAQ2S,IACjC,MAAOxD,EAAcC,GAAmBjD,IAAM7B,UAAS,IAChD2B,EAAOC,GAAYC,IAAM7B,UAAS,IAClC8B,EAAWC,GAAgBF,IAAM7B,SAAS,IAC1CkC,EAAaC,GAAkBN,IAAM7B,SAAS,IAAKtK,IAE1DmM,IAAMiE,WAAU,KACZ3D,EAAe,IAAKzM,MACrB,CAACA,IAEJ,MAMMmQ,EAAa,KACff,GAAgB,IAyCdvC,EAAc,CAACC,EAAOC,KACd,UAAVD,GAAqBT,EAAaU,EAASxB,QAE3CkB,EAAe,IACRD,EACH,CAACM,GAAQC,KAWXG,EAAgB9C,IAClB8B,EAAS9B,IAGb,OACI,qCACI,qBAAK/E,UAAU,UAAUC,QAtElB,KACXmH,EAAe,IAAKzM,IACpBqM,EAAarM,EAAK2F,MAAM4F,QACxB6D,GAAgB,IAmEZ,SACI,cAAC,IAAD,MAGJ,qBAAK9J,QAASkJ,GAAKA,EAAEoE,kBAArB,SAEI,eAACtJ,EAAA,EAAD,CAAOwE,KAAK,KAAKvE,WAAW,EAAMJ,KAAMgG,EAAc3F,OAAQ2G,EAA9D,UACI,cAAC7G,EAAA,EAAMG,OAAP,CAAcC,aAAW,EAAzB,SACI,cAACJ,EAAA,EAAMK,MAAP,4GAGHsC,GAAS,cAAC8B,EAAA,EAAD,CAAO1I,UAAU,MAAM0E,QAAS,SAAhC,SACLkC,IAGL,cAAC3C,EAAA,EAAMM,KAAP,UACI,eAACoE,EAAA,EAAD,WACI,eAACA,EAAA,EAAKC,IAAN,WACI,eAACD,EAAA,EAAKE,MAAN,CAAYC,GAAIC,IAAKC,UAAU,eAA/B,UACI,cAACL,EAAA,EAAKM,MAAN,UACI,yFAAc,uBACVjJ,UAAW+G,EAAY,GAAK,cAAgB,GADlC,cAERA,EAFQ,YAKlB,cAAC4B,EAAA,EAAKO,QAAN,CACItD,SAAUuD,GAAK3B,EAAY,QAAS2B,EAAEC,OAAOrD,OAC7CjL,KAAK,OACL6K,YAAY,yBACZI,MAAOoB,GAAeA,EAAY7G,WAI1C,qBAAKN,UAAU,iDAAf,SACI,qBAAKuJ,IAAG,UAAKtP,IAAcE,YAAnB,OAAgCQ,EAAK0M,KAAOmC,IAAI,oBAG5D,cAACb,EAAA,EAAKE,MAAN,CAAYC,GAAIC,IAAKC,UAAU,gBAAgBhJ,UAAU,OAAzD,SACI,cAAC2I,EAAA,EAAKO,QAAN,CACItD,SApDhBuD,IAChB/B,EAAe,IACRD,EACHE,IAAK8B,EAAEC,OAAOK,MAAM,MAkDQ3O,KAAK,OACL6K,YAAY,6BAKxB,eAACgD,EAAA,EAAKE,MAAN,CAAYG,UAAU,eAAehJ,UAAU,OAA/C,UACI,eAAC2I,EAAA,EAAKM,MAAN,eAAa,kEAAb,OAEA,cAAC,IAAD,CAAYpE,aAAc2C,EAAa1C,UAAW,OAAQF,QAASuC,EAAYpC,UAGnF,uBAEA,cAACN,EAAA,EAAD,CAAQC,QAAQ,YAAYzE,QAAS6K,EAArC,oEAIA,cAACrG,EAAA,EAAD,CAAQzE,UAAU,MAAM0E,QAAQ,UAAU5J,KAAK,SAASmF,QAtHzD,KACnB,GAA+B,kBAApBkH,EAAYE,IAAkB,CAKrC,GAAiB,UAJLF,EAAYE,IAEHvM,KAAK6O,MAAM,KAAK,GAIjC,YADA9B,EAAa,qKAKrB,IAAK,IAAIoD,KAAO9D,EACZ,GAAyB,KAArBA,EAAY8D,GAEZ,YADApD,EAAa,+JAKrB,GAAKV,EAAY7G,MAAM0K,QAAQ,MAAO,IAAI9E,OAK1C,IACI,MAAM8D,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAAS/C,EAAY7G,OACrC0J,EAASE,OAAO,OAAQ/C,EAAYpC,MACT,kBAApBoC,EAAYE,KAAoB2C,EAASE,OAAO,MAAO/C,EAAYE,KAC1EhI,YAAgB1E,EAAK0B,GAAI2N,GAAUtP,MAAKC,IACpC2S,IACAxC,OAEN,MAAO3B,GACLgB,MAAMhB,EAAEiB,SAASzP,KAAK0P,cAdtBxC,EAAa,wIAkGG,6E,sICnGb2F,MAxCS,EAAGlN,QAAOpE,YAC9B,MAAM3B,EAAWiM,cAEXiH,EAAY/J,aAAY,EAAGgK,UAAWA,EAAK7S,SAC3C,SAAE4F,EAAF,aAAYkN,GAAiBjK,aAAY,EAAGmG,WAAYA,IAE9D/C,IAAMiE,WAAU,KACZxQ,EAAS0B,YAAkBC,MAC5B,CAAC3B,EAAU2B,IAEd,MAAM0R,EAAuB5Q,IACzBzC,EAASwC,YAAcC,KAGrBnC,EAAQ8S,GAAgBA,EAAa5F,KAAI,EAAG1L,QAAOiD,MACrD,MAAMuO,EAAeJ,EAAUpR,IAAOoR,EAAUpR,GAAI6J,OACpD,OAAO,cAAC,IAAD,CAEH4H,cAAeF,EACfC,aAAcA,EACdxR,GAAIA,KACAiD,GAJCjD,MAQb,OAAKxB,GAAUA,EAAMqL,OAOjB,cAAC,IAAD,CAAW5F,MAAOA,EAAOG,SAAUA,EAAnC,SACI,qBAAKT,UAAU,qBAAf,SACMS,EAAyB5F,EAAd,cAAC,IAAD,QARd,cAAC,IAAD,CAAWyF,MAAOA,EAAOG,SAAUA,EAAnC,SACH,mBAAGT,UAAU,iCAAb,sGClCGwN,O,6FCgDAO,MAzCf,UAAkB,GAAE1R,EAAF,KAAMlB,EAAN,IAAYkM,EAAZ,MAAiBC,EAAjB,cAAwBwG,EAAxB,aAAuCD,IACrD,MAAMG,EAAUxK,cACVyK,EAAc5H,cAapB,OACI,sBAAKrG,UAAU,YAAf,UACKgO,GAAWC,EAAc,cAAC,IAAD,CAAoB9S,KAAMA,EAAMkB,GAAIA,IAAS,GACvE,qBAAK2D,UAAU,iBAAf,SACI,qBAAKuJ,IAAG,UAAKtP,IAAcG,UAAnB,OAA8BiN,GAAOmC,IAAI,aAErD,qBAAKxJ,UAAU,mBAAf,SACI,cAAC,IAAD,CAAMkO,GAAE,gBAAW7R,GAAnB,SAA0BlB,MAG9B,qBAAK6E,UAAU,oBAAf,SACI,sBAAKA,UAAU,MAAf,UACI,sBAAKA,UAAU,mCAAf,UACKsH,EADL,aAGA,qBAAKtH,UAAU,8BAAf,SACI,yBAAQC,QA3BV,KAQd6N,EAPY,CACRzR,KACAlB,OACAkM,MACAC,WAsBwCtH,UAAU,kBAAtC,mDACa6N,GAAgB,+BAAOA,kBCvC7CE,O,oDCuBAI,MArBf,UAAuB,OAAEC,IAErB,MAAMC,EAAU,oBAAgBD,EAAS,UAAY,IAErD,OACI,qBACIpO,UAAS,oBAAeqO,GACxBC,MAAM,KACNC,OAAO,KACPpO,QAAQ,WACRqO,KAAK,OACLC,MAAM,6BANV,SAQI,sBACIrO,EAAE,4WACFoO,KAAK,eClBNL,O,uoBCDf,MAAMO,EAAe,CACjB7T,MAAO,GACP2B,YAAa,GACbd,KAAM,EACNiB,WAAY,EACZhB,MAAO,EACP8E,UAAU,GAiDCoJ,MA9CD,CAAC8E,EAAQD,EAAcpE,KACjC,OAAQA,EAAOxP,MACX,IAAK,YACD,MAAO,IACA6T,EACH9T,MAAOyP,EAAOvP,QACd0F,UAAU,GAElB,IAAK,oBACD,MAAO,IACAkO,EACHhB,aAAcrD,EAAOvP,QACrB0F,UAAU,GAElB,IAAK,mBACD,MAAO,IACAkO,EACHnS,YAAa8N,EAAOvP,QACpB0F,UAAU,GAElB,IAAK,aACD,MAAO,IACAkO,EACHlO,SAAU6J,EAAOvP,SAEzB,IAAK,WACD,MAAO,IACA4T,EACHjT,KAAM4O,EAAOvP,SAErB,IAAK,YACD,MAAO,IACA4T,EACHhT,MAAO2O,EAAOvP,SAEtB,IAAK,kBACD,MAAO,IACA4T,EACHhS,WAAY2N,EAAOvP,SAE3B,QACI,OAAO4T,IClDnB,MAAMD,EAAe,CACjBjI,eAAgB,KAChBlL,OAAQ,OACRE,UAAW,OAoCAkL,MAjCC,CAACgI,EAAQD,EAAcpE,IACf,gBAAhBA,EAAOxP,KACA,IACA6T,EACHpT,OAAQ+O,EAAOvP,SAIH,mBAAhBuP,EAAOxP,KACA,IACA6T,EACHlT,UAAW6O,EAAOvP,SAIN,mBAAhBuP,EAAOxP,KACA,IACA6T,EACHjI,WAAY4D,EAAOvP,SAIP,wBAAhBuP,EAAOxP,KACA,IACA6T,EACHlI,eAAgB6D,EAAOvP,SAIxB4T,ECnCX,MAAMD,EAAe,CACjB7T,MAAO,GACP4F,UAAU,GAeCmO,MAZI,CAACD,EAAQD,EAAcpE,IAClB,mBAAhBA,EAAOxP,KACA,IACA6T,EACH9T,MAAOyP,EAAOvP,QACd0F,UAAU,GAGXkO,ECbX,MAAMD,EAAe,CACjB7T,MAAO,GACP8B,WAAY,EACZkS,WAAY,GAGVC,EAAa,CAACH,EAAOtS,IACR0S,OAAOC,KAAKL,GAAOM,QAAOhE,GACrCA,IAAG,UAAQ5O,KAAM6S,QAAO,CAAClS,EAAKiO,KAC1BjO,EAAIiO,GAAO0D,EAAM1D,GACVjO,IACR,IAyEI0Q,MArEF,CAACiB,EAAQD,EAAcpE,KAChC,MAAMvP,EAAUuP,EAAOvP,QAEvB,OAAQuP,EAAOxP,MACX,IAAK,mBACD,MAAMuB,EAAKtB,EAAQsB,GACbiD,EAAOqP,EAAM9T,MAAMwB,GAEzB,MAAO,IACAsS,EACH9T,MAAO,IACA8T,EAAM9T,MACT,CAACwB,GAAMiD,EAAmB,IAAIqP,EAAM9T,MAAMwB,GAAKtB,GAAjC,CAACA,IAEnBoU,eAAgB,IACTR,EAAMQ,eACT,CAAC9S,GAAKiD,EAAOqP,EAAMQ,eAAe9S,GAAM,EAAI,GAEhD+S,eAAgB,IACTT,EAAMS,eACT,CAAC/S,GAAKiD,EAAOqP,EAAMS,eAAe/S,GAAMtB,EAAQuM,MAAQvM,EAAQuM,OAEpE3K,WAAYgS,EAAMhS,WAAa,EAC/BkS,WAAYF,EAAME,WAAa9T,EAAQuM,OAG/C,IAAK,kBACD,MAAO+H,KAAWC,GAAgBX,EAAM9T,MAAME,GAE9C,MAAO,IACA4T,EACH9T,MAAO,IACA8T,EAAM9T,MACT,CAACE,GAAUuU,GAEfF,eAAgB,IACTT,EAAMS,eACT,CAACrU,GAAU4T,EAAMS,eAAerU,GAAWsU,EAAO/H,OAEtD6H,eAAgB,IACTR,EAAMQ,eACT,CAACpU,GAAU4T,EAAMQ,eAAepU,GAAW,GAE/C4B,WAAYgS,EAAMhS,WAAa,EAC/BkS,WAAYF,EAAME,WAAaQ,EAAO/H,OAG9C,IAAK,mBACD,MAAO,IACAqH,EACH9T,MAAOiU,EAAWH,EAAM9T,MAAOE,GAC/BqU,eAAgBN,EAAWH,EAAMS,eAAgBrU,GACjDoU,eAAgBL,EAAWH,EAAMQ,eAAgBpU,GACjD4B,WAAYgS,EAAMhS,WAAagS,EAAMQ,eAAepU,GACpD8T,WAAYF,EAAME,WAAaF,EAAMS,eAAerU,IAG5D,IAAK,aACD,MAAO,CACHF,MAAO,GACP8B,WAAY,EACZkS,WAAY,GAGpB,QACI,OAAOF,IChFnB,MAAMD,EAAe,CACjBvN,KAAM,OACNsC,QAAQ,EACR3C,MAAO,GACP3F,KAAM,GACNkB,GAAI,GACJ2E,MAAO,IAmCIzD,MAhCF,CAACoR,EAAQD,EAAcpE,KAChC,OAAQA,EAAOxP,MACX,IAAK,cACD,MAAO,IACA6T,EACHlL,OAAQ6G,EAAOvP,SAEvB,IAAK,WACD,MAAO,IACA4T,KACArE,EAAOvP,SAElB,IAAK,WACD,MAAO,IACA4T,EACHxN,KAAMmJ,EAAOvP,SAErB,IAAK,kBACD,MAAO,CACHoG,KAAM,OACNsC,QAAQ,EACR3C,MAAO,GACP3F,KAAM,GACNkB,GAAI,GACJ2E,MAAO,IAEf,QACI,OAAO2N,ICpCnB,MAAMD,EAAe,CACjB7T,MAAO,GACP0U,WAAY,EACZ5S,WAAY,EACZhB,MAAO,GACP8E,UAAU,EACV+O,oBAAoB,GAgHTC,MA1FA,CAACd,EAAQD,EAAcpE,KAClC,OAAQA,EAAOxP,MACX,IAAK,aACD,MAAM4U,EAAa,GAEnB,IAAK,IAAIC,EAAI,EAAGA,EAAIrF,EAAOvP,QAAQmL,OAAQyJ,IAElCD,EAAWpF,EAAOvP,QAAQ4U,GAAGC,eAC9BF,EAAWpF,EAAOvP,QAAQ4U,GAAGC,aAAe,IAGhDF,EAAWpF,EAAOvP,QAAQ4U,GAAGC,aAAaC,KAAKvF,EAAOvP,QAAQ4U,IAGlE,MAAMG,EAAc,GAEpB,IAAK,IAAI7E,KAAOyE,EAAY,CACxB,MAAMK,EAAQ,GACdA,EAAMH,YAAcF,EAAWzE,GAAK,GAAG2E,YACvCG,EAAMC,SAAWN,EAAWzE,GAAK,GAAG+E,SACpCD,EAAME,UAAYP,EAAWzE,GAAK,GAAGgF,UACrCF,EAAMG,UAAYR,EAAWzE,GAAK,GAAGiF,UACrCH,EAAM1T,GAAKqT,EAAWzE,GAAK,GAAG5O,GAC9B0T,EAAMI,YAAcT,EAAWzE,GAAK,GAAGmF,OACvCL,EAAMM,KAAOX,EAAWzE,GAAK,GAAGqF,UAChCP,EAAMlG,MAAQ,GAEdiG,EAAYD,KAAKE,GAGrB,MAAO,IACApB,EACH9T,MAAO,IAAIiV,GACXrP,UAAU,GAGlB,IAAK,mBACD,MAAM+B,EAAU8H,EAAOvP,QAAQ,GAAG6U,YAClC,IAAIW,EAEJ,IAAK,IAAIZ,EAAI,EAAGA,EAAIhB,EAAM9T,MAAMqL,OAAQyJ,IAEpCY,EAAgB,IACT5B,EAAM9T,OAGT8T,EAAM9T,MAAM8U,GAAGC,cAAgBpN,EAC/B+N,EAAcZ,GAAG9F,MAAQ,IAAIS,EAAOvP,SAEpCwV,EAAcZ,GAAG9F,MAAQ,IAAI8E,EAAM9T,MAAM8U,GAAG9F,OAIpD,MAAO,IACA8E,EACH9T,MAAO0V,EAAgB,IAAIA,GAAiB,GAC5C9P,UAAU,GAGlB,IAAK,oBACD,MAAO,IACAkO,EACHlO,SAAU6J,EAAOvP,SAEzB,IAAK,0BACD,MAAO,IACA4T,EACHa,mBAAoBlF,EAAOvP,SAEnC,IAAK,kBACD,MAAO,IACA4T,EACHY,WAAYjF,EAAOvP,SAE3B,IAAK,YACD,MAAO,IACA4T,EACHhT,MAAO2O,EAAOvP,SAEtB,IAAK,kBACD,MAAO,IACA4T,EACHhS,WAAY2N,EAAOvP,SAE3B,QACI,OAAO4T,IC/FJ6B,MATKC,YAAgB,CAChC5G,QACAlD,UACAiI,aACAlB,OACAnQ,OACAkS,WCVJ,MAAMiB,EAAkBC,OAAOC,sCAAwCC,IAOxDC,MALDC,YACVP,EACAE,EAAgBM,YAAgBC,O,QCKrBC,mBAXK,EAAG3Q,WAAU4Q,UAAYC,gBAC3CrG,qBAAU,KACR4F,OAAOU,SAAS,CACdC,IAAK,EACLC,KAAM,MAEP,CAACH,IAEG7Q,GAAY,Q,+BC2BNiR,ICpCAA,EDIQ,IAEf,qBAAIxR,UAAU,kBAAd,UACI,6BACI,cAAC,IAAD,CACIyR,gBAAgB,0BAChBC,OAAO,EAAMxD,GAAI5V,IAAOG,WAF5B,4DAIJ,6BACI,cAAC,IAAD,CACIgZ,gBAAgB,0BAChBvD,GAAI5V,IAAOI,YAFf,uDAIJ,6BACI,cAAC,IAAD,CACI+Y,gBAAgB,0BAChBvD,GAAI5V,IAAOK,eAFf,kEAIJ,6BACI,cAAC,IAAD,CACI8Y,gBAAgB,0BAChBvD,GAAI5V,IAAOQ,WAFf,4DAIJ,6BACI,cAAC,IAAD,CACI2Y,gBAAgB,0BAChBvD,GAAI5V,IAAOM,uBAFf,iHE9BD,MAA0B,iC,OCsB1B+Y,ICpBAA,EDKf,UAAkB,WAAEtD,IAEhB,MAAMrO,EAAaqO,EAAD,UAAkCA,EAAlC,gCAElB,OACI,qBAAKrO,UAAWA,EAAhB,SACI,cAAC,IAAD,CAAMkO,GAAI5V,IAAOG,WAAjB,SACI,qBAAKuH,UAAU,aAAf,SACI,qBAAKuJ,IAAKqI,EAAMpI,IAAI,gB,OESzBqI,ICvBAA,EDKf,WAEI,OACI,qBAAI7R,UAAU,cAAd,UACI,6BACI,cAAC,IAAD,CACIyR,gBAAgB,sBAChBvD,GAAI5V,IAAOC,YAFf,sDAIJ,6BACI,cAAC,IAAD,CACIkZ,gBAAgB,sBAChBvD,GAAI5V,IAAOE,mBAFf,kF,OEwBDsZ,ICtCAA,EDQf,WACI,MAAOC,EAAUC,GAAelL,IAAM7B,UAAS,IACzC,OAAExB,GAAWC,aAAY,EAAGnG,UAAWA,IAEvC0U,EAAa,KACfD,GAAYE,IAAcA,KAG9B,OACI,sBAAKlS,UAAU,sBAAf,UACI,sBAAKA,UAAU,kBAAkBC,QAASgS,EAA1C,UACI,yBACA,yBACA,4BAGJ,sBAAKhS,QAASgS,EAAYjS,UAAY+R,EAA2B,wBAAhB,cAAjD,UACI,cAAC,EAAD,IACA,cAAC,EAAD,KACEtO,GAAU,cAAC,EAAD,OAGhB,qBACIzD,UAAW+R,EAAW,iBAAmB,wBACzC9R,QAASgS,Q,yBEgCVE,ICjEAA,EDUf,WACI,MAAM5X,EAAWiM,cACX1G,EAAUC,eAEV,KAAE5E,EAAF,MAAQiX,EAAR,KAAejR,EAAf,OAAqBsC,GAAWC,aAAY,EAAGnG,UAAWA,IAE1DyS,EEjB0B7U,IAC5BA,EAAK6K,OAAOI,SAAS,KACdjL,EAAKwO,MAAM,KAAK,GAEpBxO,EAAK+K,OAAS,GAAK/K,EAAKkX,MAAM,EAAG,IAAM,MAAQlX,EFarCmX,CAAoBnX,GAe/B6S,EAAU7M,IAAS/H,IAAUC,OAASoK,EAEtC8O,EAAYH,GAAQtY,IAAYC,MAEtC,OACI,sBAAKiG,UAAU,aAAf,UACI,qBAAKA,UAAU,WAAf,SACI,qBAAKuJ,IAAG,UAAKtP,IAAcI,OAAnB,OAA2BkY,GAAY/I,IAAI,kBAGvD,eAACgJ,EAAA,EAAD,CAAgBnW,GAAG,wBAAwBiE,MAAO0P,EAAlD,UAEI,cAAC9H,EAAA,EAASC,KAAV,CAAeW,GAAI2J,IAAMC,SAAU,IAAKxE,GAAI5V,IAAOY,aAAnD,wDAIC8U,GACM,cAAC9F,EAAA,EAASC,KAAV,CAAeW,GAAI2J,IAAMC,SAAU,IAAKxE,GAAI5V,IAAOU,WAAnD,2HAIP,cAACkP,EAAA,EAASC,KAAV,CAAeW,GAAI2J,IAAMC,SAAU,IAAKxE,GAAI5V,IAAOW,YAAnD,yGAIA,cAACiP,EAAA,EAASC,KAAV,CAAelI,QAtCZ,KACX1F,EAASiD,eACT,MAAM4T,EAAWtR,EAAQqR,SAASC,SAE9BA,IAAa9Y,IAAOW,aACpBmY,IAAa9Y,IAAOY,cACpBkY,IAAa9Y,IAAOU,YACpB8G,EAAQ+P,KAAK,KAGjBzR,aAAauU,WAAW,UA4BgBD,SAAU,IAA1C,mDGzDD,MAA0B,iC,OCuE1BtO,ICrEAA,EDYA,KACX,MAAOwO,EAAkBC,GAAuB/L,IAAM7B,UAAS,IAEzD,WAAE4J,EAAF,WAAclS,GAAe+G,aAAY,EAAGgK,UAAWA,KACvD,OAAEjK,GAAWC,aAAY,EAAGnG,UAAWA,IAEvCuV,EAAc,mCAA+BF,EAAmB,OAAS,IAiB/E,OAfA9L,IAAMiE,WAAU,KACZ,GAAmB,IAAfpO,EACA,OAEJkW,GAAoB,GAEpB,MAAME,EAAQC,YAAW,KACrBH,GAAoB,KACrB,KAEH,MAAQ,KACJI,aAAaF,MAElB,CAACpW,IAGA,qBAAKqD,UAAU,4BAAf,SAEI,qBAAKA,UAAU,YAAf,SACI,sBAAKA,UAAU,MAAf,UACI,sBAAKA,UAAU,0BAAf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,CAAUqO,WAAY,mBAG1B,qBAAKrO,UAAU,iDAAf,SACI,cAAC,EAAD,MAGJ,sBAAKA,UAAU,yEAAf,UAEMyD,EAC8D,cAAC,EAAD,IAA5D,qBAAKzD,UAAU,sBAAf,SAAqC,cAAC,EAAD,MAEzC,cAAC,IAAD,CAAMkO,GAAG,QAAT,SACI,sBAAKlO,UAAW8S,EAAhB,UACI,iCAAOjE,EAAP,aACA,qBAAK7O,UAAU,4BACf,qBAAKA,UAAU,oBAAoBuJ,IAAK2J,EAAM1J,IAAI,aAClD,+BAAO7M,oB,gCEvCxBwW,ICrBAA,EDIf,UAAoB,KAAE7T,EAAF,iBAAQ8T,EAAR,QAA0BpF,IAC1C,OACI,sBAAmBhO,UAAU,yDAA7B,UACI,qBAAKA,UAAU,eAAf,SACKV,EAAK+H,KAAO,qBAAKkC,IAAG,UAAKtP,IAAcE,YAAnB,OAAgCmF,EAAK+H,KAAOrH,UAAU,YAAYwJ,IAAI,gBAG/F,qBAAKxJ,UAAU,eAAf,SACKqT,YAAM,GAAD,OAAI/T,EAAKyF,SAElBiJ,EAAU,qBAAKhO,UAAU,iBAAf,SACP,cAAC,IAAD,CAAqBrF,KAAM2E,EAAMgO,WAAY8F,MACxC,KAVH9T,EAAKjD,K,OE+CRmI,ICpDAA,EDQf,WACI,MAAMwJ,EAAUxK,eAET8P,EAAYC,GAAiBzM,IAAM7B,SAAS,IAEnD6B,IAAMiE,WAAU,KACZqI,MACD,IAEH,MAAMA,EAAmB,KACrB7T,YAAuB/F,IAAcE,QAAQgB,MAAKC,IAC9C4Y,EAAc5Y,OAIhBiK,EAAU0O,EAAWpN,OAAS,GAAKoN,EAAWvL,KAAIzI,GAC7C,cAAC,EAAD,CAEHA,KAAMA,EACN8T,iBAAkBA,EAClBpF,QAASA,GAHJ1O,EAAKjD,MAOlB,OACI,iCACI,sBAAK2D,UAAU,YAAf,UACI,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,qEAAf,SACI,cAAC,EAAD,MAGH4E,KAGL,uBACA,sBAAK5E,UAAU,iCAAf,0BACiB,mBAAGwT,KAAK,uCAAuCpK,OAAO,SAASqK,IAAI,aAAnE,wC,+CEkClBC,IC/EAA,EDYf,UAAyB,OAAEC,IACvB,MAAMpZ,EAAWiM,eACX,YAAEhK,EAAF,SAAeiE,GAAaiD,aAAY,EAAGmG,WAAYA,IAEvD4D,EAAY/J,aAAY,EAAGgK,UAAWA,EAAK7S,QAC3CgT,EAAeJ,EAAUkG,IAAWlG,EAAUkG,GAAQzN,OAEtD8H,EAAUxK,cACVyK,EAAc5H,cAUpB,GAJA0E,qBAAU,KACNxQ,EAAS6B,YAAiBuX,MAC3B,CAACA,EAAQpZ,KAEPiC,GAAmD,IAApCuS,OAAOC,KAAKxS,GAAa0J,OACzC,OAAO,cAAC,IAAD,IAGX,MAAM0N,EAAa5F,GAAWC,EAE9B,OACI,eAAC,IAAM4F,SAAP,WACI,eAAC,IAAD,CAAWvT,MAAO9D,EAAYrB,KAAMqF,WAAS,EAA7C,UACKoT,GAAcpX,EACT,cAAC,IAAD,CAAmBA,YAAaA,IAAkB,GAEtDiE,EACE,sBAAKT,UAAU,oBAAf,UACI,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,2BAAf,SACI,qBAAKuJ,IAAG,UAAKtP,IAAcG,UAAnB,OAA8BoC,EAAY6K,KAAOmC,IAAI,sBAGrE,qBAAKxJ,UAAU,WAAf,SACI,sBAAKA,UAAU,mDAAf,UACI,mBAAGA,UAAU,aAAb,uCACA,+BACKqT,YAAM,GAAD,OAAI7W,EAAY+K,wBAOtC,sBAAKvH,UAAU,4BAAf,UACI,sBAAKA,UAAU,2BAAf,uCACWxD,EAAY8K,MADvB,aAGA,yBAAQrH,QA3CJ,KACxB1F,EAASwC,YAAcP,KA0CmCwD,UAAU,kBAAhD,mDACa6N,GAAgB,+BAAOA,aAxBnC,cAAC,IAAD,OA+BjB,cAAC,IAAD,CAAiBvN,MAAO,sJAA+BpE,MAAOM,EAAYgC,iBE9DvEsV,ICXAA,GDCf,WACI,OACI,8BACI,cAAC,IAAD,UACI,oBAAI9T,UAAU,cAAd,4K,uDE2BD+T,OA7Bf,SAAoBlI,GAChB,MAAOmI,EAAiBC,GAAsBhP,oBAAS,GAUjDiP,EAAgB,KAClBD,GAAmB/B,IAAcA,KAGrC,OAAO,qCACH,cAAC,KAAD,CACIpO,KAAMkQ,EACN7P,OAAQ+P,EACRrQ,UAhBgB,KACpB/B,aAAW+J,EAAMxP,IAAI3B,MAAKC,IAClBA,GACAkR,EAAMsI,aAAatI,EAAMxP,QAc7BuH,SAAUsQ,EACV5T,MAAK,4HACLyD,KAAI,2NAA4C8H,EAAM1Q,QAG1D,cAACsJ,GAAA,EAAD,CAAQC,QAAQ,SAASzE,QAASiU,EAAlC,mBCqBOE,IClDAA,GDMf,SAAkBvI,GACd,MAAM,KAAEnQ,EAAF,UACF2Y,EADE,MAEFpZ,EAFE,GAGFoB,EAHE,KAIF8E,EAJE,MAKFL,EALE,MAMFE,EANE,KAOF7F,GAAS0Q,GAELxP,GAAIiY,GAAkB5Q,aAAY,EAAGnG,UAAWA,IAExD,IAAIgX,EAA4B,IAAf1I,EAAMnQ,KACnBT,EAAQoZ,EAAY3Y,EAAO2Y,EAAYA,EAAYpZ,EAOvD,OACI,+BACI,6BAAKsZ,EAAa,IAClB,6BAAKlY,IACL,6BAAKlB,IACL,6BAAM6F,GAAQ,cACd,6BAAKF,IACL,6BACKwT,IAAkBjY,EACf,eAACsM,GAAA,EAAKO,QAAN,CAAcJ,GAAG,SAAS0L,aAAcrT,EAAMyE,SAbnCuD,IACvBxH,aAAWtF,EAAI8M,EAAEC,OAAOrD,QAYZ,UACI,wBAAQA,MAAM,QAAd,mBACA,wBAAQA,MAAM,YAAd,uBACA,wBAAQA,MAAM,OAAd,qBACc5E,IAG1B,6BACKmT,IAAkBjY,EACf,cAAC,GAAD,CAAYA,GAAIA,EAAI8X,aAActI,EAAMsI,aAAchZ,KAAMA,IAAW,S,0BEgC5EsZ,IC5EAA,GDQf,WACI,MAAOC,EAAOC,GAAY7N,IAAM7B,SAAS,KAClCtI,EAAYZ,GAAiB+K,IAAM7B,SAAS,IAC5CvJ,EAAMe,GAAWqK,IAAM7B,SAAS,GAIvC6B,IAAMiE,WAAU,KAERvQ,KAAY8I,SAJN,EAIsB5H,GAAMhB,MAAKC,IACnCga,EAASha,EAAKmB,MACdC,EAAcpB,EAAKqB,YAK5B,CAACN,IAEJ,MAAMkZ,EAAqBvY,IACvB,MAAMwY,EAAWH,EAAMzF,QAAO1R,GAAQA,EAAKlB,KAAOA,IAE1B,IAApBwY,EAAS3O,QAAgBxK,EAAO,GAChCe,GAAQyV,GAAaA,EAAY,IAErCyC,EAAS,IAAIE,KAGjB,OACI,eAAC,IAAD,CAAWvU,MAAO,qMAAlB,UACI,qBAAKN,UAAU,aAAf,SACI,eAAC8U,GAAA,EAAD,CAAOC,YAAU,EAAjB,UACI,gCACI,+BACI,mCACA,oCACA,sCACA,uCACA,uCACA,sCACA,6CAGR,gCACsB,IAAjBL,EAAMxO,QACHwO,EAAM3M,KAAI,CAACxK,EAAMtC,IACb,cAAC,GAAD,CACIkZ,aAAcS,EAEd3Z,MAAOA,EACPoZ,UA5ClB,EA6CkB3Y,KAAMA,KACF6B,GAJCA,EAAKlB,aAWlC,cAAC,KAAD,CACI2P,YAAatQ,EACbiB,WAAYA,EACZsP,SAxDE,EAyDFH,aAAcpQ,GAAQe,EAAQf,S,yBE7B/BsZ,OAnCf,SAA0BnJ,GACtB,MAAMtR,EAAWiM,eAEVwN,EAAiBC,GAAsBhP,oBAAS,IAEjD,WAAEsK,EAAF,MAAc5T,EAAd,MAAqBd,GAAU6I,aAAY,EAAG+L,YAAaA,IAa3DwF,EAAqB,KACvBhB,GAAmB/B,IAAcA,KAGrC,OAAO,qCACH,cAAC,KAAD,CACIpO,KAAMkQ,EACN7P,OAAQ8Q,EACRrR,SAAUqR,EACVpR,UApBgB,KACpBjE,YAAaiM,EAAMxP,IAAI3B,MAAKC,IACxBJ,EAAS2H,YAAYqN,EAAY5T,IACZ,IAAjBd,EAAMqL,QAAgBqJ,EAAa,GACnChV,EAASoI,YAAc4M,EAAa,OAI5C0F,KAaI3U,MAAK,sHACLyD,KAAI,2NAA4C8H,EAAM+D,YAAlD,QAER,qBAAK5P,UAAU,gBAAgBC,QAASgV,EAAxC,kE,OCbOC,OArBf,UAAwB,KAAE5V,IACtB,MAAO6V,EAAkBC,GAAuBnQ,oBAAS,GAQzD,OAAO,+BACH,oBAAIjF,UAAU,kBAAd,SACI,qBAAKuJ,IAAG,UAAKtP,IAAcG,UAAnB,OAA8BkF,EAAK+H,KAAOgO,QARpClM,IAClBiM,GAAoB,GACpBjM,EAAEC,OAAOiM,QAAU,KACnBlM,EAAEC,OAAOG,IAAT,UAAkBtP,IAAcG,UAAhC,OAA2CJ,IAAeD,QAKmByP,IAAI,aAEjF,6BACK2L,EAAmB,4BAAI7V,EAAKnE,OAAY,cAAC,IAAD,CAAM+S,GAAE,gBAAW5O,EAAKgW,SAAxB,SAAoChW,EAAKnE,SAEtF,6BAAKmE,EAAKtD,QACV,+BAAKsD,EAAKgI,MAAQhI,EAAKtD,MAAvB,eARYsD,EAAKjD,K,OCWVkZ,ICvBAA,GDKf,SAAqB1J,GACjB,OACI,eAACiJ,GAAA,EAAD,CAAOC,YAAU,EAAjB,UACI,gCACI,+BACI,mCACA,gEACA,wFACA,+DAGR,gCACKlJ,EAAMhR,MAAMkN,KAAIzI,GAAQ,cAAC,GAAD,CAA8BA,KAAMA,GAAfA,EAAKjD,YE+DpDmZ,IChFAA,GDUf,SAAwB3J,GACpB,MAAMtR,EAAWiM,cACXwH,EAAUxK,eAETiS,EAAeC,GAAoB5O,IAAM7B,UAAS,GAEzD6B,IAAMiE,WAAU,KACZxQ,EAASgI,aAAiBsJ,EAAM+D,gBACjC,CAACrV,EAAUsR,EAAM+D,cAEpB,MAIM+F,EAAgBxM,IAClBA,EAAEC,OAAOiM,QAAU,KACnBlM,EAAEC,OAAOG,IAAT,UAAkBtP,IAAcG,UAAhC,OAA2CJ,IAAeD,QAGxD6b,EAAc/J,EAAMhC,MAAM9B,KAAIzI,GAAQA,EAAK+H,MAE3CwO,EAASD,EAAYvD,MAAM,EAAG,GAAGtK,KAAI,CAACV,EAAKpM,IACtC,qBAAuBsO,IAAG,UAAKtP,IAAcG,UAAnB,OAA8BiN,GAAOgO,QAASM,EAAcnM,IAAI,UAAhFvO,EAAQoM,KAGvByO,EAAYjK,EAAMwE,KAAK1G,MAAM,KAAK,GAAGA,MAAM,KAAKoM,KAAK,KAE3D,OACI,mCACI,qBAAI/V,UAAU,mBAAd,UAEI,sBAAKA,UAAU,aAAaC,QArBR,KAC5ByV,GAAiBxD,IAAcA,KAoBvB,UACI,sBAAKlS,UAAU,yCAAf,UACI,0CADJ,IACoB6L,EAAM+D,eAE1B,sBAAK5P,UAAU,uCAAf,UACI,6DADJ,IACwB8V,KAExB,sBAAK9V,UAAU,yCAAf,UACI,8GADJ,IACiC6L,EAAMsE,YADvC,aAGA,sBAAKnQ,UAAU,yCAAf,UACK6V,EACAD,EAAY1P,OAAS,EAArB,WAA6B0P,EAAY1P,OAAS,GAAM,MAG7D,qBAAKlG,UAAU,aAAf,SACI,cAAC,KAAD,CAAeoO,OAAQqH,SAI9BA,GACG,qCACI,cAAC,GAAD,CAAa5a,MAAOgR,EAAMhC,QAE1B,sBAAK7J,UAAU,kBAAf,UACI,8BAAG,wDAAH,IAAuB6L,EAAMmE,YAC7B,8BAAG,mEAAH,IAAwBnE,EAAMoE,aAC9B,8BAAG,+EAAH,IAA0BpE,EAAMqE,aAChC,+BAAM,6BAAKrE,EAAMhC,MAAM,GAAG1H,QAAU,wKAGxC,sBAAKnC,UAAU,0BAAf,UAAyC,8GAAzC,IAAsE6L,EAAMsE,YAA5E,aACCnC,GAAW,cAAC,GAAD,CAAkB3R,GAAIwP,EAAMxP,GAAIuT,YAAa/D,EAAM+D,uB,OE3BxEoG,IC9CAA,GDSf,WACI,MAAMzb,EAAWiM,eAEX,GAAEnK,EAAF,KAAM8E,GAASuC,aAAY,EAAGnG,UAAWA,KACzC,WAAEgS,EAAF,MAAc5T,EAAd,MAAqBd,EAArB,SAA4B4F,EAA5B,WAAsC9D,GAAe+G,aAAY,EAAG+L,YAAaA,IAEjFwG,EAAapb,GAASA,EAAMkN,KAAI,CAACgI,EAAO9U,IAAU,cAAC,GAAD,IAA4C8U,GAAvBA,EAAMH,eAcnF,OAZA9I,IAAMiE,WAAU,KACR5J,IAAS/H,IAAUC,MACnBkB,EAAS2H,YAAYqN,EAAY5T,EAAOU,IAExC9B,EAAS2H,YAAYqN,EAAY5T,MAEtC,CAACU,EAAIkT,EAAY5T,EAAOpB,EAAU4G,IAOjC,eAAC,IAAD,CAAWb,MAAO,kFAAkBG,SAAUA,EAA9C,UACI,6BAC2B,IAAtBwV,EAAW/P,OACR,mBAAGlG,UAAU,mBAAb,gKAAiEiW,IAGzE,cAAC,KAAD,CACIjK,YAAauD,EACb5S,WAAYA,EACZsP,SAAUtQ,EACVmQ,aAAcyD,IAAc2G,OAfdxZ,EAe+B6S,OAdrDhV,EAASoI,YAAcjG,IADDA,a,mBE+BfyZ,OAlDf,UAA2B,OAAEhU,EAAF,MAAUd,IACjC,MAAOuF,EAAOC,GAAY5B,mBAAS,KAC5BmR,EAAsBC,GAA2BpR,mBAAS,IAE3DnF,EAAUC,cAsBhB,OAAO,cAAC,IAAD,UACH,uBAAMC,UAAU,aAAasW,SAhBJnN,IACzBA,EAAEO,iBAEGzD,aAAYmQ,IAKjBpU,aAAcG,EAAQd,EAAO+U,GAAsB1b,MAAKC,IACpDsG,QAAQC,IAAIvG,MAGhBmF,EAAQ+P,KAAK,WARThJ,EAAS,4MAYb,UAEKD,EAAMV,OAAS,GAAK,cAACwC,GAAA,EAAD,CAAOhE,QAAQ,SAAf,SAChBkC,IAGL,mJAEA,qBAAK5G,UAAU,oBAAf,SACI,uBACIlF,KAAK,WACLuB,GAAG,WACH2D,UAAU,eACV+F,MAAOqQ,EACPxQ,SAnCiBuD,IAC7BtC,EAAS,IACTwP,EAAwBlN,EAAEC,OAAOrD,YAqC7B,wBAAQjL,KAAK,SAASkF,UAAU,4BAAhC,mG,iBC+EGuW,OA7Hf,SAAyB1K,GACrB,MAAO2K,EAAaC,GAAkB3P,IAAM7B,SAAS4G,EAAM1Q,OACpDub,EAAcC,GAAmB7P,IAAM7B,SAAS4G,EAAM/K,QACtD8V,EAAcC,GAAmB/P,IAAM7B,SAAS4G,EAAM7K,QACtDiG,EAAeC,GAAoBJ,IAAM7B,SAAS,KAClD2B,EAAOC,GAAYC,IAAM7B,SAAS,IAEnC6R,EAAa,KACfjL,EAAMkL,oBACNlQ,EAAS,KA0BPmQ,EAAkB,KACpB,GAAkC,IAA9BR,EAAYxQ,OAAOE,OAEnB,YADAW,EAAS,mLAIb,IAAK6P,EAAatQ,SAAS,MAAuC,IAA/BsQ,EAAa1Q,OAAOE,OAEnD,YADAW,EAAS,8LAIb,MAAMoQ,EAAa,CACf9b,KAAMqb,EACN1V,MAAO4V,EACP1V,MAAO4V,EACPxE,MAAOnL,GAGX4E,EAAMqL,cAAcD,GACpBH,KAGExO,EAAkC,IAAzBrB,EAAcf,OAAd,UACRjM,IAAcI,OADN,OACcwR,EAAMuG,OAAU7J,IAAIC,gBAAgBvB,GAEjE,OACI,eAAC0B,GAAA,EAAD,CAAM2N,SAAUU,EAAhB,UAEKpQ,GAAS,cAAC8B,GAAA,EAAD,CAAO1I,UAAU,0BAA0B0E,QAAS,SAApD,SACLkC,IAGL,sBAAK5G,UAAU,eAAf,UACI,sBAAKA,UAAU,+CAAf,UAEI,qBAAKuJ,IAAG,UAAKjB,GAAUkB,IAAI,gBAE3B,cAACb,GAAA,EAAKO,QAAN,CACItD,SA7DAuD,IAEC,UADAA,EAAEC,OAAOK,MAAM,GAAG3O,KAAK6O,MAAM,KAAK,IAKnD9C,EAAS,IACTK,EAAiBiC,EAAEC,OAAOK,MAAM,KAJ5B5C,EAAS,qKA2DG/L,KAAK,OACL6K,YAAY,2BAKpB,sBAAK3F,UAAU,YAAf,UACI,sBAAKA,UAAU,qBAAf,UACI,wDAGA,cAAC2I,GAAA,EAAKO,QAAN,CACIpO,KAAK,OACL6K,YAAY,0FACZI,MAAOyQ,EACP5Q,SAnEKuD,IACzBtC,EAAS,IACT4P,EAAetN,EAAEC,OAAOrD,aAoEZ,sBAAK/F,UAAU,qBAAf,UACI,2CACA,cAAC2I,GAAA,EAAKO,QAAN,CACIpO,KAAK,OACL6K,YAAY,qGACZI,MAAO2Q,EACP9Q,SAxEMuD,IAC1BtC,EAAS,IACT8P,EAAgBxN,EAAEC,OAAOrD,aAyEb,sBAAK/F,UAAU,qBAAf,UACI,gFACA,cAAC2I,GAAA,EAAKO,QAAN,CACIpO,KAAK,SACL6K,YAAY,sJACZI,MAAO6Q,GAA8B,GACrChR,SA7EMuD,IAC1BtC,EAAS,IACTgQ,EAAgB1N,EAAEC,OAAOrD,mBAgFrB,sBAAK/F,UAAU,yBAAf,UACI,cAACyE,GAAA,EAAD,CAAQC,QAAQ,YAAYzE,QAAS6W,EAArC,oEAIA,cAACrS,GAAA,EAAD,CAAQzE,UAAU,MAAM0E,QAAQ,UAAU5J,KAAK,SAASmF,QAAS+W,EAAjE,qE,oCCODG,OA3Hf,WACI,MAAOC,EAAUC,GAAepS,oBAAS,IAClCqS,EAAsBC,GAA2BtS,mBAAS,KAC1DuS,EAAkBC,GAAuBxS,mBAAS,KAClDyS,EAAaC,GAAkB1S,mBAAS,KAExC2S,EAAQC,GAAa5S,mBAAS,CACjC6S,gBAAiB,GACjBrW,YAAa,MAGX,GAAEpF,GAAOqH,aAAY,EAAGnG,UAAWA,IAEnCwa,EAAe,CAACC,EAAWC,KAC7BJ,GAAUlJ,IACC,IACAA,EACH,CAACqJ,GAAYC,OAKnBC,EAA2B/O,IAC7BkO,GAAYnF,IAAcA,KAiC9B,OACI,gCACKkF,GAAY,eAACnT,GAAA,EAAD,CAAOwE,KAAK,KAAKvE,WAAW,EAAMJ,KAAMsT,EAAUjT,OAAQ+T,EAA1D,UACT,cAACjU,GAAA,EAAMG,OAAP,CAAcC,aAAW,EAAzB,SACI,cAACJ,GAAA,EAAMK,MAAP,sFAGoB,IAAvBoT,EAAYxR,QAAgB,cAACwC,GAAA,EAAD,CAAOhE,QAAQ,SAAS1E,UAAU,MAAlC,SACxB0X,IAGL,cAACzT,GAAA,EAAMM,KAAP,UACI,eAACoE,GAAA,EAAD,WACI,cAACA,GAAA,EAAKC,IAAN,UACI,eAACD,GAAA,EAAKE,MAAN,CAAYC,GAAIC,KAAKC,UAAU,kBAA/B,UACI,cAACL,GAAA,EAAKM,MAAN,oGAGA,cAACN,GAAA,EAAKO,QAAN,CACIpO,KAAK,WACLiL,MAAOuR,EACP1R,SAnDMuD,IAClCoO,EAAwBpO,EAAEC,OAAOrD,OAEjCgS,EAAa,kBAAmB,KAiDJpS,YAAY,wJAEmB,IAAlCiS,EAAOE,gBAAgB5R,QAAgB,mBAAGlG,UAAU,cAAb,SAA4B4X,EAAOE,uBAInF,uBAEA,cAACnP,GAAA,EAAKC,IAAN,UACI,eAACD,GAAA,EAAKE,MAAN,CAAYC,GAAIC,KAAKC,UAAU,QAA/B,UACI,cAACL,GAAA,EAAKM,MAAN,kFAGA,cAACN,GAAA,EAAKO,QAAN,CACIpO,KAAK,WACLiL,MAAOyR,EACP5R,SA9DEuD,IAC9BsO,EAAoBtO,EAAEC,OAAOrD,OAE7BgS,EAAa,cAAe,KA4DApS,YAAY,6KAEe,IAA9BiS,EAAOnW,YAAYyE,QAAgB,mBAAGlG,UAAU,cAAb,SAA4B4X,EAAOnW,mBAI/E,uBAEA,uBAEA,cAACgD,GAAA,EAAD,CAAQC,QAAQ,YAAYzE,QAASiY,EAArC,oEAIA,cAACzT,GAAA,EAAD,CAAQzE,UAAU,MAAM0E,QAAQ,UAAUrI,GAAG,MAAMvB,KAAK,SAASmF,QAvE9D,KACf6F,aAAQwR,GACRS,EAAa,kBAAmB,qIAI/B9R,aAAYuR,GAKjBhW,aAAe8V,EAAsBE,EAAkBnb,GAAI3B,MAAKC,IAC5Dud,OACDC,OAAMvR,IACL+Q,EAAe,6IAPfI,EAAa,cAAe,8NAgEhB,sEAMZ,+BACI,wBAAQ/X,UAAU,sBACdC,QAASiY,EADb,mGCnCDE,ICvFAA,GDWf,WACI,MAAM7d,EAAWiM,eAEX,GAAEnK,EAAF,MAAM+V,EAAN,KAAajX,EAAb,MAAmB2F,EAAnB,MAA0BE,GAAU0C,aAAY,EAAGnG,UAAWA,KAE7D8a,EAAeC,GAAoBxR,IAAM7B,UAAS,IAClDxE,EAAU8X,GAAgBzR,IAAM7B,UAAS,GAE1C8R,EAAoB,KACtBuB,GAAiBpG,IAAcA,KAuB7B5J,EAAU8J,GAAQtY,IAAYC,MAEpC,OACI,cAAC,IAAD,CAAWuG,MAAM,6CAAUG,SAAUA,EAArC,SACM4X,EA2BE,cAAC,GAAD,CACIjG,MAAO9J,EACPnN,KAAMA,EACN2F,MAAOA,EACPE,MAAOA,EACP+V,kBAAmBA,EACnBG,cAzDOsB,IACnB,IACID,GAAa,GACb,MAAMvO,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQsO,EAAQrd,MAChC6O,EAASE,OAAO,QAASsO,EAAQ1X,OACjCkJ,EAASE,OAAO,QAASsO,EAAQxX,OAER,kBAAlBwX,EAAQpG,OAAsBpI,EAASE,OAAO,QAASsO,EAAQpG,OAEtEvQ,aAAWmI,EAAU3N,GAAI3B,MAAKC,IAC1B6d,EAAQpG,MAAQzX,EAAKyX,MACrB7X,EAAS+C,YAAQkb,IACjBD,GAAa,MAEnB,MAAOpP,GACLgB,MAAMhB,EAAEiB,SAASzP,KAAK0P,aAQJ,sBAAKrK,UAAU,eAAf,UACd,qBAAKA,UAAU,sBAAf,SACI,qBAAKuJ,IAAG,UAAKtP,IAAcI,OAAnB,OAA2BiO,GAAUkB,IAAI,kBAErD,sBAAKxJ,UAAU,YAAf,UACI,qBAAKA,UAAU,mBAAmBC,QAAS8W,EAA3C,SACI,cAAC,KAAD,MAEJ,sBAAK/W,UAAU,qBAAf,UACI,yDACC7E,KAEL,sBAAK6E,UAAU,qBAAf,UACI,2CACCc,KAEL,sBAAKd,UAAU,qBAAf,UACI,qHACCgB,GAAgB,MAErB,qBAAKhB,UAAU,qBAAf,SACI,cAAC,GAAD,e,cE/CxB,MAAMyY,GAAW3R,IAAM4R,MAAK,IAAM,sDAC5BC,GAAe7R,IAAM4R,MAAK,IAAM,sDAChCE,GAAc9R,IAAM4R,MAAK,IAAM,gCAC/BG,GAAsB/R,IAAM4R,MAAK,IAAM,iCACvCI,GAAWhS,IAAM4R,MAAK,IAAM,gCAC5BK,GAAWjS,IAAM4R,MAAK,IAAM,gCAC5BM,GAAWlS,IAAM4R,MAAK,IAAM,gCA+DnBO,ICzFAA,GD4Bf,WACE,MAAM1e,EAAWiM,eACV5F,EAASsY,GAAcpS,IAAM7B,UAAS,IAEvC,OAAExB,GAAWC,aAAY,EAAGnG,UAAWA,IAW7C,OATAuJ,IAAMiE,WAAU,KACdrJ,eAAQhH,MAAKC,IACXJ,EAAS6C,aAAU,IACnB7C,EAAS+C,YAAQ3C,OAChBwe,SAAQ,KACTD,GAAW,QAEZ,CAAC3e,IAEAqG,EACK,cAAC,IAAD,IAIP,8BACE,eAAC,WAAD,CAAUwY,SACR,cAAC,IAAD,IADF,UAGE,cAAC,EAAD,IAEA,eAAC,IAAD,WACE,cAAC,IAAD,CAAO1H,OAAK,EAAC2H,KAAM/gB,IAAOG,WAAY6gB,UAAWb,KACjD,cAAC,IAAD,CAAO/G,OAAK,EAAC2H,KAAM/gB,IAAOI,YAAa4gB,UAAWV,KAClD,cAAC,IAAD,CAAOlH,OAAK,EAAC2H,KAAM/gB,IAAOK,eAAgB2gB,UAAWX,KACrD,cAAC,IAAD,CAAOjH,OAAK,EAAC2H,KAAM/gB,IAAOM,uBAAwB0gB,UAAWT,KAC7D,cAAC,IAAD,CAAOnH,OAAK,EAAC2H,KAAM/gB,IAAOO,WAAYygB,UAAWR,KACjD,cAAC,IAAD,CAAOO,KAAM/gB,IAAOQ,WAAY4Y,OAAK,EAAC4H,UAAWP,KAEjD,cAAC,IAAD,CAAOM,KAAM/gB,IAAOS,gBAAiBwgB,OAAQ,EAAGC,WACvC,cAAC,EAAD,CAAiB7F,OAAQ6F,EAAM/a,OAAOpC,GAAIqV,OAAK,MAGxD,cAAC,IAAD,CAAO2H,KAAM/gB,IAAOC,YAAa+gB,UAAWN,KAC5C,cAAC,IAAD,CAAOK,KAAM/gB,IAAOE,mBAAoB8gB,UAAWN,KAElDvV,GACC,CACE,cAAC,IAAD,CAAO4V,KAAM/gB,IAAOW,YAAsCqgB,UAAWtD,IAA/B1d,IAAOW,aAC7C,cAAC,IAAD,CAAOogB,KAAM/gB,IAAOU,WAAoCsgB,UAAW7E,IAA9Bnc,IAAOU,YAC5C,cAAC,IAAD,CAAOqgB,KAAM/gB,IAAOY,aAAwCogB,UAAWlB,IAAhC9f,IAAOY,eAIlD,cAAC,IAAD,CAAOmgB,KAAM/gB,IAAOa,oBAAqBogB,OAAQ,EAAGC,WAC3C,cAAC,GAAD,CAAmBrX,OAAQqX,EAAM/a,OAAOpC,GAAIgF,MAAOmY,EAAM/a,OAAO4C,UAGzE,cAAC,IAAD,CAAOgY,KAAK,IAAIC,UAAWxF,QAE7B,cAAC,EAAD,UE3ER2F,IAASF,OACP,cAAC,IAAD,UACE,cAAC,IAAD,CAAUzI,MAAOA,EAAjB,SACE,cAAC,EAAD,UACE,cAAC,GAAD,UAIN4I,SAASC,eAAe,W","file":"static/js/main.5e27add4.chunk.js","sourcesContent":["const _baseImgUrl = process.env.NODE_ENV === 'production' ?\r\n    '/img/' : `${process.env.REACT_APP_API_URL}img/`;\r\n\r\nexport const Routes = {\r\n    LOGIN_ROUTE: '/login',\r\n    REGISTRATION_ROUTE: '/registration',\r\n    HOME_ROUTE: '/',\r\n    ABOUT_ROUTE: '/about-us',\r\n    CONTACTS_ROUTE: '/contacts',\r\n    PAYMENT_DELIVERY_ROUTE: '/payment-delivery',\r\n    CART_ROUTE: '/cart',\r\n    SHOP_ROUTE: '/shop',\r\n    SHOP_ITEM_ROUTE: '/shop/:id',\r\n    USERS_LIST: '/users-list',\r\n    ORDERS_LIST: '/orders-list',\r\n    USER_PROFILE: '/user-profile',\r\n    USER_RESET_PASSWORD: '/reset-password/:id/:token',\r\n}\r\n\r\nexport const UserRoles = {\r\n    ADMIN: 'ADMIN',\r\n    MODERATOR: 'MODERATOR',\r\n    USER: 'USER',\r\n}\r\n\r\nexport const ComponentName = {\r\n    HOME: 'home',\r\n    FOOTER: 'footer',\r\n    ABOUT_US: 'about_us',\r\n    PAYMENT: 'payment_delivery',\r\n    CONTACTS: 'contacts',\r\n}\r\n\r\nexport const UserDefault = {\r\n    IMAGE: 'default_avatar.jpg'\r\n}\r\n\r\nexport const ProductDefault = {\r\n    IMAGE: 'deleted.png'\r\n}\r\n\r\nexport const ImgUrlDefault = {\r\n    ADVANTAGES: `${_baseImgUrl}advantages/`,\r\n    COMPONENTS: `${_baseImgUrl}components/`,\r\n    PRODUCTS: `${_baseImgUrl}products/`,\r\n    USERS: `${_baseImgUrl}users/`,\r\n}\r\n\r\n","import apiServices from '../../services/api-services';\r\n\r\nconst fetchCategories = () => (dispatch) => {\r\n    apiServices.getShopCategories().then(data => {\r\n        dispatch(setCategories(data));\r\n    })\r\n}\r\n\r\nconst setCategories = (items) => ({\r\n    type: 'SET_CATEGORIES',\r\n    payload: items\r\n});\r\n\r\nconst setActiveCategory = (index) => ({\r\n    type: 'SET_ACTIVE_CATEGORY',\r\n    payload: index\r\n});\r\n\r\nconst setSortBy = (name) => ({\r\n    type: 'SET_SORT_BY',\r\n    payload: name\r\n});\r\n\r\nconst setSortOrder = (name) => ({\r\n    type: 'SET_SORT_ORDER',\r\n    payload: name\r\n});\r\n\r\n\r\nexport {\r\n    setSortBy,\r\n    setCategories,\r\n    setActiveCategory,\r\n    fetchCategories,\r\n    setSortOrder\r\n};\r\n\r\n","import { getProductById, getAllProducts } from '../../services/productsAPI';\r\n\r\nconst setLoaded = (payload) => ({\r\n    type: 'SET_LOADED',\r\n    payload,\r\n})\r\n\r\nconst fetchGoods = (sortBy, category, sortOrder, page, limit) => (dispatch) => {\r\n    dispatch(setLoaded(false));\r\n    getAllProducts(sortBy, category, sortOrder, page, limit).then(data => {\r\n        dispatch(setGoods(data.rows));\r\n        dispatch(setTotalCount(data.count));\r\n    })\r\n}\r\n\r\nconst fetchPopularGoods = (catId) => (dispatch) => {\r\n\r\n    const page = 1;\r\n    const limit = 4;\r\n    const sortOrder = 'desc';\r\n    const sortBy = 'rating'\r\n\r\n    dispatch(setLoaded(false));\r\n    getAllProducts(sortBy, catId, sortOrder, page, limit).then(data => {\r\n        dispatch(setPopularGoods(data.rows));\r\n    })\r\n}\r\n\r\nconst fetchItemDetails = (id) => (dispatch) => {\r\n    dispatch(setLoaded(false));\r\n    getProductById(id).then(data => {\r\n        dispatch(setItemDetails(data));\r\n    })\r\n}\r\n\r\nconst setGoods = (items) => ({\r\n    type: 'SET_GOODS',\r\n    payload: items\r\n});\r\n\r\nconst setPopularGoods = (items) => ({\r\n    type: 'SET_POPULAR_GOODS',\r\n    payload: items\r\n});\r\n\r\nconst setItemDetails = (itemDetails) => ({\r\n    type: 'SET_ITEM_DETAILS',\r\n    payload: itemDetails\r\n});\r\n\r\nconst setPage = (pageNumber) => ({\r\n    type: 'SET_PAGE',\r\n    payload: pageNumber\r\n});\r\n\r\nconst setLimit = (limitGoods) => ({\r\n    type: 'SET_LIMIT',\r\n    payload: limitGoods\r\n});\r\n\r\nconst setTotalCount = (totalCount) => ({\r\n    type: 'SET_TOTAL_COUNT',\r\n    payload: totalCount\r\n});\r\n\r\nexport {\r\n    setGoods,\r\n    fetchGoods,\r\n    setLoaded,\r\n    fetchPopularGoods,\r\n    fetchItemDetails,\r\n    setPage,\r\n    setTotalCount,\r\n    setLimit\r\n};","import apiServices from '../../services/api-services';\r\n\r\nconst fetchAdvantages = () => (dispatch) => {\r\n    apiServices.getAdvantages().then(data => {\r\n        dispatch(setAdvantages(data));\r\n    })\r\n}\r\n\r\nconst setAdvantages = (items) => ({\r\n    type: 'SET_ADVANTAGES',\r\n    payload: items\r\n});\r\n\r\nexport {\r\n    setAdvantages,\r\n    fetchAdvantages,\r\n};","const addItemToCart = (obj) => ({\r\n    type: 'ADD_ITEM_TO_CART',\r\n    payload: obj\r\n});\r\n\r\nconst clearCart = () => ({\r\n    type: 'CLEAR_CART'\r\n});\r\n\r\nconst removeCartItem = (id) => ({\r\n    type: 'REMOVE_CART_ITEM',\r\n    payload: id\r\n});\r\n\r\nconst plusCartItem = (id) => ({\r\n    type: 'PLUS_CART_ITEM',\r\n    payload: id\r\n});\r\n\r\nconst minusCartItem = (id) => ({\r\n    type: 'MINUS_CART_ITEM',\r\n    payload: id\r\n});\r\n\r\nexport { addItemToCart, clearCart, removeCartItem, minusCartItem, plusCartItem };","const setIsAuth = (bool) => ({\r\n    type: 'SET_IS_AUTH',\r\n    payload: bool\r\n});\r\n\r\nconst setUser = (user) => ({\r\n    type: 'SET_USER',\r\n    payload: user\r\n});\r\n\r\nconst setRole = (role) => ({\r\n    type: 'SET_ROLE',\r\n    payload: role\r\n});\r\n\r\nconst setUserLogout = () => ({\r\n    type: 'SET_USER_LOGOUT'\r\n});\r\n\r\nexport { setIsAuth, setUser, setRole, setUserLogout };","import axios from \"axios\";\r\n\r\nconst _baseUrl = process.env.NODE_ENV === 'production' ? '/' : `${process.env.REACT_APP_API_URL}/`;\r\n\r\nconst $host = axios.create({\r\n    baseURL: _baseUrl\r\n})\r\n\r\nconst $authHost = axios.create({\r\n    baseURL: _baseUrl\r\n})\r\n\r\nconst authIterceptor = config => {\r\n    config.headers.authorization = `Bearer ${localStorage.getItem('token')}`\r\n    return config\r\n}\r\n\r\n$authHost.interceptors.request.use(authIterceptor)\r\n\r\nexport {\r\n    $host,\r\n    $authHost\r\n}","import { $authHost, $host } from './http';\r\n\r\n// products\r\nexport const getProductById = async (id) => {\r\n    const { data } = await $host.get('api/product/' + id)\r\n    return data\r\n}\r\n\r\nexport const getAllProducts = async (sortBy, categoryId, sortOrder, page, limit) => {\r\n    const { data } = await $host.get('api/product/', {\r\n        params: {\r\n            categoryId,\r\n            sortOrder,\r\n            sortBy,\r\n            limit,\r\n            page\r\n        }\r\n    })\r\n    return data;\r\n}\r\n\r\nexport const createProduct = async (product) => {\r\n    const { data } = await $authHost.post('api/product', product)\r\n    return data\r\n}\r\n\r\nexport const updateProduct = async (product, id) => {\r\n    const { data } = await $authHost.patch('api/product/' + id, product)\r\n    return data\r\n}\r\n\r\nexport const deleteProduct = async (id) => {\r\n    const { data } = await $authHost.delete('api/product/' + id)\r\n    return data\r\n}\r\n\r\nexport const getProductByCatId = async (id) => {\r\n    const { data } = await $host.get('api/product/byCategory/' + id)\r\n    return data;\r\n}\r\n\r\n// categories\r\n\r\nexport const createCategory = async (category) => {\r\n    const { data } = await $authHost.post('api/category', category)\r\n    return data\r\n}\r\n\r\nexport const deleteCategory = async (id) => {\r\n    const { data } = await $authHost.delete('api/category/' + id)\r\n    return data\r\n}\r\n\r\nexport const updateCategory = async (name, id) => {\r\n    const { data } = await $authHost.patch('api/category/' + id, name)\r\n    return data\r\n}\r\n\r\n// components\r\n\r\nexport const updateComponent = async (id, item) => {\r\n    const { data } = await $authHost.patch('api/component/' + id, item)\r\n    return data\r\n}\r\n\r\nexport const getComponentInfoByName = async (name) => {\r\n    const { data } = await $host.get('api/component/getByName/' + name)\r\n    return data;\r\n}\r\n\r\n// advantages\r\n\r\nexport const createAdvantages = async (advantage) => {\r\n    const { data } = await $authHost.post('api/advantages', advantage)\r\n    return data\r\n}\r\n\r\nexport const deleteAdvantages = async (id) => {\r\n    const { data } = await $authHost.delete('api/advantages/' + id)\r\n    return data\r\n}\r\n\r\nexport const updateAdvantages = async (obj) => {\r\n    const { data } = await $authHost.patch('api/advantages/' + obj.id, obj.item)\r\n    return data\r\n}\r\n\r\n// orders\r\n\r\nexport const deleteOrders = async (id) => {\r\n    const { data } = await $authHost.delete('api/order/' + id)\r\n    return data\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport './back-arrow.scss';\r\n\r\nfunction BackArrow() {\r\n\r\n    let history = useHistory();\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"back-arrow\" onClick={() => history.goBack()}>\r\n                <svg viewBox=\"0 0 24 24\"><g>\r\n                    <path className=\"arrow-icon\" d=\"M20 11H7.414l4.293-4.293c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L7.414 13H20c.553 0 1-.447 1-1s-.447-1-1-1z\"></path>\r\n                </g></svg>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BackArrow;\r\n","import BackArrow from './back-arrow';\r\n\r\nexport default BackArrow;","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport Spinner from '../spinner';\r\nimport BackArrow from '../back-arrow';\r\n\r\nimport './container.scss';\r\n\r\nfunction Container({ title, children, backArrow, isLoaded = true }) {\r\n\r\n    const mainTitle = title ? <h4>{title}</h4> : null;\r\n    const backArrowBtn = backArrow ? <BackArrow /> : '';\r\n    const loading = isLoaded ? children : <Spinner />\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"main-wrapper\">\r\n                <div className=\"container-title\">\r\n                    {backArrowBtn}\r\n                    {mainTitle}\r\n                </div>\r\n                <div className=\"content\">\r\n                    {loading}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nContainer.propTypes = {\r\n    title: PropTypes.string,\r\n    children: PropTypes.node,\r\n    backArrow: PropTypes.bool,\r\n    isLoaded: PropTypes.bool\r\n};\r\n\r\nexport default Container\r\n","import Container from './container';\r\nexport default Container;","import jwt_decode from \"jwt-decode\";\r\nimport { $authHost, $host } from './http';\r\nimport { UserRoles } from '../utils/consts';\r\n\r\nexport const registration = async (email, password, name, phone = null) => {\r\n    console.log(phone)\r\n    const { data } = await $host.post('api/user/registration', { email, password, name, phone, role: UserRoles.USER })\r\n    localStorage.setItem('token', data.token)\r\n    return jwt_decode(data.token)\r\n}\r\n\r\nexport const login = async (email, password) => {\r\n    const { data } = await $host.post('api/user/login', { email, password })\r\n    localStorage.setItem('token', data.token)\r\n    return jwt_decode(data.token)\r\n}\r\n\r\nexport const changePassword = async (password, newPassword, id) => {\r\n    const { data } = await $host.post('api/user/changePassword', { password, newPassword, id })\r\n    localStorage.setItem('token', data.token)\r\n    return jwt_decode(data.token)\r\n}\r\n\r\nexport const check = async () => {\r\n    const { data } = await $authHost.get('api/user/auth')\r\n    localStorage.setItem('token', data.token)\r\n    return jwt_decode(data.token)\r\n}\r\n\r\nexport const changeRole = async (id, userRole) => {\r\n    const role = { role: userRole }\r\n    const { data } = await $host.patch('api/user/' + id, role)\r\n    return data;\r\n}\r\n\r\nexport const updateUser = async (user, id) => {\r\n    const { data } = await $authHost.patch('api/user/updateUser/' + id, user)\r\n    localStorage.setItem('token', data.token)\r\n    return jwt_decode(data.token)\r\n}\r\n\r\nexport const deleteUser = async (id) => {\r\n    const { data } = await $authHost.delete('api/user/' + id)\r\n    return data\r\n}\r\n\r\nexport const forgotPassword = async (email) => {\r\n    const { data } = await $authHost.post('api/user/forgotPassword', { email })\r\n    return data\r\n}\r\n\r\nexport const resetPassword = async (id, token, password) => {\r\n    const { data } = await $authHost.post('api/user/resetPassword/' + id + '/' + token, { password });\r\n    return data\r\n}\r\n\r\n","import React from 'react';\r\nimport './spinner.scss';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"loadingio-spinner-double-ring mt-2 mb-2\">\r\n      <div className=\"ldio\">\r\n        <div></div>\r\n        <div></div>\r\n        <div>\r\n          <div></div>\r\n        </div>\r\n        <div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;","import Spinner from './spinner';\r\n\r\nexport default Spinner;","import apiServices from '../../services/api-services';\r\n\r\nconst setOrdersLoaded = (payload) => ({\r\n    type: 'SET_ORDERS_LOADED',\r\n    payload,\r\n})\r\n\r\nconst setOrdersItemsLoaded = (payload) => ({\r\n    type: 'SET_ORDERS_ITEMS_LOADED',\r\n    payload,\r\n})\r\n\r\nconst fetchOrders = (page, limit, userId) => (dispatch) => {\r\n    dispatch(setOrdersLoaded(false));\r\n\r\n    apiServices.getOrders(page, limit, userId).then(data => {\r\n        dispatch(setOrders(data.rows));\r\n        dispatch(setOrdersTotalCount(data.count));\r\n    })\r\n}\r\nconst fetchOrdersItems = (orderId) => (dispatch) => {\r\n    dispatch(setOrdersItemsLoaded(false));\r\n\r\n    apiServices.getOrdersItems(orderId).then(data => {\r\n        dispatch(setOrdersItems(data.rows));\r\n    })\r\n}\r\n\r\nconst setOrders = (items) => ({\r\n    type: 'SET_ORDERS',\r\n    payload: items\r\n});\r\n\r\nconst setOrdersItems = (items) => ({\r\n    type: 'SET_ORDERS_ITEMS',\r\n    payload: items\r\n});\r\n\r\nconst setOrdersPage = (pageNumber) => ({\r\n    type: 'SET_ORDERS_PAGE',\r\n    payload: pageNumber\r\n});\r\n\r\nconst setOrdersLimit = (limitGoods) => ({\r\n    type: 'SET_LIMIT',\r\n    payload: limitGoods\r\n});\r\n\r\nconst setOrdersTotalCount = (totalCount) => ({\r\n    type: 'SET_TOTAL_COUNT',\r\n    payload: totalCount\r\n});\r\n\r\nexport {\r\n    setOrders,\r\n    fetchOrders,\r\n    setOrdersLoaded,\r\n    setOrdersPage,\r\n    setOrdersTotalCount,\r\n    setOrdersLimit,\r\n    fetchOrdersItems\r\n};","import axios from 'axios';\r\n\r\nclass ApiServices {\r\n  _baseUrl = process.env.NODE_ENV === 'production' ? 'api/' : `${process.env.REACT_APP_API_URL}api/`;\r\n\r\n  getResource = async (url) => {\r\n    const res = await fetch(`${this._baseUrl}${url}`)\r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}, received ${res.status}`);\r\n    }\r\n    const body = res.json();\r\n    return body;\r\n  }\r\n\r\n  getOrders = async (page, limit, userId) => {\r\n    const { data } = await axios.get(`${this._baseUrl}order`, {\r\n      params: {\r\n        userId,\r\n        limit,\r\n        page\r\n      }\r\n    })\r\n\r\n    return data;\r\n  }\r\n\r\n  getOrdersItems = async (orderId) => {\r\n    const { data } = await axios.get(`${this._baseUrl}order/items`, {\r\n      params: {\r\n        orderId: orderId\r\n      }\r\n    });\r\n    return data;\r\n  }\r\n\r\n  getUsers = async (limit, page) => {\r\n    const { data } = await axios.get(`${this._baseUrl}user`, {\r\n      params: {\r\n        limit: limit,\r\n        page: page\r\n      }\r\n    })\r\n\r\n    return data;\r\n  }\r\n\r\n  getProductByCatId = async (catId) => {\r\n    const { data } = await axios.get(`${this._baseUrl}product/byCategory/${catId}`)\r\n    return data;\r\n  }\r\n\r\n  getShopItemById = async (id) => {\r\n    const { data } = await axios.get(`${this._baseUrl}product/${id}`)\r\n    return data;\r\n  }\r\n\r\n  getShopCategories = async () => {\r\n    const items = await this.getResource(`category`);\r\n    return items;\r\n  }\r\n\r\n  getAdvantages = async () => {\r\n    const items = await this.getResource(`advantages`);\r\n    return items;\r\n  }\r\n\r\n}\r\n\r\nconst apiServices = new ApiServices();\r\n\r\nexport default apiServices;\r\n\r\n","import { useSelector } from 'react-redux';\r\nimport { UserRoles } from '../utils/consts';\r\n\r\nfunction useIsAdmin() {\r\n    const { isAuth, role } = useSelector(({ user }) => user);\r\n    const isAdmin = isAuth && role === UserRoles.ADMIN;\r\n    return isAdmin;\r\n}\r\n\r\nexport default useIsAdmin\r\n","import React from 'react';\r\n\r\nimport { Button, Modal } from 'react-bootstrap';\r\n\r\nfunction ModalBox({ handleNo, handleYes, show, body, title }) {\r\n\r\n    const onClose = handleNo ? handleNo : handleYes;\r\n\r\n    return (\r\n        <Modal animation={true} show={show} onHide={onClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>{title}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>{body}</Modal.Body>\r\n            <Modal.Footer>\r\n                {handleNo &&\r\n                    <Button variant=\"secondary\" onClick={handleNo}>\r\n                        Скасувати\r\n                    </Button>}\r\n\r\n                <Button variant=\"primary\" onClick={handleYes}>\r\n                    ОК\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default ModalBox;","import ModalBox from './modal-box';\r\nexport default ModalBox;","import React, { useState } from 'react';\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\n\r\nimport './TextEditor.css';\r\n\r\nfunction TextEditor({ content, onChangeInfo, fieldName }) {\r\n    const [text, setText] = useState(content);\r\n\r\n    const onSaveShanges = (event, editor) => {\r\n        const data = editor.getData()\r\n        setText(data);\r\n        onChangeInfo(fieldName, text);\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <div className=\"editor\">\r\n                <CKEditor\r\n                    editor={ClassicEditor}\r\n                    data={text}\r\n                    config={\r\n                        {\r\n                            fontFamily: {\r\n                                options: [\r\n                                    \"default\",\r\n                                    \"Ubuntu, Arial, sans-serif\",\r\n                                    \"Ubuntu Mono, Courier New, Courier, monospace\",\r\n                                ],\r\n                            },\r\n                            fontSize: {\r\n                                options: [9, 11, 13, \"default\", 17, 19, 21],\r\n                            },\r\n                            toolbar: ['heading', '|', 'bold', 'italic', 'numberedList', 'bulletedList', 'insertTable',\r\n                                'tableColumn', 'tableRow', 'mergeTableCells', '|', 'undo', 'redo', 'fontSize', 'fontFamily'],\r\n                            placeholder: 'Enter the product description'\r\n                        }\r\n                    }\r\n                    onChange={(event, editor) => {\r\n                        onSaveShanges(event, editor);\r\n                    }}\r\n                    onBlur={(event, editor) => {\r\n                        onSaveShanges(event, editor);\r\n                    }}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TextEditor;\r\n","import TextEditor from './TextEditor';\r\n\r\nexport default TextEditor;","export const isEmpty = value => value.trim() === '';\r\nexport const isFiveChars = value => value.trim().length >= 5;\r\nexport const isEmail = value => value.trim().length === 0 || !value.trim().includes('@');","import { useSelector } from 'react-redux';\r\nimport { UserRoles } from '../utils/consts';\r\n\r\nfunction useIsModerator() {\r\n    const { isAuth, role } = useSelector(({ user }) => user);\r\n    const isModerator = isAuth && role === UserRoles.MODERATOR;\r\n    return isModerator;\r\n}\r\n\r\nexport default useIsModerator\r\n","import React from 'react';\r\nimport { Modal, Button, Col, Form, Dropdown, Alert, } from 'react-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport TextEditor from '../text-editor';\r\nimport { setActiveCategory } from '../../../redux/actions';\r\n\r\nfunction AdminProductsForm({ show, handleNo, handleSubmit }) {\r\n    const dispatch = useDispatch();\r\n\r\n    const { activeCategory, categories } = useSelector(({ filters }) => filters);\r\n\r\n    const [error, setError] = React.useState(false);\r\n    const [nameCount, setNameCount] = React.useState(0);\r\n    const [selectedImage, setSelectedImage] = React.useState('');\r\n\r\n    const [inputsValue, setInputsValue] = React.useState({\r\n        name: '',\r\n        img: '',\r\n        price: '',\r\n        description: ''\r\n    });\r\n\r\n    const updateState = (field, newValue) => {\r\n        field === 'name' && setNameCount(newValue.length);\r\n\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            [field]: newValue\r\n        });\r\n    }\r\n\r\n    const onHandleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (activeCategory === null) {\r\n            showErrorMsg('Помилка! Виберіть категорію!');\r\n            return;\r\n        }\r\n\r\n        if (!inputsValue.price.trim().length === 0) {\r\n            showErrorMsg('Помилка! Товар не може бути без назви!');\r\n            return;\r\n        }\r\n\r\n        if (inputsValue.price.trim().length === 0) {\r\n            showErrorMsg('Помилка! Не вказана ціна');\r\n            return;\r\n        }\r\n\r\n        if (inputsValue.description.trim().length === 0) {\r\n            showErrorMsg('Помилка! Не вказаний опис');\r\n            return;\r\n        }\r\n\r\n        if (typeof inputsValue.img !== 'object') {\r\n            showErrorMsg('Помилка! Ви не обрали зображення');\r\n            return;\r\n        }\r\n\r\n        const img = inputsValue.img;\r\n        const fileType = img.type.split('/')[0];\r\n\r\n        if (fileType !== 'image') {\r\n            showErrorMsg('Помилка! Заборонений тип файлу!');\r\n            return;\r\n        }\r\n\r\n        if (nameCount > 40) {\r\n            showErrorMsg(`Помилка! Ім'я не повинно перевищувати 40 символів`);\r\n            return;\r\n        }\r\n\r\n        if (inputsValue.price > 2147483647) {\r\n            showErrorMsg(`Помилка! Невірно вказана ціна`);\r\n            return;\r\n        }\r\n\r\n        const product = {\r\n            ...inputsValue\r\n        }\r\n\r\n        clearForm();\r\n\r\n        handleNo();\r\n        handleSubmit(product);\r\n    }\r\n\r\n    const onCancelHandle = () => {\r\n        handleNo();\r\n        setError(false);\r\n    }\r\n\r\n    const clearForm = () => {\r\n        setInputsValue({\r\n            name: '',\r\n            img: '',\r\n            price: '',\r\n            description: ''\r\n        });\r\n\r\n        setSelectedImage('');\r\n\r\n        setNameCount(0);\r\n        setError(false);\r\n    }\r\n\r\n    const selectFile = (e) => {\r\n        setSelectedImage(e.target.files[0]);\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            img: e.target.files[0]\r\n        });\r\n    }\r\n\r\n    const showErrorMsg = (text) => {\r\n        setError(text);\r\n    }\r\n\r\n    const changeCategory = (value) => {\r\n        dispatch(setActiveCategory(value));\r\n    }\r\n\r\n    const categoriesDropdown = categories && categories.map((cat, index) => {\r\n        const activeCat = activeCategory === index ? true : false;\r\n\r\n        return (\r\n            <Dropdown.Item\r\n                onClick={() => changeCategory(index)}\r\n                key={cat.id}\r\n                active={activeCat}\r\n            >\r\n                {cat.name}\r\n            </Dropdown.Item>\r\n        )\r\n    })\r\n\r\n    const imgUrl = selectedImage.length !== 0 && URL.createObjectURL(selectedImage);\r\n\r\n    return (\r\n        <>\r\n            <Modal size=\"lg\" animation={true} show={show} onHide={onCancelHandle}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Створити новий товар</Modal.Title>\r\n                </Modal.Header>\r\n\r\n                {error && <Alert className=\"m-2\" variant={'danger'}>\r\n                    {error}\r\n                </Alert>}\r\n\r\n                <Modal.Body>\r\n                    <Form>\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} controlId=\"formGridName\">\r\n                                <Form.Label>\r\n                                    <b>Name: <span\r\n                                        className={nameCount > 40 ? 'text-danger' : ''}>\r\n                                        ({nameCount})</span>\r\n                                    </b>\r\n                                </Form.Label>\r\n                                <Form.Control\r\n                                    onChange={e => updateState('name', e.target.value)}\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter the product name\"\r\n                                    value={inputsValue.name}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Dropdown className=\"mt-4\">\r\n                                <Dropdown.Toggle>\r\n                                    {activeCategory === null ? 'Виберіть категорію' : categories[activeCategory].name}\r\n                                </Dropdown.Toggle>\r\n\r\n                                <Dropdown.Menu>\r\n                                    {categoriesDropdown}\r\n                                </Dropdown.Menu>\r\n                            </Dropdown>\r\n\r\n                            <Form.Group as={Col} controlId=\"formGridImage\" className=\"mt-4\">\r\n\r\n                                {selectedImage.length !== 0 && <div className=\"shop-item-details__image mt-2\">\r\n                                    <img src={imgUrl} alt=\"item pictures\" />\r\n                                </div>}\r\n\r\n                                <Form.Control\r\n                                    onChange={selectFile}\r\n                                    type=\"file\"\r\n                                    placeholder=\"Enter the image url\"\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n\r\n                        <Form.Group controlId=\"formGridDesc\" className=\"mt-4\">\r\n                            <Form.Label> <b> Опис: </b> </Form.Label>\r\n\r\n                            <TextEditor onChangeInfo={updateState} content={inputsValue.description} fieldName=\"description\" />\r\n                        </Form.Group>\r\n\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} className=\"mt-4\" controlId=\"formGridCount\">\r\n                                <Form.Label> <b> Ціна </b></Form.Label>\r\n                                <Form.Control\r\n                                    onChange={e => updateState('price', e.target.value)}\r\n                                    value={inputsValue.price}\r\n                                    placeholder=\"Ціна\"\r\n                                    type=\"number\"\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n\r\n                        <hr />\r\n\r\n                        <Button variant=\"secondary\" onClick={onCancelHandle}>\r\n                            Відмінити\r\n                        </Button>\r\n\r\n                        <Button className=\"m-2\" variant=\"primary\" type=\"button\" onClick={onHandleSubmit}>\r\n                            Створити\r\n                        </Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AdminProductsForm;","import React from 'react'\r\nimport AdminProductsForm from './admin-products-form';\r\nimport { Button } from 'react-bootstrap';\r\nimport { createProduct } from '../../../services/productsAPI';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchGoods } from '../../../redux/actions';\r\n\r\nimport './admin-products.scss'\r\n\r\nfunction AdminProductsAdd() {\r\n    const dispatch = useDispatch();\r\n    const { activeCategory, sortBy, sortOrder } = useSelector(({ filters }) => filters);\r\n    const { limit, page } = useSelector(({ goods }) => goods);\r\n\r\n    const [modalVisible, setModalVisible] = React.useState(false);\r\n\r\n    const onShow = () => {\r\n        setModalVisible(true)\r\n    }\r\n\r\n    const closeModal = () => {\r\n        setModalVisible(false)\r\n    }\r\n\r\n    const handleSubmit = (product) => {\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('name', product.name);\r\n            formData.append('price', product.price);\r\n            formData.append('description', product.description);\r\n            formData.append('categoryId', activeCategory);\r\n            formData.append('img', product.img);\r\n\r\n            createProduct(formData).then(data => {\r\n                dispatch(fetchGoods(sortBy, activeCategory, sortOrder, page, limit));\r\n                // setModalVisible(false);\r\n            })\r\n        } catch (e) {\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"addBtnProduct text-center mb-4\">\r\n            <Button onClick={onShow}> Додати продукт </Button>\r\n            <AdminProductsForm\r\n                show={modalVisible}\r\n                handleNo={closeModal}\r\n                handleSubmit={handleSubmit}\r\n                action={'create'}\r\n                currentCategory={activeCategory}\r\n            />\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default AdminProductsAdd\r\n","import React from 'react';\r\nimport ModalBox from '../../UI/modal-box';\r\nimport { deleteProduct } from '../../../services/productsAPI';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchGoods } from '../../../redux/actions';\r\n\r\nfunction AdminProductDelete({ id, name }) {\r\n    const dispatch = useDispatch();\r\n    const { activeCategory, sortBy, sortOrder } = useSelector(({ filters }) => filters);\r\n\r\n    const [show, setShow] = React.useState(false);\r\n\r\n    const handleNo = () => setShow(false);\r\n\r\n    const handleYes = () => {\r\n        toggleShow();\r\n\r\n        deleteProduct(id).then(data => {\r\n            dispatch(fetchGoods(sortBy, activeCategory, sortOrder));\r\n        })\r\n    };\r\n\r\n    const toggleShow = () => {\r\n        setShow(!show);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ModalBox\r\n                show={show}\r\n                handleNo={handleNo}\r\n                handleYes={handleYes}\r\n                title={`Видалення: \"${name}\"`}\r\n                body={`Ви дійсно бажаєте видалити товар \"${name}\"?`}\r\n            />\r\n\r\n            <div className=\"product-del\" onClick={toggleShow}>x</div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AdminProductDelete\r\n","import React from 'react';\r\nimport { PencilSquare } from 'react-bootstrap-icons';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Modal, Button, Col, Form, Dropdown, Alert, } from 'react-bootstrap';\r\nimport TextEditor from '../text-editor';\r\nimport { fetchItemDetails, fetchPopularGoods, fetchCategories } from '../../../redux/actions';\r\nimport { updateProduct } from '../../../services/productsAPI';\r\n\r\nimport './admin-products.scss';\r\nimport { ImgUrlDefault } from '../../../utils/consts';\r\n\r\nfunction AdminProductsEdit({ itemDetails }) {\r\n    const dispatch = useDispatch();\r\n\r\n    const [modalVisible, setModalVisible] = React.useState(false);\r\n    const [error, setError] = React.useState(false);\r\n    const [nameCount, setNameCount] = React.useState(0);\r\n    const [itemCatId, setItemCatId] = React.useState(itemDetails.categoryId);\r\n    const [selectedImage, setSelectedImage] = React.useState('')\r\n\r\n    const [inputsValue, setInputsValue] = React.useState({\r\n        ...itemDetails\r\n    });\r\n\r\n    const { categories } = useSelector(({ filters }) => filters);\r\n\r\n    const onShow = () => {\r\n        setModalVisible(true);\r\n        setItemCatId(itemDetails.categoryId)\r\n\r\n        setInputsValue({\r\n            ...itemDetails\r\n        });\r\n\r\n        setSelectedImage('');\r\n    }\r\n\r\n    const closeModal = () => {\r\n        setModalVisible(false)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        dispatch(fetchCategories());\r\n    }, [dispatch])\r\n\r\n    const handleSubmit = (product) => {\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('name', product.name);\r\n            formData.append('price', product.price);\r\n            formData.append('description', product.description);\r\n            typeof product.img !== 'string' && formData.append('img', product.img);\r\n            formData.append('categoryId', product.categoryId);\r\n            updateProduct(formData, itemDetails.id).then(data => {\r\n                dispatch(fetchItemDetails(itemDetails.id));\r\n                dispatch(fetchPopularGoods(itemDetails.categoryId))\r\n            })\r\n        } catch (e) {\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n\r\n    const updateState = (field, newValue) => {\r\n        field === 'name' && setNameCount(newValue.length);\r\n\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            [field]: newValue\r\n        });\r\n    }\r\n\r\n    const onHandleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (typeof inputsValue.img === 'object') {\r\n            const img = inputsValue.img;\r\n\r\n            const fileType = img.type.split('/')[0];\r\n\r\n            if (fileType !== 'image') {\r\n                showErrorMsg('Помилка! Заборонений тип файлу!');\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (!inputsValue.name.replace(/\\s/g, '').length) {\r\n            showErrorMsg('Помилка! Товар не може бути без назви!');\r\n            return;\r\n        }\r\n\r\n        if (itemDetails.categoryId === null || !categories[inputsValue.categoryId]) {\r\n            showErrorMsg('Помилка! Виберіть категорію!');\r\n            return;\r\n        }\r\n\r\n        for (let key in inputsValue) {\r\n            if (inputsValue[key] === '') {\r\n                showErrorMsg('Помилка! Заповнено не всі поля');\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (nameCount > 40) {\r\n            showErrorMsg(`Помилка! Ім'я не повинно перевищувати 40 символів`);\r\n            return;\r\n        }\r\n\r\n        if (+inputsValue.price > Number.MAX_SAFE_INTEGER) {\r\n            showErrorMsg(`Помилка! Невірно вказана ціна`);\r\n            return;\r\n        }\r\n\r\n        const product = {\r\n            ...inputsValue\r\n        }\r\n\r\n        closeModal();\r\n        handleSubmit(product);\r\n    }\r\n\r\n    const onCancelHandle = () => {\r\n        closeModal();\r\n        clearForm();\r\n    }\r\n\r\n    const clearForm = () => {\r\n        setInputsValue({\r\n            ...itemDetails\r\n        });\r\n\r\n        setNameCount(itemDetails.name.length);\r\n        setItemCatId(itemDetails.categoryId);\r\n        setError(false);\r\n    }\r\n\r\n    const selectFile = (e) => {\r\n        setSelectedImage(e.target.files[0]);\r\n\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            img: e.target.files[0]\r\n        });\r\n    }\r\n\r\n    const showErrorMsg = (text) => {\r\n        setError(text);\r\n    }\r\n\r\n    const changeCategory = (value) => {\r\n        setItemCatId(value);\r\n        setInputsValue({ ...inputsValue, categoryId: value })\r\n    }\r\n\r\n    const categoriesDropdown = categories && categories.map((cat, index) => {\r\n        const activeCat = itemCatId === index ? true : false;\r\n\r\n        return (\r\n            <Dropdown.Item\r\n                onClick={() => changeCategory(index)}\r\n                key={cat.id}\r\n                active={activeCat}\r\n            >\r\n                {cat.name}\r\n            </Dropdown.Item>\r\n        )\r\n    })\r\n\r\n    const imgUrl = selectedImage.length === 0 ?\r\n        `${ImgUrlDefault.PRODUCTS}${inputsValue.img}` : URL.createObjectURL(selectedImage);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"editBtn\" onClick={onShow}>\r\n                <PencilSquare />\r\n            </div>\r\n\r\n            <Modal size=\"lg\" animation={true} show={modalVisible} onHide={onCancelHandle}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Редагувати товар</Modal.Title>\r\n                </Modal.Header>\r\n\r\n                {error && <Alert className=\"m-2\" variant={'danger'}>\r\n                    {error}\r\n                </Alert>}\r\n\r\n                <Modal.Body>\r\n                    <Form>\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} controlId=\"formGridName\">\r\n                                <Form.Label>\r\n                                    <b>Назва<span\r\n                                        className={nameCount > 40 ? 'text-danger' : ''}>\r\n\r\n                                        {!nameCount ? ':' : (`(${nameCount}):`)}\r\n                                    </span>\r\n                                    </b>\r\n                                </Form.Label>\r\n                                <Form.Control\r\n                                    onChange={e => updateState('name', e.target.value)}\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter the product name\"\r\n                                    value={inputsValue && inputsValue.name}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <div className=\"shop-item-details__image mt-2\">\r\n                                <img src={imgUrl} alt=\"item pictures\" />\r\n                            </div>\r\n\r\n                            <Form.Group as={Col} controlId=\"formGridImage\" className=\"mt-4\">\r\n                                <Form.Control\r\n                                    onChange={selectFile}\r\n                                    type=\"file\"\r\n                                    placeholder=\"Enter the image url\"\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Dropdown className=\"mt-4\">\r\n                                <Dropdown.Toggle>\r\n                                    {!categories || !categories[itemCatId] ? 'Виберіть категорію' : categories[itemCatId].name}\r\n                                </Dropdown.Toggle>\r\n\r\n                                <Dropdown.Menu>\r\n                                    {categoriesDropdown}\r\n                                </Dropdown.Menu>\r\n                            </Dropdown>\r\n\r\n                        </Form.Row>\r\n\r\n                        <Form.Group controlId=\"formGridDesc\" className=\"mt-4\">\r\n                            <Form.Label> <b> Опис: </b> </Form.Label>\r\n\r\n                            <TextEditor onChangeInfo={updateState} fieldName={'description'} content={inputsValue.description} />\r\n                        </Form.Group>\r\n\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} className=\"mt-4\" controlId=\"formGridCount\">\r\n                                <Form.Label> <b> Ціна </b></Form.Label>\r\n                                <Form.Control\r\n                                    onChange={e => updateState('price', e.target.value)}\r\n                                    value={inputsValue.price}\r\n                                    placeholder=\"Ціна\"\r\n                                    type=\"number\"\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n\r\n                        <hr />\r\n\r\n                        <Button variant=\"secondary\" onClick={onCancelHandle}>\r\n                            Відмінити\r\n                        </Button>\r\n\r\n                        <Button className=\"m-2\" variant=\"primary\" type=\"button\" onClick={onHandleSubmit}>\r\n                            Зберегти\r\n                        </Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AdminProductsEdit\r\n\r\n","import { useMemo } from 'react';\r\n\r\nexport const DOTS = '...';\r\n\r\nconst range = (start, end) => {\r\n    let length = end - start + 1;\r\n    return Array.from({ length }, (_, idx) => idx + start);\r\n};\r\n\r\nexport const usePagination = ({\r\n    totalCount,\r\n    pageSize,\r\n    siblingCount = 1,\r\n    currentPage\r\n}) => {\r\n    const paginationRange = useMemo(() => {\r\n        const totalPageCount = Math.ceil(totalCount / pageSize);\r\n\r\n        // Pages count is determined as siblingCount + firstPage + lastPage + currentPage + 2*DOTS\r\n        const totalPageNumbers = siblingCount + 5;\r\n\r\n        /*\r\n          If the number of pages is less than the page numbers we want to show in our\r\n          paginationComponent, we return the range [1..totalPageCount]\r\n        */\r\n        if (totalPageNumbers >= totalPageCount) {\r\n            return range(1, totalPageCount);\r\n        }\r\n\r\n        const leftSiblingIndex = Math.max(currentPage - siblingCount, 1);\r\n        const rightSiblingIndex = Math.min(\r\n            currentPage + siblingCount,\r\n            totalPageCount\r\n        );\r\n\r\n        /*\r\n          We do not want to show dots if there is only one position left \r\n          after/before the left/right page count as that would lead to a change if our Pagination\r\n          component size which we do not want\r\n        */\r\n        const shouldShowLeftDots = leftSiblingIndex > 2;\r\n        const shouldShowRightDots = rightSiblingIndex < totalPageCount - 2;\r\n\r\n        const firstPageIndex = 1;\r\n        const lastPageIndex = totalPageCount;\r\n\r\n        if (!shouldShowLeftDots && shouldShowRightDots) {\r\n            let leftItemCount = 3 + 2 * siblingCount;\r\n            let leftRange = range(1, leftItemCount);\r\n\r\n            return [...leftRange, DOTS, totalPageCount];\r\n        }\r\n\r\n        if (shouldShowLeftDots && !shouldShowRightDots) {\r\n            let rightItemCount = 3 + 2 * siblingCount;\r\n            let rightRange = range(\r\n                totalPageCount - rightItemCount + 1,\r\n                totalPageCount\r\n            );\r\n            return [firstPageIndex, DOTS, ...rightRange];\r\n        }\r\n\r\n        if (shouldShowLeftDots && shouldShowRightDots) {\r\n            let middleRange = range(leftSiblingIndex, rightSiblingIndex);\r\n            return [firstPageIndex, DOTS, ...middleRange, DOTS, lastPageIndex];\r\n        }\r\n    }, [totalCount, pageSize, siblingCount, currentPage]);\r\n\r\n    return paginationRange;\r\n};\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\nimport { usePagination, DOTS } from './usePagination';\r\nimport './pagination.scss';\r\n\r\nconst Pagination = props => {\r\n    const {\r\n        onPageChange,\r\n        totalCount,\r\n        siblingCount = 1,\r\n        currentPage,\r\n        pageSize,\r\n        className\r\n    } = props;\r\n\r\n    const paginationRange = usePagination({\r\n        currentPage,\r\n        totalCount,\r\n        siblingCount,\r\n        pageSize\r\n    });\r\n\r\n    if (currentPage === 0 || paginationRange.length < 2) {\r\n        return null;\r\n    }\r\n\r\n    const onNext = () => {\r\n        onPageChange(currentPage + 1);\r\n    };\r\n\r\n    const onPrevious = () => {\r\n        onPageChange(currentPage - 1);\r\n        console.log('first')\r\n    };\r\n\r\n    let lastPage = paginationRange[paginationRange.length - 1];\r\n    return (\r\n        <ul\r\n            className={classnames('pagination-container', { [className]: className })}\r\n        >\r\n            <li\r\n                className={classnames('pagination-item', {\r\n                    disabled: currentPage === 1\r\n                })}\r\n                onClick={onPrevious}\r\n            >\r\n                <div className=\"arrow left\" />\r\n            </li>\r\n            {paginationRange.map((pageNumber, index) => {\r\n                if (pageNumber === DOTS) {\r\n                    return <li key={index} className=\"pagination-item dots\">&#8230;</li>;\r\n                }\r\n\r\n                return (\r\n                    <li key={pageNumber + '' + index}\r\n                        className={classnames('pagination-item', {\r\n                            selected: pageNumber === currentPage\r\n                        })}\r\n                        onClick={() => onPageChange(pageNumber)}\r\n                    >\r\n                        {pageNumber}\r\n                    </li>\r\n                );\r\n            })}\r\n            <li\r\n                className={classnames('pagination-item', {\r\n                    disabled: currentPage === lastPage\r\n                })}\r\n                onClick={onNext}\r\n            >\r\n                <div className=\"arrow right\" />\r\n            </li>\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default Pagination;\r\n","import Pagination from './pagination';\r\nexport default Pagination;","import React from 'react';\r\n\r\nimport { PencilSquare } from 'react-bootstrap-icons';\r\nimport { Modal, Form, Button, Alert, Col } from 'react-bootstrap';\r\nimport TextEditor from '../text-editor';\r\nimport { updateComponent } from '../../../services/productsAPI';\r\n\r\nimport './admin-components.scss';\r\nimport { ImgUrlDefault } from '../../../utils/consts';\r\n\r\nfunction AdminComponentsEdit({ data, updateData }) {\r\n    const [modalVisible, setModalVisible] = React.useState(false);\r\n    const [error, setError] = React.useState(false);\r\n    const [nameCount, setNameCount] = React.useState(0);\r\n    const [inputsValue, setInputsValue] = React.useState({ ...data });\r\n\r\n    React.useEffect(() => {\r\n        setInputsValue({ ...data })\r\n    }, [data])\r\n\r\n    const onShow = () => {\r\n        setInputsValue({ ...data })\r\n        setNameCount(data.title.length)\r\n        setModalVisible(true)\r\n    }\r\n\r\n    const closeModal = () => {\r\n        setModalVisible(false)\r\n    }\r\n\r\n    const onHandleSubmit = () => {\r\n        if (typeof inputsValue.img === 'object') {\r\n            const img = inputsValue.img;\r\n\r\n            const fileType = img.type.split('/')[0];\r\n\r\n            if (fileType !== 'image') {\r\n                showErrorMsg('Помилка! Заборонений тип файлу!');\r\n                return;\r\n            }\r\n        }\r\n\r\n        for (let key in inputsValue) {\r\n            if (inputsValue[key] === '') {\r\n                showErrorMsg('Помилка! Заповнено не всі поля');\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (!inputsValue.title.replace(/\\s/g, '').length) {\r\n            showErrorMsg('Помилка! Не вказана назва!');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('title', inputsValue.title);\r\n            formData.append('text', inputsValue.text);\r\n            typeof inputsValue.img !== 'string' && formData.append('img', inputsValue.img);\r\n            updateComponent(data.id, formData).then(data => {\r\n                updateData();\r\n                closeModal();\r\n            })\r\n        } catch (e) {\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n\r\n    const updateState = (field, newValue) => {\r\n        field === 'title' && setNameCount(newValue.length);\r\n\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            [field]: newValue\r\n        });\r\n    }\r\n\r\n    const selectFile = (e) => {\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            img: e.target.files[0]\r\n        });\r\n    }\r\n\r\n    const showErrorMsg = (text) => {\r\n        setError(text);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"editBtn\" onClick={onShow}>\r\n                <PencilSquare />\r\n            </div>\r\n\r\n            <div onClick={e => e.stopPropagation()}>\r\n\r\n                <Modal size=\"lg\" animation={true} show={modalVisible} onHide={closeModal}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Редагувати товар</Modal.Title>\r\n                    </Modal.Header>\r\n\r\n                    {error && <Alert className=\"m-2\" variant={'danger'}>\r\n                        {error}\r\n                    </Alert>}\r\n\r\n                    <Modal.Body>\r\n                        <Form>\r\n                            <Form.Row>\r\n                                <Form.Group as={Col} controlId=\"formGridName\">\r\n                                    <Form.Label>\r\n                                        <b>Заголовок: <span\r\n                                            className={nameCount > 60 ? 'text-danger' : ''}>\r\n                                            ({nameCount})</span>\r\n                                        </b>\r\n                                    </Form.Label>\r\n                                    <Form.Control\r\n                                        onChange={e => updateState('title', e.target.value)}\r\n                                        type=\"text\"\r\n                                        placeholder=\"Enter the product name\"\r\n                                        value={inputsValue && inputsValue.title}\r\n                                    />\r\n                                </Form.Group>\r\n\r\n                                <div className=\"shop-item-details__image mt-2 admin-image-edit\">\r\n                                    <img src={`${ImgUrlDefault.COMPONENTS}${data.img}`} alt=\"item pictures\" />\r\n                                </div>\r\n\r\n                                <Form.Group as={Col} controlId=\"formGridImage\" className=\"mt-4\">\r\n                                    <Form.Control\r\n                                        onChange={selectFile}\r\n                                        type=\"file\"\r\n                                        placeholder=\"Enter the image url\"\r\n                                    />\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n\r\n                            <Form.Group controlId=\"formGridDesc\" className=\"mt-4\">\r\n                                <Form.Label> <b> Текст: </b> </Form.Label>\r\n\r\n                                <TextEditor onChangeInfo={updateState} fieldName={'text'} content={inputsValue.text} />\r\n                            </Form.Group>\r\n\r\n                            <hr />\r\n\r\n                            <Button variant=\"secondary\" onClick={closeModal}>\r\n                                Відмінити\r\n                            </Button>\r\n\r\n                            <Button className=\"m-2\" variant=\"primary\" type=\"button\" onClick={onHandleSubmit}>\r\n                                Зберегти\r\n                            </Button>\r\n                        </Form>\r\n                    </Modal.Body>\r\n                </Modal>\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AdminComponentsEdit\r\n","import React from 'react';\r\nimport Container from '../UI/container';\r\nimport Spinner from '../UI/spinner';\r\nimport ListItem from '../shop-items-list/list-item';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchPopularGoods, addItemToCart } from '../../redux/actions';\r\n\r\nimport './popular-products.scss';\r\n\r\nconst PopularProducts = ({ title, catId }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const cartItems = useSelector(({ cart }) => cart.items);\r\n    const { isLoaded, popularItems } = useSelector(({ goods }) => goods);\r\n\r\n    React.useEffect(() => {\r\n        dispatch(fetchPopularGoods(catId));\r\n    }, [dispatch, catId]);\r\n\r\n    const handleAddItemToCart = (obj) => {\r\n        dispatch(addItemToCart(obj));\r\n    }\r\n\r\n    const items = popularItems && popularItems.map(({ id, ...item }) => {\r\n        const countOfAdded = cartItems[id] && cartItems[id].length;\r\n        return <ListItem\r\n            key={id}\r\n            onClickBuyBtn={handleAddItemToCart}\r\n            countOfAdded={countOfAdded}\r\n            id={id}\r\n            {...item}\r\n        />\r\n    })\r\n\r\n    if (!items || !items.length) {\r\n        return <Container title={title} isLoaded={isLoaded}>\r\n            <p className=\"empty-list-popular text-center\">Товари відсутні</p>\r\n        </Container>\r\n    }\r\n\r\n    return (\r\n        <Container title={title} isLoaded={isLoaded}>\r\n            <div className=\"popular-items-list\">\r\n                {!isLoaded ? <Spinner /> : items}\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default PopularProducts;\r\n","import PopularProducts from './popular-products';\r\n\r\nexport default PopularProducts;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { AdminProductDelete } from '../../admin/admin-products';\r\nimport useIsAdmin from '../../../hooks/useIsAdmin';\r\nimport useIsModerator from '../../../hooks/useIsModerator';\r\nimport { ImgUrlDefault } from '../../../utils/consts';\r\n\r\nimport './list-item.scss';\r\n\r\nfunction ListItem({ id, name, img, price, onClickBuyBtn, countOfAdded }) {\r\n    const isAdmin = useIsAdmin();\r\n    const isModerator = useIsModerator();\r\n\r\n    const onAddItem = () => {\r\n        const obj = {\r\n            id,\r\n            name,\r\n            img,\r\n            price\r\n        };\r\n\r\n        onClickBuyBtn(obj);\r\n    }\r\n\r\n    return (\r\n        <div className=\"list-item\">\r\n            {isAdmin || isModerator ? <AdminProductDelete name={name} id={id} /> : ''}\r\n            <div className=\"shop-item__img\">\r\n                <img src={`${ImgUrlDefault.PRODUCTS}${img}`} alt=\"poster\" />\r\n            </div>\r\n            <div className=\"list-item__title\">\r\n                <Link to={`/shop/${id}`}>{name}</Link>\r\n            </div>\r\n\r\n            <div className=\"list-item__bottom\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 col-lg-6 list-item__price\">\r\n                        {price} ₴\r\n                    </div>\r\n                    <div className=\"col-12 col-lg-6 text-center\">\r\n                        <button onClick={onAddItem} className=\"btn-add-to-cart\">\r\n                            +Додати {countOfAdded && <span>{countOfAdded}</span>}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default ListItem\r\n","import ListItem from './list-item';\r\n\r\nexport default ListItem;","import React from 'react';\r\n\r\nimport './dropdown-arrow.scss';\r\n\r\nfunction DropdownArrow({ rotate }) {\r\n\r\n    const classNames = `arrow-svg ${rotate ? 'rotated' : ''}`;\r\n\r\n    return (\r\n        <svg\r\n            className={`arrow-svg ${classNames}`}\r\n            width=\"14\"\r\n            height=\"10\"\r\n            viewBox=\"0 0 10 6\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n            <path\r\n                d=\"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z\"\r\n                fill=\"#2C2C2C\"\r\n            />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport default DropdownArrow\r\n","import DropdownArrow from './dropdown-arrow';\r\nexport default DropdownArrow;","const initialState = {\r\n    items: [],\r\n    itemDetails: {},\r\n    page: 1,\r\n    totalCount: 0,\r\n    limit: 8,\r\n    isLoaded: false\r\n}\r\n\r\nconst goods = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_GOODS':\r\n            return {\r\n                ...state,\r\n                items: action.payload,\r\n                isLoaded: true\r\n            };\r\n        case 'SET_POPULAR_GOODS':\r\n            return {\r\n                ...state,\r\n                popularItems: action.payload,\r\n                isLoaded: true\r\n            };\r\n        case 'SET_ITEM_DETAILS':\r\n            return {\r\n                ...state,\r\n                itemDetails: action.payload,\r\n                isLoaded: true\r\n            };\r\n        case 'SET_LOADED':\r\n            return {\r\n                ...state,\r\n                isLoaded: action.payload\r\n            };\r\n        case 'SET_PAGE':\r\n            return {\r\n                ...state,\r\n                page: action.payload,\r\n            };\r\n        case 'SET_LIMIT':\r\n            return {\r\n                ...state,\r\n                limit: action.payload,\r\n            };\r\n        case 'SET_TOTAL_COUNT':\r\n            return {\r\n                ...state,\r\n                totalCount: action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport default goods;","const initialState = {\r\n    activeCategory: null,\r\n    sortBy: 'name',\r\n    sortOrder: 'asc'\r\n}\r\n\r\nconst filters = (state = initialState, action) => {\r\n    if (action.type === 'SET_SORT_BY') {\r\n        return {\r\n            ...state,\r\n            sortBy: action.payload\r\n        }\r\n    }\r\n\r\n    if (action.type === 'SET_SORT_ORDER') {\r\n        return {\r\n            ...state,\r\n            sortOrder: action.payload,\r\n        }\r\n    }\r\n\r\n    if (action.type === 'SET_CATEGORIES') {\r\n        return {\r\n            ...state,\r\n            categories: action.payload\r\n        }\r\n    }\r\n\r\n    if (action.type === 'SET_ACTIVE_CATEGORY') {\r\n        return {\r\n            ...state,\r\n            activeCategory: action.payload\r\n        }\r\n    }\r\n\r\n    return state;\r\n};\r\n\r\n\r\nexport default filters;","const initialState = {\r\n    items: [],\r\n    isLoaded: false\r\n}\r\n\r\nconst advantages = (state = initialState, action) => {\r\n    if (action.type === 'SET_ADVANTAGES') {\r\n        return {\r\n            ...state,\r\n            items: action.payload,\r\n            isLoaded: true\r\n        };\r\n    }\r\n    return state;\r\n};\r\n\r\n\r\nexport default advantages;","const initialState = {\r\n    items: {},\r\n    totalCount: 0,\r\n    totalPrice: 0\r\n}\r\n\r\nconst updateCart = (state, id) => {\r\n    const newObj = Object.keys(state).filter(key =>\r\n        key !== `${id}`).reduce((obj, key) => {\r\n            obj[key] = state[key];\r\n            return obj;\r\n        }, {});\r\n    return newObj;\r\n}\r\n\r\nconst cart = (state = initialState, action) => {\r\n    const payload = action.payload;\r\n\r\n    switch (action.type) {\r\n        case 'ADD_ITEM_TO_CART':\r\n            const id = payload.id;\r\n            const item = state.items[id];\r\n\r\n            return {\r\n                ...state,\r\n                items: {\r\n                    ...state.items,\r\n                    [id]: !item ? [payload] : [...state.items[id], payload]\r\n                },\r\n                itemTotalCount: {\r\n                    ...state.itemTotalCount,\r\n                    [id]: item ? state.itemTotalCount[id] + 1 : 1\r\n                },\r\n                itemTotalPrice: {\r\n                    ...state.itemTotalPrice,\r\n                    [id]: item ? state.itemTotalPrice[id] + payload.price : payload.price\r\n                },\r\n                totalCount: state.totalCount + 1,\r\n                totalPrice: state.totalPrice + payload.price\r\n            };\r\n\r\n        case 'MINUS_CART_ITEM':\r\n            const [remove, ...newItemsList] = state.items[payload];\r\n\r\n            return {\r\n                ...state,\r\n                items: {\r\n                    ...state.items,\r\n                    [payload]: newItemsList\r\n                },\r\n                itemTotalPrice: {\r\n                    ...state.itemTotalPrice,\r\n                    [payload]: state.itemTotalPrice[payload] - remove.price\r\n                },\r\n                itemTotalCount: {\r\n                    ...state.itemTotalCount,\r\n                    [payload]: state.itemTotalCount[payload] - 1\r\n                },\r\n                totalCount: state.totalCount - 1,\r\n                totalPrice: state.totalPrice - remove.price\r\n            };\r\n\r\n        case 'REMOVE_CART_ITEM':\r\n            return {\r\n                ...state,\r\n                items: updateCart(state.items, payload),\r\n                itemTotalPrice: updateCart(state.itemTotalPrice, payload),\r\n                itemTotalCount: updateCart(state.itemTotalCount, payload),\r\n                totalCount: state.totalCount - state.itemTotalCount[payload],\r\n                totalPrice: state.totalPrice - state.itemTotalPrice[payload],\r\n            };\r\n\r\n        case 'CLEAR_CART':\r\n            return {\r\n                items: {},\r\n                totalCount: 0,\r\n                totalPrice: 0\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default cart;","const initialState = {\r\n    role: 'USER',\r\n    isAuth: false,\r\n    email: '',\r\n    name: '',\r\n    id: '',\r\n    phone: ''\r\n}\r\n\r\nconst user = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_IS_AUTH':\r\n            return {\r\n                ...state,\r\n                isAuth: action.payload,\r\n            };\r\n        case 'SET_USER':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        case 'SET_ROLE':\r\n            return {\r\n                ...state,\r\n                role: action.payload\r\n            };\r\n        case 'SET_USER_LOGOUT':\r\n            return {\r\n                role: 'USER',\r\n                isAuth: false,\r\n                email: '',\r\n                name: '',\r\n                id: '',\r\n                phone: ''\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport default user;","const initialState = {\r\n    items: [],\r\n    pageOrders: 1,\r\n    totalCount: 0,\r\n    limit: 10,\r\n    isLoaded: false,\r\n    isLoadedOrderItems: false,\r\n}\r\n\r\n// {\r\n//     id: 2,\r\n//     orderNumber: '444 555 888',\r\n//     totalAmount: '13002',\r\n//     date: '15/25/21',\r\n//     goods: [{\r\n//         id: 22,\r\n//         name: 'Water 1',\r\n//         img: 'b221a67f-0662-4d64-a123-ea3223948eab.jpeg',\r\n//         price: 150\r\n//     },\r\n//     {\r\n//         id: 23,\r\n//         name: 'Water 2',\r\n//         img: 'b221a67f-0662-4d64-a123-ea3223948eab.jpeg',\r\n//         price: 150\r\n//     }]\r\n// }\r\n\r\nconst orders = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_ORDERS':\r\n            const itemsOrder = {};\r\n\r\n            for (let i = 0; i < action.payload.length; i++) {\r\n\r\n                if (!itemsOrder[action.payload[i].orderNumber]) {\r\n                    itemsOrder[action.payload[i].orderNumber] = [];\r\n                }\r\n\r\n                itemsOrder[action.payload[i].orderNumber].push(action.payload[i]);\r\n            }\r\n\r\n            const stateOrders = [];\r\n\r\n            for (let key in itemsOrder) {\r\n                const order = {};\r\n                order.orderNumber = itemsOrder[key][0].orderNumber;\r\n                order.userName = itemsOrder[key][0].userName;\r\n                order.userEmail = itemsOrder[key][0].userEmail;\r\n                order.userPhone = itemsOrder[key][0].userPhone;\r\n                order.id = itemsOrder[key][0].id;\r\n                order.totalAmount = itemsOrder[key][0].amount;\r\n                order.date = itemsOrder[key][0].createdAt;\r\n                order.goods = [];\r\n\r\n                stateOrders.push(order);\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                items: [...stateOrders],\r\n                isLoaded: true\r\n            };\r\n\r\n        case 'SET_ORDERS_ITEMS':\r\n            const orderId = action.payload[0].orderNumber;\r\n            let newStateItems;\r\n\r\n            for (let i = 0; i < state.items.length; i++) {\r\n\r\n                newStateItems = [\r\n                    ...state.items\r\n                ]\r\n\r\n                if (state.items[i].orderNumber === orderId) {\r\n                    newStateItems[i].goods = [...action.payload];\r\n                } else {\r\n                    newStateItems[i].goods = [...state.items[i].goods];\r\n                }\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                items: newStateItems ? [...newStateItems] : [],\r\n                isLoaded: true\r\n            };\r\n\r\n        case 'SET_ORDERS_LOADED':\r\n            return {\r\n                ...state,\r\n                isLoaded: action.payload\r\n            };\r\n        case 'SET_ORDERS_ITEMS_LOADED':\r\n            return {\r\n                ...state,\r\n                isLoadedOrderItems: action.payload\r\n            };\r\n        case 'SET_ORDERS_PAGE':\r\n            return {\r\n                ...state,\r\n                pageOrders: action.payload,\r\n            };\r\n        case 'SET_LIMIT':\r\n            return {\r\n                ...state,\r\n                limit: action.payload,\r\n            };\r\n        case 'SET_TOTAL_COUNT':\r\n            return {\r\n                ...state,\r\n                totalCount: action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport default orders;","import { combineReducers } from 'redux';\r\n\r\nimport goods from './goods';\r\nimport filters from './filters';\r\nimport advantages from './advantages';\r\nimport cart from './cart';\r\nimport user from './user';\r\nimport orders from './orders';\r\n\r\nconst rootReducer = combineReducers({\r\n    goods,\r\n    filters,\r\n    advantages,\r\n    cart,\r\n    user,\r\n    orders\r\n});\r\n\r\nexport default rootReducer;","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from './reducers';\r\n\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeEnhancer(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import { useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst ScrollToTop = ({ children, location: { pathname } }) => {\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      left: 0      \r\n    });\r\n  }, [pathname]);\r\n\r\n  return children || null;\r\n};\r\n\r\nexport default withRouter(ScrollToTop);","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Routes } from '../../utils/consts';\r\n\r\nimport './main-navigation.scss';\r\n\r\nconst MainNavigation = () => {\r\n    return (\r\n        <ul className=\"main-navigation\">\r\n            <li>\r\n                <NavLink\r\n                    activeClassName=\"main-navigation__active\"\r\n                    exact={true} to={Routes.HOME_ROUTE}> Головна </NavLink>\r\n            </li>\r\n            <li>\r\n                <NavLink\r\n                    activeClassName=\"main-navigation__active\"\r\n                    to={Routes.ABOUT_ROUTE}> Про нас </NavLink>\r\n            </li>\r\n            <li>\r\n                <NavLink\r\n                    activeClassName=\"main-navigation__active\"\r\n                    to={Routes.CONTACTS_ROUTE}> Контакти </NavLink>\r\n            </li>\r\n            <li>\r\n                <NavLink\r\n                    activeClassName=\"main-navigation__active\"\r\n                    to={Routes.SHOP_ROUTE}> Магазин </NavLink>\r\n            </li>\r\n            <li>\r\n                <NavLink\r\n                    activeClassName=\"main-navigation__active\"\r\n                    to={Routes.PAYMENT_DELIVERY_ROUTE}> Доставка і оплата </NavLink>\r\n            </li>\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default MainNavigation\r\n","import MainNavigation from './main-navigation';\r\n\r\nexport default MainNavigation;","export default __webpack_public_path__ + \"static/media/logo.6733eb09.png\";","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Logo from '../../assets/images/logo.png';\r\nimport { Routes } from '../../utils/consts';\r\nimport './main-logo.scss';\r\n\r\nfunction MainLogo({ classNames }) {\r\n\r\n    const className = !classNames ? `logo-wrapper` : `${classNames} logo-wrapper`;\r\n\r\n    return (\r\n        <div className={className}>\r\n            <Link to={Routes.HOME_ROUTE}>\r\n                <div className=\"main__logo\">\r\n                    <img src={Logo} alt=\"logo\" />\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MainLogo\r\n","import MainLogo from './main-logo';\r\n\r\nexport default MainLogo;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Routes } from '../../utils/consts';\r\n\r\nimport './login-panel.scss';\r\n\r\nfunction LoginPanel() {\r\n\r\n    return (\r\n        <ul className=\"login-panel\">\r\n            <li>\r\n                <NavLink\r\n                    activeClassName=\"login-panel__active\"\r\n                    to={Routes.LOGIN_ROUTE}> Увійти </NavLink>\r\n            </li>\r\n            <li>\r\n                <NavLink\r\n                    activeClassName=\"login-panel__active\"\r\n                    to={Routes.REGISTRATION_ROUTE}> Реєстрація </NavLink>\r\n            </li>\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default LoginPanel\r\n","import LoginPanel from './login-panel';\r\nexport default LoginPanel;","import React from 'react';\r\n\r\nimport MainLogo from '../main-logo';\r\nimport MainNavigation from '../main-navigation';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport LoginPanel from '../login-panel';\r\n\r\nimport './mobile-menu.scss';\r\n\r\nfunction MobileMenu() {\r\n    const [showMenu, setShowMenu] = React.useState(false);\r\n    const { isAuth } = useSelector(({ user }) => user);\r\n\r\n    const toggleMenu = () => {\r\n        setShowMenu(prevState => !prevState);\r\n    }\r\n\r\n    return (\r\n        <div className=\"mobile-menu-wrapper\">\r\n            <div className=\"mobile-btn-menu\" onClick={toggleMenu}>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n            </div>\r\n\r\n            <div onClick={toggleMenu} className={!showMenu ? \"mobile-menu\" : \"mobile-menu show-menu\"}>\r\n                <MainLogo />\r\n                <MainNavigation />\r\n                {!isAuth && <LoginPanel />}\r\n            </div>\r\n\r\n            <div\r\n                className={showMenu ? \"bg-mobile-menu\" : \"bg-mobile-menu d-none\"}\r\n                onClick={toggleMenu}>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MobileMenu;\r\n","import MobileMenu from './mobile-menu';\r\n\r\nexport default MobileMenu;","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUserLogout } from '../../../redux/actions';\r\nimport { DropdownButton, Dropdown } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { transformedUserName } from '../../../helpers/transformedUserName';\r\n\r\nimport './user-panel.scss';\r\nimport { Routes, UserDefault, UserRoles, ImgUrlDefault } from '../../../utils/consts';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction UserPanel() {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const { name, image, role, isAuth } = useSelector(({ user }) => user);\r\n\r\n    const userName = transformedUserName(name);\r\n\r\n    const logOut = () => {\r\n        dispatch(setUserLogout());\r\n        const pathname = history.location.pathname;\r\n\r\n        if (pathname === Routes.ORDERS_LIST ||\r\n            pathname === Routes.USER_PROFILE ||\r\n            pathname === Routes.USERS_LIST) {\r\n            history.push('/')\r\n        }\r\n\r\n        localStorage.removeItem('token');\r\n    }\r\n\r\n    const isAdmin = role === UserRoles.ADMIN && isAuth;\r\n\r\n    const imageUrl = !image ? UserDefault.IMAGE : image;\r\n\r\n    return (\r\n        <div className=\"user-panel\">\r\n            <div className=\"user-img\">\r\n                <img src={`${ImgUrlDefault.USERS}${imageUrl}`} alt=\"user-avatar\" />\r\n            </div>\r\n\r\n            <DropdownButton id=\"dropdown-basic-button\" title={userName}>\r\n\r\n                <Dropdown.Item as={Link} eventKey={\"1\"} to={Routes.USER_PROFILE}>\r\n                    Профіль\r\n                </Dropdown.Item>\r\n\r\n                {isAdmin\r\n                    && <Dropdown.Item as={Link} eventKey={\"4\"} to={Routes.USERS_LIST}>\r\n                        Список користувачів\r\n                    </Dropdown.Item>}\r\n\r\n                <Dropdown.Item as={Link} eventKey={\"2\"} to={Routes.ORDERS_LIST}>\r\n                    Список замовлень\r\n                </Dropdown.Item>\r\n\r\n                <Dropdown.Item onClick={logOut} eventKey={\"3\"}>\r\n                    Вихід\r\n                </Dropdown.Item>\r\n\r\n            </DropdownButton>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserPanel\r\n","import UserPanel from './user-panel';\r\nexport default UserPanel;","export const transformedUserName = (name) => {\r\n    if (name.trim().includes(' ')) {\r\n        return name.split(' ')[0];\r\n    };\r\n    return name.length > 10 ? name.slice(0, 10) + '...' : name;\r\n}","export default __webpack_public_path__ + \"static/media/cart.d7ea8a0a.png\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport MainNavigation from '../../main-navigation';\r\nimport MainLogo from '../../main-logo';\r\nimport MobileMenu from '../../mobile-menu';\r\nimport UserPanel from '../../user/user-panel'\r\n\r\nimport Cart from '../../../assets/images/cart.png';\r\n\r\nimport './header.scss';\r\nimport LoginPanel from '../../login-panel';\r\n\r\nconst Header = () => {\r\n    const [btnIsHighLighted, setBtnIsHighLighted] = React.useState(false);\r\n\r\n    const { totalPrice, totalCount } = useSelector(({ cart }) => cart);\r\n    const { isAuth } = useSelector(({ user }) => user);\r\n\r\n    const btnCartClasses = `button--cart d-flex mr-a ${btnIsHighLighted ? 'bump' : ''}`\r\n\r\n    React.useEffect(() => {\r\n        if (totalCount === 0) {\r\n            return;\r\n        }\r\n        setBtnIsHighLighted(true);\r\n\r\n        const timer = setTimeout(() => {\r\n            setBtnIsHighLighted(false);\r\n        }, 300)\r\n\r\n        return (() => {\r\n            clearTimeout(timer);\r\n        })\r\n    }, [totalCount])\r\n\r\n    return (\r\n        <div className=\"header align-items-center\">\r\n\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-1 col-md-5 col-lg-1\">\r\n                        <MobileMenu />\r\n                        <MainLogo classNames={'header-logo'} />\r\n                    </div>\r\n\r\n                    <div className=\"col-md-7 col-lg-6 align-items-center main-menu\">\r\n                        <MainNavigation />\r\n                    </div>\r\n\r\n                    <div className=\"col-11 col-md-7 col-lg-5 d-flex justify-content-end align-items-center\">\r\n\r\n                        {!isAuth ?\r\n                            <div className=\"login-panel-wrapper\"><LoginPanel /></div> : <UserPanel />}\r\n\r\n                        <Link to=\"/cart\">\r\n                            <div className={btnCartClasses}>\r\n                                <span>{totalPrice} ₴</span>\r\n                                <div className=\"button--cart__delimiter\"></div>\r\n                                <img className=\"button--cart__img\" src={Cart} alt=\"cart-img\" />\r\n                                <span>{totalCount}</span>\r\n                            </div>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n\r\n","import Header from './header';\r\n\r\nexport default Header;","import React from 'react';\r\nimport parse from 'html-react-parser';\r\nimport { AdminComponentsEdit } from '../../../admin/admin-components';\r\nimport { ImgUrlDefault } from '../../../../utils/consts';\r\n\r\nfunction FooterItem({ item, updateFooterInfo, isAdmin }) {\r\n    return (\r\n        <div key={item.id} className=\"col-12 col-md-3 d-flex align-items-center footer-block\">\r\n            <div className=\"footer__icon\">\r\n                {item.img && <img src={`${ImgUrlDefault.COMPONENTS}${item.img}`} className=\"img-fluid\" alt=\"main logo\" />}\r\n            </div>\r\n\r\n            <div className=\"footer__text\">\r\n                {parse(`${item.text}`)}\r\n            </div>\r\n            {isAdmin ? <div className=\"footer-editBtn\">\r\n                <AdminComponentsEdit data={item} updateData={updateFooterInfo} />\r\n            </div> : ''}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FooterItem\r\n","import FooterItem from './footer-item';\r\nexport default FooterItem;","import React from 'react';\r\nimport { getComponentInfoByName } from '../../../services/productsAPI';\r\nimport { ComponentName } from '../../../utils/consts';\r\nimport useIsAdmin from '../../../hooks/useIsAdmin';\r\nimport FooterItem from './footer-item';\r\n\r\nimport MainLogo from '../../main-logo';\r\n\r\nimport './footer.scss';\r\n\r\nfunction Footer() {\r\n    const isAdmin = useIsAdmin();\r\n\r\n    const [footerInfo, setFooterInfo] = React.useState({});\r\n\r\n    React.useEffect(() => {\r\n        updateFooterInfo();\r\n    }, [])\r\n\r\n    const updateFooterInfo = () => {\r\n        getComponentInfoByName(ComponentName.FOOTER).then(data => {\r\n            setFooterInfo(data)\r\n        })\r\n    }\r\n\r\n    const content = footerInfo.length > 0 && footerInfo.map(item => {\r\n        return <FooterItem\r\n            key={item.id}\r\n            item={item}\r\n            updateFooterInfo={updateFooterInfo}\r\n            isAdmin={isAdmin}\r\n        />\r\n    })\r\n\r\n    return (\r\n        <footer>\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 d-flex col-md-2 align-items-center text-center footer-block\">\r\n                        <MainLogo />\r\n                    </div>\r\n\r\n                    {content}\r\n\r\n                </div>\r\n                <hr />\r\n                <div className=\"text-center footer-text-author\">\r\n                    developed by <a href=\"https://www.facebook.com/anton.adart\" target=\"_blank\" rel=\"noreferrer\">Anton Vasylchenko</a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import Footer from './footer';\r\n\r\nexport default Footer;","import React, { useEffect } from 'react';\r\nimport Container from '../UI/container';\r\nimport Spinner from '../UI/spinner';\r\nimport PopularProducts from '../popular-products';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchItemDetails, addItemToCart } from '../../redux/actions';\r\nimport { AdminProductsEdit } from '../admin/admin-products';\r\nimport useIsAdmin from '../../hooks/useIsAdmin';\r\nimport useIsModerator from '../../hooks/useIsModerator';\r\nimport parse from 'html-react-parser';\r\nimport { ImgUrlDefault } from '../../utils/consts';\r\n\r\nimport './shop-item-details.scss';\r\n\r\nfunction ShopItemDetails({ itemId }) {\r\n    const dispatch = useDispatch();\r\n    const { itemDetails, isLoaded } = useSelector(({ goods }) => goods);\r\n\r\n    const cartItems = useSelector(({ cart }) => cart.items);\r\n    const countOfAdded = cartItems[itemId] && cartItems[itemId].length;\r\n\r\n    const isAdmin = useIsAdmin();\r\n    const isModerator = useIsModerator();\r\n\r\n    const handleAddItemToCart = () => {\r\n        dispatch(addItemToCart(itemDetails));\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchItemDetails(itemId));\r\n    }, [itemId, dispatch])\r\n\r\n    if (!itemDetails || Object.keys(itemDetails).length === 0) {\r\n        return <Spinner />;\r\n    }\r\n\r\n    const editAccess = isAdmin || isModerator;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Container title={itemDetails.name} backArrow>\r\n                {editAccess && itemDetails\r\n                    ? <AdminProductsEdit itemDetails={itemDetails} /> : ''}\r\n\r\n                {!isLoaded ? <Spinner /> :\r\n                    <div className=\"shop-item-details\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-6\">\r\n                                <div className=\"shop-item-details__image\">\r\n                                    <img src={`${ImgUrlDefault.PRODUCTS}${itemDetails.img}`} alt=\"item pictures\" />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                <div className=\"shop-item-details__block shop-item-details__info\">\r\n                                    <p className=\"desc-title\">Опис:</p>\r\n                                    <span>\r\n                                        {parse(`${itemDetails.description}`)}\r\n                                    </span>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"shop-item-details__bottom\">\r\n                            <div className=\"shop-item-details__price\">\r\n                                Ціна: {itemDetails.price} ₴\r\n                            </div>\r\n                            <button onClick={handleAddItemToCart} className=\"btn-add-to-cart\">\r\n                                +Додати {countOfAdded && <span>{countOfAdded}</span>}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </Container>\r\n\r\n            <PopularProducts title={\"Популярне у даній категорії\"} catId={itemDetails.categoryId} />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\n\r\nexport default ShopItemDetails\r\n","import ShopItemDetails from './shop-item-details';\r\n\r\nexport default ShopItemDetails;","import React from 'react';\r\nimport Container from '../UI/container';\r\n\r\nfunction Error404() {\r\n    return (\r\n        <div>\r\n            <Container>\r\n                <h3 className=\"text-center\"> Уууупс! Сторінку не знайдено :( </h3>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error404\r\n","import Error404 from './error-404';\r\n\r\nexport default Error404;","import React, { useState } from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { deleteUser } from '../../../../services/userAPI';\r\nimport ModalBox from '../../../UI/modal-box';\r\n\r\nfunction UserDelete(props) {\r\n    const [showDeletePopup, setShowDeletePopup] = useState(false);\r\n\r\n    const onDeleteHandler = () => {\r\n        deleteUser(props.id).then(data => {\r\n            if (data) {\r\n                props.onDeleteUser(props.id);\r\n            }\r\n        })\r\n    }\r\n\r\n    const onTogglePopup = () => {\r\n        setShowDeletePopup(prevState => !prevState);\r\n    }\r\n\r\n    return <>\r\n        <ModalBox\r\n            show={showDeletePopup}\r\n            onHide={onTogglePopup}\r\n            handleYes={onDeleteHandler}\r\n            handleNo={onTogglePopup}\r\n            title={`Видалення користувача`}\r\n            body={`Ви дійсно бажаєте видалити користувача ${props.name}`}\r\n        />\r\n\r\n        <Button variant=\"danger\" onClick={onTogglePopup}>X</Button>\r\n    </>;\r\n}\r\n\r\nexport default UserDelete;\r\n","import React from 'react';\r\nimport './user-item.scss';\r\nimport { Form } from 'react-bootstrap';\r\nimport { changeRole } from '../../../../services/userAPI';\r\nimport { useSelector } from 'react-redux';\r\nimport UserDelete from '../user-delete/user-delete';\r\n\r\nfunction UserItem(props) {\r\n    const { page,\r\n        pageLimit,\r\n        index,\r\n        id,\r\n        role,\r\n        email,\r\n        phone,\r\n        name } = props;\r\n\r\n    const { id: idUserLogined } = useSelector(({ user }) => user);\r\n\r\n    let userNumber = props.page === 2 ?\r\n        index + pageLimit : page * pageLimit - pageLimit + index;\r\n\r\n\r\n    const changeRoleHandler = (e) => {\r\n        changeRole(id, e.target.value);\r\n    }\r\n\r\n    return (\r\n        <tr>\r\n            <td>{userNumber + 1}</td>\r\n            <td>{id}</td>\r\n            <td>{name}</td>\r\n            <td>{!phone ? '---------' : phone}</td>\r\n            <td>{email}</td>\r\n            <td>\r\n                {idUserLogined !== id ?\r\n                    <Form.Control as=\"select\" defaultValue={role} onChange={changeRoleHandler}>\r\n                        <option value=\"ADMIN\">ADMIN</option>\r\n                        <option value=\"MODERATOR\">MODERATOR</option>\r\n                        <option value=\"USER\">USER</option>\r\n                    </Form.Control> : role\r\n                }\r\n            </td>\r\n            <td>\r\n                {idUserLogined !== id ?\r\n                    <UserDelete id={id} onDeleteUser={props.onDeleteUser} name={name} /> : ''}\r\n            </td>\r\n        </tr >\r\n    )\r\n}\r\n\r\nexport default UserItem\r\n","import UserItem from './user-item';\r\nexport default UserItem;","import React from 'react';\r\nimport Container from '../../UI/container';\r\nimport apiServices from '../../../services/api-services';\r\nimport UserItem from './user-item';\r\nimport { Table } from 'react-bootstrap';\r\nimport Pagination from '../../UI/pagination'\r\n\r\nimport './users-list.scss';\r\n\r\nfunction UsersList() {\r\n    const [users, setUsers] = React.useState('');\r\n    const [totalCount, setTotalCount] = React.useState(5);\r\n    const [page, setPage] = React.useState(1);\r\n\r\n    const limit = 9;\r\n\r\n    React.useEffect(() => {\r\n        const getUsers = () => {\r\n            apiServices.getUsers(limit, page).then(data => {\r\n                setUsers(data.rows);\r\n                setTotalCount(data.count)\r\n            })\r\n        }\r\n\r\n        getUsers();\r\n    }, [page])\r\n\r\n    const deleteUserHandler = (id) => {\r\n        const newUsers = users.filter(user => user.id !== id);\r\n\r\n        if (newUsers.length === 0 && page > 1) {\r\n            setPage(prevState => prevState - 1)\r\n        }\r\n        setUsers([...newUsers]);\r\n    }\r\n\r\n    return (\r\n        <Container title={'Список зареєстрованих користувачів'}>\r\n            <div className=\"users-list\">\r\n                <Table responsive>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>#</th>\r\n                            <th>ID</th>\r\n                            <th>Name</th>\r\n                            <th>Phone</th>\r\n                            <th>Email</th>\r\n                            <th>Role</th>\r\n                            <th>Delete</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {users.length !== 0 &&\r\n                            users.map((user, index) => (\r\n                                <UserItem\r\n                                    onDeleteUser={deleteUserHandler}\r\n                                    key={user.id}\r\n                                    index={index}\r\n                                    pageLimit={limit}\r\n                                    page={page}\r\n                                    {...user}\r\n                                />\r\n                            ))}\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n\r\n            <Pagination\r\n                currentPage={page}\r\n                totalCount={totalCount}\r\n                pageSize={limit}\r\n                onPageChange={page => setPage(page)}\r\n            />\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default UsersList\r\n","import UsersList from './users-list';\r\nexport default UsersList;","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport './admin-order-delete.scss';\r\nimport { deleteOrders } from '../../../services/productsAPI';\r\nimport { fetchOrders, setOrdersPage } from '../../../redux/actions';\r\nimport ModalBox from '../../UI/modal-box';\r\n\r\nfunction AdminOrderDelete(props) {\r\n    const dispatch = useDispatch();\r\n\r\n    const [showDeletePopup, setShowDeletePopup] = useState(false);\r\n\r\n    const { pageOrders, limit, items } = useSelector(({ orders }) => orders);\r\n\r\n    const onDeleteHandler = () => {\r\n        deleteOrders(props.id).then(data => {\r\n            dispatch(fetchOrders(pageOrders, limit))\r\n            if (items.length === 1 && pageOrders > 1) {\r\n                dispatch(setOrdersPage(pageOrders - 1))\r\n            }\r\n        })\r\n\r\n        onShowPopupHandler();\r\n    }\r\n\r\n    const onShowPopupHandler = () => {\r\n        setShowDeletePopup(prevState => !prevState);\r\n    }\r\n\r\n    return <>\r\n        <ModalBox\r\n            show={showDeletePopup}\r\n            onHide={onShowPopupHandler}\r\n            handleNo={onShowPopupHandler}\r\n            handleYes={onDeleteHandler}\r\n            title={`Видалення замовлення`}\r\n            body={`Ви дійсно бажаєте видалити замовлення №${props.orderNumber} ?`}\r\n        />\r\n        <div className=\"del-order-btn\" onClick={onShowPopupHandler}>Видалити</div>\r\n    </>\r\n}\r\n\r\nexport default AdminOrderDelete;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ImgUrlDefault, ProductDefault } from '../../../utils/consts';\r\n\r\nfunction OrderTableItem({ item }) {\r\n    const [isProductDeleted, setIsProductDeleted] = useState(false);\r\n\r\n    const onErrorImage = (e) => {\r\n        setIsProductDeleted(true);\r\n        e.target.onError = null;\r\n        e.target.src = `${ImgUrlDefault.PRODUCTS}${ProductDefault.IMAGE}`;\r\n    }\r\n\r\n    return <tr key={item.id}>\r\n        <td className=\"order-table-img\">\r\n            <img src={`${ImgUrlDefault.PRODUCTS}${item.img}`} onError={onErrorImage} alt=\"poster\" />\r\n        </td>\r\n        <td>\r\n            {isProductDeleted ? <p>{item.name}</p> : <Link to={`/shop/${item.goodsId}`}>{item.name}</Link>}\r\n        </td>\r\n        <td>{item.count}</td>\r\n        <td>{item.price * item.count} ₴</td>\r\n    </tr>\r\n}\r\n\r\nexport default OrderTableItem;\r\n","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport OrderTableItem from './order-table-item';\r\n\r\nimport './orders-table.scss';\r\n\r\nfunction OrdersTable(props) {\r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>#</th>\r\n                    <th>Назва</th>\r\n                    <th>Кількість</th>\r\n                    <th>Сума</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.items.map(item => <OrderTableItem key={item.id} item={item} />)}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\nexport default OrdersTable\r\n","import OrdersTable from './orders-table';\r\nexport default OrdersTable;","import React from 'react'\r\nimport DropdownArrow from '../../UI/dropdown-arrow'\r\nimport { useDispatch } from 'react-redux';\r\nimport { fetchOrdersItems } from '../../../redux/actions/orders';\r\nimport { ImgUrlDefault, ProductDefault } from '../../../utils/consts';\r\nimport AdminOrderDelete from '../../admin/admin-order-delete/admin-order-delete';\r\nimport useIsAdmin from '../../../hooks/useIsAdmin';\r\n\r\nimport './orders-list-item.scss';\r\nimport OrdersTable from '../orders-table';\r\n\r\nfunction OrdersListItem(props) {\r\n    const dispatch = useDispatch();\r\n    const isAdmin = useIsAdmin();\r\n\r\n    const [dropdownOrder, setDropdownOrder] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        dispatch(fetchOrdersItems(props.orderNumber));\r\n    }, [dispatch, props.orderNumber]);\r\n\r\n    const showOrderDetailsHandler = () => {\r\n        setDropdownOrder(prevState => !prevState);\r\n    }\r\n\r\n    const onErrorImage = (e) => {\r\n        e.target.onError = null;\r\n        e.target.src = `${ImgUrlDefault.PRODUCTS}${ProductDefault.IMAGE}`;\r\n    }\r\n\r\n    const orderImages = props.goods.map(item => item.img);\r\n\r\n    const images = orderImages.slice(0, 3).map((img, index) => {\r\n        return <img key={index + img} src={`${ImgUrlDefault.PRODUCTS}${img}`} onError={onErrorImage} alt=\"poster\" />\r\n    });\r\n\r\n    const orderData = props.date.split('T')[0].split('-').join('/');\r\n\r\n    return (\r\n        <>\r\n            <li className=\"orders-item-list\">\r\n\r\n                <div className=\"order-item\" onClick={showOrderDetailsHandler}>\r\n                    <div className=\"order-item__section order-item__number\">\r\n                        <span>№</span> {props.orderNumber}\r\n                    </div>\r\n                    <div className=\"order-item__section order-item__date\">\r\n                        <span>Дата:</span> {orderData}\r\n                    </div>\r\n                    <div className=\"order-item__section order-item__amount\">\r\n                        <span>Загальна сума:</span> {props.totalAmount} ₴\r\n                    </div>\r\n                    <div className=\"order-item__section order-item__images\">\r\n                        {images}\r\n                        {orderImages.length > 3 ? `+${orderImages.length - 3}` : ''}\r\n                    </div>\r\n\r\n                    <div className=\"drop-arrow\">\r\n                        <DropdownArrow rotate={dropdownOrder} />\r\n                    </div>\r\n                </div>\r\n\r\n                {dropdownOrder &&\r\n                    <>\r\n                        <OrdersTable items={props.goods} />\r\n\r\n                        <div className=\"user-order-info\">\r\n                            <p><span>Ім'я:</span> {props.userName}</p>\r\n                            <p><span>Пошта:</span> {props.userEmail}</p>\r\n                            <p><span>Телефон:</span> {props.userPhone}</p>\r\n                            <span><p>{!props.goods[0].userId && 'не зареєстрований користувач'}</p></span>\r\n                        </div>\r\n\r\n                        <div className=\"orders-item-list__total\"><span>Загальна сума:</span> {props.totalAmount} ₴</div>\r\n                        {isAdmin && <AdminOrderDelete id={props.id} orderNumber={props.orderNumber} />}\r\n                    </>}\r\n            </li>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default OrdersListItem\r\n","import OrdersListItem from './orders-list-item';\r\nexport default OrdersListItem;","import React from 'react';\r\nimport Container from '../UI/container'\r\nimport OrdersListItem from './orders-list-item';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchOrders, setOrdersPage } from '../../redux/actions';\r\nimport Pagination from '../UI/pagination';\r\n\r\nimport './orders-list.scss';\r\nimport { UserRoles } from '../../utils/consts';\r\n\r\nfunction OrdersList() {\r\n    const dispatch = useDispatch();\r\n\r\n    const { id, role } = useSelector(({ user }) => user);\r\n    const { pageOrders, limit, items, isLoaded, totalCount } = useSelector(({ orders }) => orders);\r\n\r\n    const ordersList = items && items.map((order, index) => <OrdersListItem key={order.orderNumber} {...order} />);\r\n\r\n    React.useEffect(() => {\r\n        if (role !== UserRoles.ADMIN) {\r\n            dispatch(fetchOrders(pageOrders, limit, id))\r\n        } else {\r\n            dispatch(fetchOrders(pageOrders, limit))\r\n        }\r\n    }, [id, pageOrders, limit, dispatch, role]);\r\n\r\n    const handleChangePage = (pageNumber) => {\r\n        dispatch(setOrdersPage(pageNumber));\r\n    }\r\n\r\n    return (\r\n        <Container title={'Мої замовлення'} isLoaded={isLoaded}>\r\n            <ul>\r\n                {ordersList.length === 0 ?\r\n                    <p className=\"order-list-empty\">Список замовлень відсутній</p> : ordersList}\r\n            </ul>\r\n\r\n            <Pagination\r\n                currentPage={pageOrders}\r\n                totalCount={totalCount}\r\n                pageSize={limit}\r\n                onPageChange={pageOrders => handleChangePage(pageOrders)}\r\n            />\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default OrdersList\r\n","import OrdersList from './orders-list';\r\nexport default OrdersList;","import React, { useState } from 'react';\r\nimport { isFiveChars } from '../../helpers/isValidInput';\r\nimport Container from '../../components/UI/container';\r\nimport { Alert } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { resetPassword } from '../../services/userAPI';\r\n\r\nfunction ResetPasswordPage({ userId, token }) {\r\n    const [error, setError] = useState('');\r\n    const [enteredPasswordInput, setEnteredPasswordInput] = useState('');\r\n\r\n    const history = useHistory();\r\n\r\n    const onChangePasswordHandler = (e) => {\r\n        setError('');\r\n        setEnteredPasswordInput(e.target.value);\r\n    }\r\n\r\n    const onSubmitNewPassword = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!isFiveChars(enteredPasswordInput)) {\r\n            setError('Пароль повинен бути не менше 5 символів');\r\n            return;\r\n        }\r\n\r\n        resetPassword(userId, token, enteredPasswordInput).then(data => {\r\n            console.log(data);\r\n        })\r\n\r\n        history.push('/login');\r\n    }\r\n\r\n    return <Container>\r\n        <form className=\"login-form\" onSubmit={onSubmitNewPassword}>\r\n\r\n            {error.length > 0 && <Alert variant='danger'>\r\n                {error}\r\n            </Alert>}\r\n\r\n            <h3> Введіть новий пароль: </h3>\r\n\r\n            <div className=\"form-outline mb-4\">\r\n                <input\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    className=\"form-control\"\r\n                    value={enteredPasswordInput}\r\n                    onChange={onChangePasswordHandler}\r\n                />\r\n            </div>\r\n\r\n            <button type=\"submit\" className=\"btn btn-primary btn-block\">Змінити пароль</button>\r\n        </form>\r\n    </Container >;\r\n}\r\n\r\nexport default ResetPasswordPage;\r\n","import React from 'react';\r\nimport { Button, Form, Alert, } from 'react-bootstrap';\r\nimport { ImgUrlDefault } from '../../../../utils/consts';\r\n\r\nimport './profile-edit-form.scss';\r\n\r\nfunction ProfileEditForm(props) {\r\n    const [enteredName, setEnteredName] = React.useState(props.name);\r\n    const [enteredEmail, setEnteredEmail] = React.useState(props.email);\r\n    const [enteredPhone, setEnteredPhone] = React.useState(props.phone);\r\n    const [selectedImage, setSelectedImage] = React.useState('')\r\n    const [error, setError] = React.useState('')\r\n\r\n    const onHideForm = () => {\r\n        props.onShowFormHandler();\r\n        setError('');\r\n    }\r\n\r\n    const selectFile = (e) => {\r\n        const fileType = e.target.files[0].type.split('/')[0];\r\n        if (fileType !== 'image') {\r\n            setError('Помилка! Заборонений тип файла');\r\n            return;\r\n        }\r\n        setError('');\r\n        setSelectedImage(e.target.files[0]);\r\n    }\r\n\r\n    const onChangeNameHandler = (e) => {\r\n        setError('');\r\n        setEnteredName(e.target.value)\r\n    }\r\n    const onChangeEmailHandler = (e) => {\r\n        setError('');\r\n        setEnteredEmail(e.target.value)\r\n    }\r\n    const onChangePhoneHandler = (e) => {\r\n        setError('');\r\n        setEnteredPhone(e.target.value)\r\n    }\r\n\r\n    const onSubmitHandler = () => {\r\n        if (enteredName.trim().length === 0) {\r\n            setError('Помилка! Ім\\'я не може бути порожнім');\r\n            return;\r\n        }\r\n\r\n        if (!enteredEmail.includes('@') || enteredEmail.trim().length === 0) {\r\n            setError('Помилка! Ви ввели не корректну пошту');\r\n            return;\r\n        }\r\n\r\n        const newProfile = {\r\n            name: enteredName,\r\n            email: enteredEmail,\r\n            phone: enteredPhone,\r\n            image: selectedImage\r\n        }\r\n\r\n        props.onSaveProfile(newProfile);\r\n        onHideForm();\r\n    }\r\n\r\n    const imgUrl = selectedImage.length === 0 ?\r\n        `${ImgUrlDefault.USERS}${props.image}` : URL.createObjectURL(selectedImage);\r\n\r\n    return (\r\n        <Form onSubmit={onSubmitHandler} >\r\n\r\n            {error && <Alert className=\"m-2 profile-edit__error\" variant={'danger'}>\r\n                {error}\r\n            </Alert>}\r\n\r\n            <div className=\"user-profile\">\r\n                <div className=\"user-profile__image profile-edit-form__image\">\r\n\r\n                    <img src={`${imgUrl}`} alt=\"user-avatar\" />\r\n\r\n                    <Form.Control\r\n                        onChange={selectFile}\r\n                        type=\"file\"\r\n                        placeholder=\"Enter the image url\"\r\n                    />\r\n\r\n                </div>\r\n\r\n                <div className=\"user-info\">\r\n                    <div className=\"user-profile__item\">\r\n                        <span>\r\n                            Ім'я:\r\n                        </span>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            placeholder=\"Введіть ваше ім'я\"\r\n                            value={enteredName}\r\n                            onChange={onChangeNameHandler}\r\n                        />\r\n                    </div>\r\n                    <div className=\"user-profile__item\">\r\n                        <span>Email: </span>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            placeholder=\"Введіть вашу пошту\"\r\n                            value={enteredEmail}\r\n                            onChange={onChangeEmailHandler}\r\n                        />\r\n                    </div>\r\n                    <div className=\"user-profile__item\">\r\n                        <span>Телефон: </span>\r\n                        <Form.Control\r\n                            type=\"number\"\r\n                            placeholder=\"Введіть ваш мобільний номер\"\r\n                            value={enteredPhone ? enteredPhone : ''}\r\n                            onChange={onChangePhoneHandler}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"profile-edit-form__nav\">\r\n                <Button variant=\"secondary\" onClick={onHideForm}>\r\n                    Відмінити\r\n                </Button>\r\n\r\n                <Button className=\"m-2\" variant=\"primary\" type=\"button\" onClick={onSubmitHandler}>\r\n                    Зберегти\r\n                </Button>\r\n            </div>\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default ProfileEditForm\r\n","import React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Modal, Form, Col, Button, Alert } from 'react-bootstrap';\r\nimport { changePassword } from '../../../../services/userAPI';\r\nimport { isFiveChars, isEmpty } from '../../../../helpers/isValidInput';\r\nimport './change-password-form.scss';\r\n\r\nfunction ChangePasswordForm() {\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [currentPasswordInput, setCurrentPasswordInput] = useState('');\r\n    const [newPasswordInput, setNewPasswordInput] = useState('');\r\n    const [serverError, setServerError] = useState('');\r\n\r\n    const [errors, setErrors] = useState({\r\n        currentPassword: '',\r\n        newPassword: '',\r\n    });\r\n\r\n    const { id } = useSelector(({ user }) => user);\r\n\r\n    const updateErrors = (inputName, msg) => {\r\n        setErrors(state => {\r\n            return {\r\n                ...state,\r\n                [inputName]: msg\r\n            }\r\n        })\r\n    }\r\n\r\n    const onChangePasswordHandler = (e) => {\r\n        setShowForm(prevState => !prevState);\r\n    }\r\n\r\n    const onChangeCurrentPasswordInput = (e) => {\r\n        setCurrentPasswordInput(e.target.value);\r\n\r\n        updateErrors('currentPassword', '');\r\n    }\r\n\r\n    const onChangeNewPasswordInput = (e) => {\r\n        setNewPasswordInput(e.target.value);\r\n\r\n        updateErrors('newPassword', '');\r\n    }\r\n\r\n    const onSavePassword = () => {\r\n        if (isEmpty(currentPasswordInput)) {\r\n            updateErrors('currentPassword', 'Ваш пароль не збігається');\r\n            return;\r\n        }\r\n\r\n        if (!isFiveChars(newPasswordInput)) {\r\n            updateErrors('newPassword', 'Пароль повинен бути не коротшим 5 символів');\r\n            return;\r\n        }\r\n\r\n        changePassword(currentPasswordInput, newPasswordInput, id).then(data => {\r\n            onChangePasswordHandler();\r\n        }).catch(error => {\r\n            setServerError('Невірний поточний пароль');\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {showForm && <Modal size=\"lg\" animation={true} show={showForm} onHide={onChangePasswordHandler}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title> Зміна паролю </Modal.Title>\r\n                </Modal.Header>\r\n\r\n                {serverError.length !== 0 && <Alert variant=\"danger\" className=\"m-2\">\r\n                    {serverError}\r\n                </Alert>}\r\n\r\n                <Modal.Body>\r\n                    <Form>\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} controlId=\"currentPasswrod\">\r\n                                <Form.Label>\r\n                                    Поточний пароль\r\n                                </Form.Label>\r\n                                <Form.Control\r\n                                    type=\"password\"\r\n                                    value={currentPasswordInput}\r\n                                    onChange={onChangeCurrentPasswordInput}\r\n                                    placeholder=\"Введіть ваш поточний пароль\"\r\n                                />\r\n                                {errors.currentPassword.length !== 0 && <p className=\"error-input\">{errors.currentPassword}</p>}\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n\r\n                        <br />\r\n\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} controlId=\"phone\">\r\n                                <Form.Label>\r\n                                    Новий пароль\r\n                                </Form.Label>\r\n                                <Form.Control\r\n                                    type=\"password\"\r\n                                    value={newPasswordInput}\r\n                                    onChange={onChangeNewPasswordInput}\r\n                                    placeholder=\"Введіть, будь ласка, новий пароль\"\r\n                                />\r\n                                {errors.newPassword.length !== 0 && <p className=\"error-input\">{errors.newPassword}</p>}\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n\r\n                        <br />\r\n\r\n                        <hr />\r\n\r\n                        <Button variant=\"secondary\" onClick={onChangePasswordHandler}>\r\n                            Відмінити\r\n                        </Button>\r\n\r\n                        <Button className=\"m-2\" variant=\"primary\" id=\"btn\" type=\"button\" onClick={onSavePassword}>\r\n                            Зберегти\r\n                        </Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n            </Modal>}\r\n            <span>\r\n                <button className=\"change-password-btn\"\r\n                    onClick={onChangePasswordHandler}>Змінити пароль</button>\r\n            </span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChangePasswordForm;\r\n","import React from 'react';\r\nimport Container from '../../UI/container';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { PencilSquare } from 'react-bootstrap-icons';\r\nimport { setUser } from '../../../redux/actions';\r\nimport { updateUser } from '../../../services/userAPI';\r\nimport ProfileEditForm from './profile-edit-form/profile-edit-form';\r\n\r\nimport './user-profile.scss';\r\nimport { ImgUrlDefault, UserDefault } from '../../../utils/consts';\r\nimport ChangePasswordForm from './change-password-form/change-password-form';\r\n\r\nfunction UserProfile() {\r\n    const dispatch = useDispatch();\r\n\r\n    const { id, image, name, email, phone } = useSelector(({ user }) => user);\r\n\r\n    const [isFormVisible, setIsFormVisible] = React.useState(false);\r\n    const [isLoaded, setIsLoading] = React.useState(true);\r\n\r\n    const onShowFormHandler = () => {\r\n        setIsFormVisible(prevState => !prevState);\r\n    }\r\n\r\n    const onSaveProfile = (profile) => {\r\n        try {\r\n            setIsLoading(false);\r\n            const formData = new FormData();\r\n            formData.append('name', profile.name);\r\n            formData.append('email', profile.email);\r\n            formData.append('phone', profile.phone);\r\n\r\n            typeof profile.image !== 'string' && formData.append('image', profile.image);\r\n\r\n            updateUser(formData, id).then(data => {\r\n                profile.image = data.image;\r\n                dispatch(setUser(profile))\r\n                setIsLoading(true);\r\n            })\r\n        } catch (e) {\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n\r\n    const imgUrl = !image ? UserDefault.IMAGE : image;\r\n\r\n    return (\r\n        <Container title=\"Профіль\" isLoaded={isLoaded}>\r\n            {!isFormVisible ? <div className=\"user-profile\">\r\n                <div className=\"user-profile__image\">\r\n                    <img src={`${ImgUrlDefault.USERS}${imgUrl}`} alt=\"user-avatar\" />\r\n                </div>\r\n                <div className=\"user-info\">\r\n                    <div className=\"edit-profile-btn\" onClick={onShowFormHandler}>\r\n                        <PencilSquare />\r\n                    </div>\r\n                    <div className=\"user-profile__item\">\r\n                        <span>Ім'я: </span>\r\n                        {name}\r\n                    </div>\r\n                    <div className=\"user-profile__item\">\r\n                        <span>Email: </span>\r\n                        {email}\r\n                    </div>\r\n                    <div className=\"user-profile__item\">\r\n                        <span>Номер телефону: </span>\r\n                        {phone ? phone : ''}\r\n                    </div>\r\n                    <div className=\"user-profile__item\">\r\n                        <ChangePasswordForm />\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n                :\r\n                <ProfileEditForm\r\n                    image={imgUrl}\r\n                    name={name}\r\n                    email={email}\r\n                    phone={phone}\r\n                    onShowFormHandler={onShowFormHandler}\r\n                    onSaveProfile={onSaveProfile}\r\n                />\r\n            }\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default UserProfile\r\n","import UserProfile from './user-profile';\r\nexport default UserProfile;","import React, { Suspense } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setIsAuth, setUser } from '../redux/actions';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport Header from '../components/Layout/header';\r\nimport Footer from '../components/Layout/footer';\r\nimport ShopItemDetails from '../components/shop-item-details';\r\nimport Error404 from '../components/error-404';\r\nimport UsersList from '../components/admin/users-list';\r\nimport { Routes } from '../utils/consts';\r\nimport OrdersList from '../components/orders-list';\r\nimport Spinner from '../components/UI/spinner';\r\nimport { useSelector } from 'react-redux';\r\nimport ResetPasswordPage from '../pages/reset-password-page/reset-password-page';\r\nimport UserProfile from '../components/user/user-profile';\r\n\r\nimport { check } from '../services/userAPI';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './App.scss';\r\n\r\nconst HomePage = React.lazy(() => import('../pages/home-page'));\r\nconst ContactsPage = React.lazy(() => import('../pages/contacts-page'));\r\nconst AboutUsPage = React.lazy(() => import('../pages/about-us-page'));\r\nconst PaymentDeliveryPage = React.lazy(() => import('../pages/payment-delivery-page'));\r\nconst CartPage = React.lazy(() => import('../pages/cart-page'));\r\nconst ShopPage = React.lazy(() => import('../pages/shop-page'));\r\nconst AuthPage = React.lazy(() => import('../pages/auth-page'));\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const { isAuth } = useSelector(({ user }) => user);\r\n\r\n  React.useEffect(() => {\r\n    check().then(data => {\r\n      dispatch(setIsAuth(true))\r\n      dispatch(setUser(data))\r\n    }).finally(() => {\r\n      setLoading(false)\r\n    })\r\n  }, [dispatch])\r\n\r\n  if (loading) {\r\n    return <Spinner />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Suspense fallback={\r\n        <Spinner />\r\n      }>\r\n        <Header />\r\n\r\n        <Switch>\r\n          <Route exact path={Routes.HOME_ROUTE} component={HomePage} />\r\n          <Route exact path={Routes.ABOUT_ROUTE} component={AboutUsPage} />\r\n          <Route exact path={Routes.CONTACTS_ROUTE} component={ContactsPage} />\r\n          <Route exact path={Routes.PAYMENT_DELIVERY_ROUTE} component={PaymentDeliveryPage} />\r\n          <Route exact path={Routes.CART_ROUTE} component={CartPage} />\r\n          <Route path={Routes.SHOP_ROUTE} exact component={ShopPage} />\r\n\r\n          <Route path={Routes.SHOP_ITEM_ROUTE} render={({ match }) => {\r\n            return <ShopItemDetails itemId={match.params.id} exact />\r\n          }} />\r\n\r\n          <Route path={Routes.LOGIN_ROUTE} component={AuthPage} />\r\n          <Route path={Routes.REGISTRATION_ROUTE} component={AuthPage} />\r\n\r\n          {isAuth &&\r\n            [\r\n              <Route path={Routes.ORDERS_LIST} key={Routes.ORDERS_LIST} component={OrdersList} />,\r\n              <Route path={Routes.USERS_LIST} key={Routes.USERS_LIST} component={UsersList} />,\r\n              <Route path={Routes.USER_PROFILE} key={Routes.USER_PROFILE} component={UserProfile} />\r\n            ]\r\n          }\r\n\r\n          <Route path={Routes.USER_RESET_PASSWORD} render={({ match }) => {\r\n            return <ResetPasswordPage userId={match.params.id} token={match.params.token} />\r\n          }} />\r\n\r\n          <Route path=\"*\" component={Error404} />\r\n        </Switch>\r\n        <Footer />\r\n      </Suspense>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n","import App from './App';\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\n\r\nimport ScrollToTop from './components/scroll-to-top/scroll-to-top';\r\n\r\nimport App from './app';\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Provider store={store}>\r\n      <ScrollToTop>\r\n        <App />\r\n      </ScrollToTop>\r\n    </Provider>\r\n  </Router >,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}