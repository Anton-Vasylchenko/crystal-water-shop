(this["webpackJsonpfrontend-water"]=this["webpackJsonpfrontend-water"]||[]).push([[0],Array(60).concat([function(e,t,a){},,,,,,,,,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(19),r=a.n(n),i=a(9),o=a(3),l=a(28),d=a(79);const j={items:[],itemDetails:{},page:1,totalCount:0,limit:8,isLoaded:!1};var b=(e=j,t)=>{switch(t.type){case"SET_GOODS":return{...e,items:t.payload,isLoaded:!0};case"SET_POPULAR_GOODS":return{...e,popularItems:t.payload,isLoaded:!0};case"SET_ITEM_DETAILS":return{...e,itemDetails:t.payload,isLoaded:!0};case"SET_LOADED":return{...e,isLoaded:t.payload};case"SET_PAGE":return{...e,page:t.payload};case"SET_LIMIT":return{...e,limit:t.payload};case"SET_TOTAL_COUNT":return{...e,totalCount:t.payload};default:return e}};const m={activeCategory:null,sortBy:"name",sortOrder:"asc"};var h=(e=m,t)=>"SET_SORT_BY"===t.type?{...e,sortBy:t.payload}:"SET_SORT_ORDER"===t.type?{...e,sortOrder:t.payload}:"SET_CATEGORIES"===t.type?{...e,categories:t.payload}:"SET_ACTIVE_CATEGORY"===t.type?{...e,activeCategory:t.payload}:e;const O={items:[],isLoaded:!1};var u=(e=O,t)=>"SET_ADVANTAGES"===t.type?{...e,items:t.payload,isLoaded:!0}:e;const x={items:{},totalCount:0,totalPrice:0},p=(e,t)=>Object.keys(e).filter((e=>e!=="".concat(t))).reduce(((t,a)=>(t[a]=e[a],t)),{});var g=(e=x,t)=>{const a=t.payload;switch(t.type){case"ADD_ITEM_TO_CART":const t=a.id,c=e.items[t];return{...e,items:{...e.items,[t]:c?[...e.items[t],a]:[a]},itemTotalCount:{...e.itemTotalCount,[t]:c?e.itemTotalCount[t]+1:1},itemTotalPrice:{...e.itemTotalPrice,[t]:c?e.itemTotalPrice[t]+a.price:a.price},totalCount:e.totalCount+1,totalPrice:e.totalPrice+a.price};case"MINUS_CART_ITEM":const[s,...n]=e.items[a];return{...e,items:{...e.items,[a]:n},itemTotalPrice:{...e.itemTotalPrice,[a]:e.itemTotalPrice[a]-s.price},itemTotalCount:{...e.itemTotalCount,[a]:e.itemTotalCount[a]-1},totalCount:e.totalCount-1,totalPrice:e.totalPrice-s.price};case"REMOVE_CART_ITEM":return{...e,items:p(e.items,a),itemTotalPrice:p(e.itemTotalPrice,a),itemTotalCount:p(e.itemTotalCount,a),totalCount:e.totalCount-e.itemTotalCount[a],totalPrice:e.totalPrice-e.itemTotalPrice[a]};case"CLEAR_CART":return{items:{},totalCount:0,totalPrice:0};default:return e}};const v={role:"USER",isAuth:!1,email:"",name:"",id:"",phone:""};var f=(e=v,t)=>{switch(t.type){case"SET_IS_AUTH":return{...e,isAuth:t.payload};case"SET_USER":return{...e,...t.payload};case"SET_ROLE":return{...e,role:t.payload};case"SET_USER_LOGOUT":return{role:"USER",isAuth:!1,email:"",name:"",id:"",phone:""};default:return e}};const N={items:[],pageOrders:1,totalCount:0,limit:10,isLoaded:!1,isLoadedOrderItems:!1};var y=(e=N,t)=>{switch(t.type){case"SET_ORDERS":const a={};for(let e=0;e<t.payload.length;e++)a[t.payload[e].orderNumber]||(a[t.payload[e].orderNumber]=[]),a[t.payload[e].orderNumber].push(t.payload[e]);const c=[];for(let e in a){const t={};t.orderNumber=a[e][0].orderNumber,t.userName=a[e][0].userName,t.userEmail=a[e][0].userEmail,t.userPhone=a[e][0].userPhone,t.id=a[e][0].id,t.totalAmount=a[e][0].amount,t.date=a[e][0].createdAt,t.goods=[],c.push(t)}return{...e,items:[...c],isLoaded:!0};case"SET_ORDERS_ITEMS":const s=t.payload[0].orderNumber;let n;for(let r=0;r<e.items.length;r++)n=[...e.items],e.items[r].orderNumber===s?n[r].goods=[...t.payload]:n[r].goods=[...e.items[r].goods];return{...e,items:n?[...n]:[],isLoaded:!0};case"SET_ORDERS_LOADED":return{...e,isLoaded:t.payload};case"SET_ORDERS_ITEMS_LOADED":return{...e,isLoadedOrderItems:t.payload};case"SET_ORDERS_PAGE":return{...e,pageOrders:t.payload};case"SET_LIMIT":return{...e,limit:t.payload};case"SET_TOTAL_COUNT":return{...e,totalCount:t.payload};default:return e}};var C=Object(l.c)({goods:b,filters:h,advantages:u,cart:g,user:f,orders:y});const _=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d;var S=Object(l.e)(C,_(Object(l.a)(d.a))),w=a(13);var E=Object(w.h)((({children:e,location:{pathname:t}})=>(Object(c.useEffect)((()=>{window.scrollTo({top:0,left:0})}),[t]),e||null))),T=a(25),k=a.n(T);var I=new class{constructor(){this._baseUrl="api/",this.getResource=async e=>{const t=await fetch("".concat(this._baseUrl).concat(e));if(!t.ok)throw new Error("Could not fetch ".concat(e,", received ").concat(t.status));return t.json()},this.getGoods=async(e,t,a,c,s)=>{const{data:n}=await k.a.get("".concat(this._baseUrl,"product"),{params:{categoryId:t,sortOrder:a,sortBy:e,limit:s,page:c}});return n},this.getOrders=async(e,t,a)=>{const{data:c}=await k.a.get("".concat(this._baseUrl,"order"),{params:{userId:a,limit:t,page:e}});return c},this.getOrdersItems=async e=>{const{data:t}=await k.a.get("".concat(this._baseUrl,"order/items"),{params:{orderId:e}});return t},this.getUsers=async(e,t)=>{const{data:a}=await k.a.get("".concat(this._baseUrl,"user"),{params:{limit:e,page:t}});return a},this.getProductByCatId=async e=>{const{data:t}=await k.a.get("".concat(this._baseUrl,"product/byCategory/").concat(e));return t},this.getShopItemById=async e=>{const{data:t}=await k.a.get("".concat(this._baseUrl,"product/").concat(e));return t},this.getShopCategories=async()=>await this.getResource("category"),this.getAdvantages=async()=>await this.getResource("advantages")}};const R=()=>e=>{I.getShopCategories().then((t=>{e(A(t))}))},A=e=>({type:"SET_CATEGORIES",payload:e}),D=e=>({type:"SET_ACTIVE_CATEGORY",payload:e}),P=k.a.create({baseURL:"/"}),L=k.a.create({baseURL:"/"});L.interceptors.request.use((e=>(e.headers.authorization="Bearer ".concat(localStorage.getItem("token")),e)));const U=async e=>{const{data:t}=await P.get("api/component/getByName/"+e);return t},G=e=>({type:"SET_LOADED",payload:e}),M=(e,t,a,c,s)=>n=>{n(G(!1)),I.getGoods(e,t,a,c,s).then((e=>{n(H(e.rows)),n(K(e.count))}))},B=e=>t=>{t(G(!1)),I.getGoods("rating",e,"desc",1,4).then((e=>{t(z(e.rows))}))},F=e=>t=>{t(G(!1)),(async e=>{const{data:t}=await P.get("api/product/"+e);return t})(e).then((e=>{t(Y(e))}))},H=e=>({type:"SET_GOODS",payload:e}),z=e=>({type:"SET_POPULAR_GOODS",payload:e}),Y=e=>({type:"SET_ITEM_DETAILS",payload:e}),V=e=>({type:"SET_PAGE",payload:e}),K=e=>({type:"SET_TOTAL_COUNT",payload:e}),X=()=>e=>{I.getAdvantages().then((t=>{e(J(t))}))},J=e=>({type:"SET_ADVANTAGES",payload:e}),W=e=>({type:"ADD_ITEM_TO_CART",payload:e}),Z=e=>({type:"SET_IS_AUTH",payload:e}),q=e=>({type:"SET_USER",payload:e}),Q=(e,t,a)=>c=>{c({type:"SET_ORDERS_LOADED",payload:!1}),I.getOrders(e,t,a).then((e=>{c($(e.rows)),c(ae(e.count))}))},$=e=>({type:"SET_ORDERS",payload:e}),ee=e=>({type:"SET_ORDERS_ITEMS",payload:e}),te=e=>({type:"SET_ORDERS_PAGE",payload:e}),ae=e=>({type:"SET_TOTAL_COUNT",payload:e}),ce="/img/",se="/login",ne="/registration",re="/",ie="/about-us",oe="/contacts",le="/payment-delivery",de="/cart",je="/shop",be="/shop/:id",me="/users-list",he="/orders-list",Oe="/user-profile",ue="/reset-password/:id/:token",xe="ADMIN",pe="MODERATOR",ge="USER",ve="home",fe="footer",Ne="about_us",ye="payment_delivery",Ce="contacts",_e="default_avatar.jpg",Se="deleted.png",we={ADVANTAGES:"".concat(ce,"advantages/"),COMPONENTS:"".concat(ce,"components/"),PRODUCTS:"".concat(ce,"products/"),USERS:"".concat(ce,"users/")};a(118);var Ee=a(0);var Te=({onClickLink:e})=>{const t=()=>{e&&e()};return Object(Ee.jsxs)("ul",{className:"main-navigation",children:[Object(Ee.jsx)("li",{children:Object(Ee.jsx)(i.b,{to:re,onClick:t,children:" \u0413\u043e\u043b\u043e\u0432\u043d\u0430 "})}),Object(Ee.jsx)("li",{children:Object(Ee.jsx)(i.b,{to:ie,onClick:t,children:" \u041f\u0440\u043e \u043d\u0430\u0441 "})}),Object(Ee.jsx)("li",{children:Object(Ee.jsx)(i.b,{to:oe,onClick:t,children:" \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438 "})}),Object(Ee.jsx)("li",{children:Object(Ee.jsx)(i.b,{to:je,onClick:t,children:" \u041c\u0430\u0433\u0430\u0437\u0438\u043d "})}),Object(Ee.jsx)("li",{children:Object(Ee.jsx)(i.b,{to:le,onClick:t,children:" \u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0456 \u043e\u043f\u043b\u0430\u0442\u0430 "})})]})},ke=a.p+"static/media/logo.6733eb09.png";a(120);var Ie=function({classNames:e}){const t=e?"".concat(e," logo-wrapper"):"logo-wrapper";return Object(Ee.jsx)("div",{className:t,children:Object(Ee.jsx)(i.b,{to:re,children:Object(Ee.jsx)("div",{className:"main__logo",children:Object(Ee.jsx)("img",{src:ke,alt:"logo"})})})})};a(121);var Re=function(){const[e,t]=s.a.useState(!1),a=()=>{t((e=>!e))};return Object(Ee.jsxs)("div",{className:"mobile-menu-wrapper",children:[Object(Ee.jsxs)("div",{className:"mobile-btn-menu",onClick:a,children:[Object(Ee.jsx)("span",{}),Object(Ee.jsx)("span",{}),Object(Ee.jsx)("span",{})]}),Object(Ee.jsxs)("div",{className:e?"mobile-menu show-menu":"mobile-menu",children:[Object(Ee.jsx)(Ie,{}),Object(Ee.jsx)(Te,{onClickLink:a})]}),Object(Ee.jsx)("div",{className:e?"bg-mobile-menu":"bg-mobile-menu d-none",onClick:a})]})},Ae=a(185),De=a(86);a(122);var Pe=function(){const e=Object(o.b)(),t=Object(w.f)(),{name:a,image:c,id:s,role:n,isAuth:r}=Object(o.c)((({user:e})=>e)),l=n===xe&&r,d=c||_e;return Object(Ee.jsxs)("div",{className:"user-panel",children:[Object(Ee.jsx)("div",{className:"user-img",children:Object(Ee.jsx)("img",{src:"".concat(we.USERS).concat(d),alt:"user-avatar"})}),Object(Ee.jsxs)(Ae.a,{id:"dropdown-basic-button",title:a,children:[Object(Ee.jsx)(De.a.Item,{as:i.b,eventKey:"1",to:Oe,children:"\u041f\u0440\u043e\u0444\u0456\u043b\u044c"}),l&&Object(Ee.jsx)(De.a.Item,{as:i.b,eventKey:"4",to:me,children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432"}),Object(Ee.jsx)(De.a.Item,{as:i.b,eventKey:"2",to:he,children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c"}),Object(Ee.jsx)(De.a.Item,{onClick:()=>{e({type:"SET_USER_LOGOUT"});const a=t.location.pathname;a!==he&&a!==Oe&&a!==me||t.push("/"),localStorage.removeItem("token")},eventKey:"3",children:"\u0412\u0438\u0445\u0456\u0434"})]})]})},Le=a.p+"static/media/cart.d7ea8a0a.png";a(124),a(125);var Ue=function(){return Object(Ee.jsxs)("ul",{className:"login-panel",children:[Object(Ee.jsx)("li",{children:Object(Ee.jsx)(i.b,{to:se,children:" \u0423\u0432\u0456\u0439\u0442\u0438 "})}),Object(Ee.jsx)("li",{children:Object(Ee.jsx)(i.b,{to:ne,children:" \u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f "})})]})};var Ge=()=>{const{totalPrice:e,totalCount:t}=Object(o.c)((({cart:e})=>e)),{isAuth:a,role:c}=Object(o.c)((({user:e})=>e));return Object(Ee.jsx)("div",{className:"header align-items-center",children:Object(Ee.jsx)("div",{className:"container",children:Object(Ee.jsxs)("div",{className:"row",children:[Object(Ee.jsxs)("div",{className:"col-1 col-md-5 col-lg-1",children:[Object(Ee.jsx)(Re,{}),Object(Ee.jsx)(Ie,{})]}),Object(Ee.jsx)("div",{className:"col-md-7 col-lg-6 align-items-center main-menu",children:Object(Ee.jsx)(Te,{})}),Object(Ee.jsxs)("div",{className:"col-11 col-md-7 col-lg-5 d-flex justify-content-end align-items-center",children:[a?Object(Ee.jsx)(Pe,{}):Object(Ee.jsx)(Ue,{}),Object(Ee.jsx)(i.b,{to:"/cart",children:Object(Ee.jsxs)("div",{className:"button--cart d-flex mr-a",children:[Object(Ee.jsxs)("span",{children:[e," \u20b4"]}),Object(Ee.jsx)("div",{className:"button--cart__delimiter"}),Object(Ee.jsx)("img",{className:"button--cart__img",src:Le,alt:"cart-img"}),Object(Ee.jsx)("span",{children:t})]})})]})]})})})};var Me=function(){const{isAuth:e,role:t}=Object(o.c)((({user:e})=>e));return e&&t===xe},Be=a(20),Fe=a(186),He=a(193),ze=a(187),Ye=a(194),Ve=a(83),Ke=a(80),Xe=a(81),Je=a(82),We=a.n(Je);a(140);var Ze=function({content:e,onChangeInfo:t,fieldName:a}){const[s,n]=Object(c.useState)(e),r=(e,c)=>{const r=c.getData();n(r),t(a,s)};return Object(Ee.jsx)("div",{className:"App",children:Object(Ee.jsx)("div",{className:"editor",children:Object(Ee.jsx)(Xe.CKEditor,{editor:We.a,data:s,config:{fontFamily:{options:["default","Ubuntu, Arial, sans-serif","Ubuntu Mono, Courier New, Courier, monospace"]},fontSize:{options:[9,11,13,"default",17,19,21]},toolbar:["heading","|","bold","italic","numberedList","bulletedList","insertTable","tableColumn","tableRow","mergeTableCells","|","undo","redo","fontSize","fontFamily"],placeholder:"Enter the product description"},onChange:(e,t)=>{r(0,t)},onBlur:(e,t)=>{r(0,t)}})})})};a(141);var qe=function({data:e,updateData:t}){const[a,c]=s.a.useState(!1),[n,r]=s.a.useState(!1),[i,o]=s.a.useState(0),[l,d]=s.a.useState({...e});s.a.useEffect((()=>{d({...e})}),[e]);const j=()=>{c(!1)},b=(e,t)=>{"title"===e&&o(t.length),d({...l,[e]:t})},m=e=>{r(e)};return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("div",{className:"editBtn",onClick:()=>{d({...e}),o(e.title.length),c(!0)},children:Object(Ee.jsx)(Fe.a,{})}),Object(Ee.jsx)("div",{onClick:e=>e.stopPropagation(),children:Object(Ee.jsxs)(He.a,{size:"lg",animation:!0,show:a,onHide:j,children:[Object(Ee.jsx)(He.a.Header,{closeButton:!0,children:Object(Ee.jsx)(He.a.Title,{children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u043e\u0432\u0430\u0440"})}),n&&Object(Ee.jsx)(ze.a,{className:"m-2",variant:"danger",children:n}),Object(Ee.jsx)(He.a.Body,{children:Object(Ee.jsxs)(Ye.a,{children:[Object(Ee.jsxs)(Ye.a.Row,{children:[Object(Ee.jsxs)(Ye.a.Group,{as:Ve.a,controlId:"formGridName",children:[Object(Ee.jsx)(Ye.a.Label,{children:Object(Ee.jsxs)("b",{children:["\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a: ",Object(Ee.jsxs)("span",{className:i>60?"text-danger":"",children:["(",i,")"]})]})}),Object(Ee.jsx)(Ye.a.Control,{onChange:e=>b("title",e.target.value),type:"text",placeholder:"Enter the product name",value:l&&l.title})]}),Object(Ee.jsx)("div",{className:"shop-item-details__image mt-2 admin-image-edit",children:Object(Ee.jsx)("img",{src:"".concat(we.COMPONENTS).concat(e.img),alt:"item pictures"})}),Object(Ee.jsx)(Ye.a.Group,{as:Ve.a,controlId:"formGridImage",className:"mt-4",children:Object(Ee.jsx)(Ye.a.Control,{onChange:e=>{d({...l,img:e.target.files[0]})},type:"file",placeholder:"Enter the image url"})})]}),Object(Ee.jsxs)(Ye.a.Group,{controlId:"formGridDesc",className:"mt-4",children:[Object(Ee.jsxs)(Ye.a.Label,{children:[" ",Object(Ee.jsx)("b",{children:" \u0422\u0435\u043a\u0441\u0442: "})," "]}),Object(Ee.jsx)(Ze,{onChangeInfo:b,fieldName:"text",content:l.text})]}),Object(Ee.jsx)("hr",{}),Object(Ee.jsx)(Ke.a,{variant:"secondary",onClick:j,children:"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"}),Object(Ee.jsx)(Ke.a,{className:"m-2",variant:"primary",type:"button",onClick:()=>{if("object"===typeof l.img){if("image"!==l.img.type.split("/")[0])return void m("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0417\u0430\u0431\u043e\u0440\u043e\u043d\u0435\u043d\u0438\u0439 \u0442\u0438\u043f \u0444\u0430\u0439\u043b\u0443!")}for(let e in l)if(""===l[e])return void m("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0417\u0430\u043f\u043e\u0432\u043d\u0435\u043d\u043e \u043d\u0435 \u0432\u0441\u0456 \u043f\u043e\u043b\u044f");if(l.title.replace(/\s/g,"").length)try{const a=new FormData;a.append("title",l.title),a.append("text",l.text),"string"!==typeof l.img&&a.append("img",l.img),(async(e,t)=>{const{data:a}=await L.patch("api/component/"+e,t);return a})(e.id,a).then((e=>{t(),j()}))}catch(a){alert(a.response.data.message)}else m("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0430 \u043d\u0430\u0437\u0432\u0430!")},children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})})]})})]})};var Qe=function({item:e,updateFooterInfo:t,isAdmin:a}){return Object(Ee.jsxs)("div",{className:"col-12 col-md-3 d-flex align-items-center footer-block",children:[Object(Ee.jsx)("div",{className:"footer__icon",children:e.img&&Object(Ee.jsx)("img",{src:"".concat(we.COMPONENTS).concat(e.img),className:"img-fluid",alt:"main logo"})}),Object(Ee.jsx)("div",{className:"footer__text",children:Object(Be.a)("".concat(e.text))}),a?Object(Ee.jsx)("div",{className:"footer-editBtn",children:Object(Ee.jsx)(qe,{data:e,updateData:t})}):""]},e.id)};a(143);var $e=function(){const e=Me(),[t,a]=s.a.useState({});s.a.useEffect((()=>{c()}),[]);const c=()=>{U(fe).then((e=>{a(e)}))},n=t.length>0&&t.map((t=>Object(Ee.jsx)(Qe,{item:t,updateFooterInfo:c,isAdmin:e},t.id)));return Object(Ee.jsx)("footer",{children:Object(Ee.jsxs)("div",{className:"container",children:[Object(Ee.jsxs)("div",{className:"row",children:[Object(Ee.jsx)("div",{className:"col-12 d-flex col-md-2 align-items-center text-center footer-block",children:Object(Ee.jsx)(Ie,{})}),n]}),Object(Ee.jsx)("hr",{}),Object(Ee.jsxs)("div",{className:"text-center footer-text-author",children:["developed by ",Object(Ee.jsx)("a",{href:"https://www.facebook.com/anton.adart",target:"_blank",rel:"noreferrer",children:"Anton Vasylchenko"})]})]})})};a(144);var et=()=>Object(Ee.jsx)("div",{className:"loadingio-spinner-double-ring mt-2 mb-2",children:Object(Ee.jsxs)("div",{className:"ldio",children:[Object(Ee.jsx)("div",{}),Object(Ee.jsx)("div",{}),Object(Ee.jsx)("div",{children:Object(Ee.jsx)("div",{})}),Object(Ee.jsx)("div",{children:Object(Ee.jsx)("div",{})})]})});a(145);var tt=function(){let e=Object(w.f)();return Object(Ee.jsx)("div",{children:Object(Ee.jsx)("div",{className:"back-arrow",onClick:()=>e.goBack(),children:Object(Ee.jsx)("svg",{viewBox:"0 0 24 24",children:Object(Ee.jsx)("g",{children:Object(Ee.jsx)("path",{className:"arrow-icon",d:"M20 11H7.414l4.293-4.293c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L7.414 13H20c.553 0 1-.447 1-1s-.447-1-1-1z"})})})})})};a(146);var at=function({title:e,children:t,backArrow:a,isLoaded:c=!0}){const s=e?Object(Ee.jsx)("h4",{children:e}):null,n=a?Object(Ee.jsx)(tt,{}):"",r=c?t:Object(Ee.jsx)(et,{});return Object(Ee.jsx)("div",{className:"container",children:Object(Ee.jsxs)("div",{className:"main-wrapper",children:[Object(Ee.jsxs)("div",{className:"container-title",children:[n,s]}),Object(Ee.jsx)("div",{className:"content",children:r})]})})};var ct=function({show:e,handleNo:t,handleSubmit:a}){const c=Object(o.b)(),{activeCategory:n,categories:r}=Object(o.c)((({filters:e})=>e)),[i,l]=s.a.useState(!1),[d,j]=s.a.useState(0),[b,m]=s.a.useState(""),[h,O]=s.a.useState({name:"",img:"",price:"",description:""}),u=(e,t)=>{"name"===e&&j(t.length),O({...h,[e]:t})},x=()=>{t(),l(!1)},p=()=>{O({name:"",img:"",price:"",description:""}),m(""),j(0),l(!1)},g=e=>{l(e)},v=r&&r.map(((e,t)=>{const a=n===t;return Object(Ee.jsx)(De.a.Item,{onClick:()=>{c(D(t))},active:a,children:e.name},e.id)})),f=0!==b.length&&URL.createObjectURL(b);return Object(Ee.jsx)(Ee.Fragment,{children:Object(Ee.jsxs)(He.a,{size:"lg",animation:!0,show:e,onHide:x,children:[Object(Ee.jsx)(He.a.Header,{closeButton:!0,children:Object(Ee.jsx)(He.a.Title,{children:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0442\u043e\u0432\u0430\u0440"})}),i&&Object(Ee.jsx)(ze.a,{className:"m-2",variant:"danger",children:i}),Object(Ee.jsx)(He.a.Body,{children:Object(Ee.jsxs)(Ye.a,{children:[Object(Ee.jsxs)(Ye.a.Row,{children:[Object(Ee.jsxs)(Ye.a.Group,{as:Ve.a,controlId:"formGridName",children:[Object(Ee.jsx)(Ye.a.Label,{children:Object(Ee.jsxs)("b",{children:["Name: ",Object(Ee.jsxs)("span",{className:d>40?"text-danger":"",children:["(",d,")"]})]})}),Object(Ee.jsx)(Ye.a.Control,{onChange:e=>u("name",e.target.value),type:"text",placeholder:"Enter the product name",value:h.name})]}),Object(Ee.jsxs)(De.a,{className:"mt-4",children:[Object(Ee.jsx)(De.a.Toggle,{children:null===n?"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e":r[n].name}),Object(Ee.jsx)(De.a.Menu,{children:v})]}),Object(Ee.jsxs)(Ye.a.Group,{as:Ve.a,controlId:"formGridImage",className:"mt-4",children:[0!==b.length&&Object(Ee.jsx)("div",{className:"shop-item-details__image mt-2",children:Object(Ee.jsx)("img",{src:f,alt:"item pictures"})}),Object(Ee.jsx)(Ye.a.Control,{onChange:e=>{m(e.target.files[0]),O({...h,img:e.target.files[0]})},type:"file",placeholder:"Enter the image url"})]})]}),Object(Ee.jsxs)(Ye.a.Group,{controlId:"formGridDesc",className:"mt-4",children:[Object(Ee.jsxs)(Ye.a.Label,{children:[" ",Object(Ee.jsx)("b",{children:" \u041e\u043f\u0438\u0441: "})," "]}),Object(Ee.jsx)(Ze,{onChangeInfo:u,content:h.description,fieldName:"description"})]}),Object(Ee.jsx)(Ye.a.Row,{children:Object(Ee.jsxs)(Ye.a.Group,{as:Ve.a,className:"mt-4",controlId:"formGridCount",children:[Object(Ee.jsxs)(Ye.a.Label,{children:[" ",Object(Ee.jsx)("b",{children:" \u0426\u0456\u043d\u0430 "})]}),Object(Ee.jsx)(Ye.a.Control,{onChange:e=>u("price",e.target.value),value:h.price,placeholder:"\u0426\u0456\u043d\u0430",type:"number"})]})}),Object(Ee.jsx)("hr",{}),Object(Ee.jsx)(Ke.a,{variant:"secondary",onClick:x,children:"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"}),Object(Ee.jsx)(Ke.a,{className:"m-2",variant:"primary",type:"button",onClick:e=>{if(e.preventDefault(),null===n)return void g("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e!");if(0===!h.price.trim().length)return void g("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0422\u043e\u0432\u0430\u0440 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0431\u0435\u0437 \u043d\u0430\u0437\u0432\u0438!");if(0===h.price.trim().length)return void g("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0430 \u0446\u0456\u043d\u0430");if(0===h.description.trim().length)return void g("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439 \u043e\u043f\u0438\u0441");if("object"!==typeof h.img)return void g("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0412\u0438 \u043d\u0435 \u043e\u0431\u0440\u0430\u043b\u0438 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f");if("image"!==h.img.type.split("/")[0])return void g("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0417\u0430\u0431\u043e\u0440\u043e\u043d\u0435\u043d\u0438\u0439 \u0442\u0438\u043f \u0444\u0430\u0439\u043b\u0443!");if(d>40)return void g("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0406\u043c'\u044f \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u043f\u0435\u0440\u0435\u0432\u0438\u0449\u0443\u0432\u0430\u0442\u0438 40 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432");if(h.price>2147483647)return void g("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u041d\u0435\u0432\u0456\u0440\u043d\u043e \u0432\u043a\u0430\u0437\u0430\u043d\u0430 \u0446\u0456\u043d\u0430");const c={...h};p(),t(),a(c)},children:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"})]})})]})})};a(76);var st=function(){const e=Object(o.b)(),{activeCategory:t,sortBy:a,sortOrder:c}=Object(o.c)((({filters:e})=>e)),{limit:n,page:r}=Object(o.c)((({goods:e})=>e)),[i,l]=s.a.useState(!1);return Object(Ee.jsxs)("div",{className:"addBtnProduct text-center mb-4",children:[Object(Ee.jsx)(Ke.a,{onClick:()=>{l(!0)},children:" \u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442 "}),Object(Ee.jsx)(ct,{show:i,handleNo:()=>{l(!1)},handleSubmit:s=>{try{const i=new FormData;i.append("name",s.name),i.append("price",s.price),i.append("description",s.description),i.append("categoryId",t),i.append("img",s.img),(async e=>{const{data:t}=await L.post("api/product",e);return t})(i).then((s=>{e(M(a,t,c,r,n))}))}catch(i){alert(i.response.data.message)}},action:"create",currentCategory:t})]})};var nt=function({handleNo:e,handleYes:t,show:a,body:c,title:s}){const n=e||t;return Object(Ee.jsxs)(He.a,{animation:!0,show:a,onHide:n,children:[Object(Ee.jsx)(He.a.Header,{closeButton:!0,children:Object(Ee.jsx)(He.a.Title,{children:s})}),Object(Ee.jsx)(He.a.Body,{children:c}),Object(Ee.jsxs)(He.a.Footer,{children:[e&&Object(Ee.jsx)(Ke.a,{variant:"secondary",onClick:e,children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),Object(Ee.jsx)(Ke.a,{variant:"primary",onClick:t,children:"\u041e\u041a"})]})]})};var rt=function({id:e,name:t}){const a=Object(o.b)(),{activeCategory:c,sortBy:n,sortOrder:r}=Object(o.c)((({filters:e})=>e)),[i,l]=s.a.useState(!1),d=()=>{l(!i)};return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(nt,{show:i,handleNo:()=>l(!1),handleYes:()=>{d(),(async e=>{const{data:t}=await L.delete("api/product/"+e);return t})(e).then((e=>{a(M(n,c,r))}))},title:'\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f: "'.concat(t,'"'),body:'\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0442\u043e\u0432\u0430\u0440 "'.concat(t,'"?')}),Object(Ee.jsx)("div",{className:"product-del",onClick:d,children:"x"})]})};var it=function({itemDetails:e}){const t=Object(o.b)(),[a,c]=s.a.useState(!1),[n,r]=s.a.useState(!1),[i,l]=s.a.useState(0),[d,j]=s.a.useState(e.categoryId),[b,m]=s.a.useState(""),[h,O]=s.a.useState({...e}),{categories:u}=Object(o.c)((({filters:e})=>e)),x=()=>{c(!1)};s.a.useEffect((()=>{t(R())}),[]);const p=a=>{try{const c=new FormData;c.append("name",a.name),c.append("price",a.price),c.append("description",a.description),"string"!==typeof a.img&&c.append("img",a.img),c.append("categoryId",a.categoryId),(async(e,t)=>{const{data:a}=await L.patch("api/product/"+t,e);return a})(c,e.id).then((a=>{t(F(e.id)),t(B(e.categoryId))}))}catch(c){alert(c.response.data.message)}},g=(e,t)=>{"name"===e&&l(t.length),O({...h,[e]:t})},v=()=>{x(),f()},f=()=>{O({...e}),l(e.name.length),j(e.categoryId),r(!1)},N=e=>{r(e)},y=u&&u.map(((e,t)=>{const a=d===t;return Object(Ee.jsx)(De.a.Item,{onClick:()=>{return j(e=t),void O({...h,categoryId:e});var e},active:a,children:e.name},e.id)})),C=0===b.length?"".concat(we.PRODUCTS).concat(h.img):URL.createObjectURL(b);return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("div",{className:"editBtn",onClick:()=>{c(!0),j(e.categoryId),O({...e}),m("")},children:Object(Ee.jsx)(Fe.a,{})}),Object(Ee.jsxs)(He.a,{size:"lg",animation:!0,show:a,onHide:v,children:[Object(Ee.jsx)(He.a.Header,{closeButton:!0,children:Object(Ee.jsx)(He.a.Title,{children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u043e\u0432\u0430\u0440"})}),n&&Object(Ee.jsx)(ze.a,{className:"m-2",variant:"danger",children:n}),Object(Ee.jsx)(He.a.Body,{children:Object(Ee.jsxs)(Ye.a,{children:[Object(Ee.jsxs)(Ye.a.Row,{children:[Object(Ee.jsxs)(Ye.a.Group,{as:Ve.a,controlId:"formGridName",children:[Object(Ee.jsx)(Ye.a.Label,{children:Object(Ee.jsxs)("b",{children:["\u041d\u0430\u0437\u0432\u0430",Object(Ee.jsx)("span",{className:i>40?"text-danger":"",children:i?"(".concat(i,"):"):":"})]})}),Object(Ee.jsx)(Ye.a.Control,{onChange:e=>g("name",e.target.value),type:"text",placeholder:"Enter the product name",value:h&&h.name})]}),Object(Ee.jsx)("div",{className:"shop-item-details__image mt-2",children:Object(Ee.jsx)("img",{src:C,alt:"item pictures"})}),Object(Ee.jsx)(Ye.a.Group,{as:Ve.a,controlId:"formGridImage",className:"mt-4",children:Object(Ee.jsx)(Ye.a.Control,{onChange:e=>{m(e.target.files[0]),O({...h,img:e.target.files[0]})},type:"file",placeholder:"Enter the image url"})}),Object(Ee.jsxs)(De.a,{className:"mt-4",children:[Object(Ee.jsx)(De.a.Toggle,{children:u&&u[d]?u[d].name:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e"}),Object(Ee.jsx)(De.a.Menu,{children:y})]})]}),Object(Ee.jsxs)(Ye.a.Group,{controlId:"formGridDesc",className:"mt-4",children:[Object(Ee.jsxs)(Ye.a.Label,{children:[" ",Object(Ee.jsx)("b",{children:" \u041e\u043f\u0438\u0441: "})," "]}),Object(Ee.jsx)(Ze,{onChangeInfo:g,fieldName:"description",content:h.description})]}),Object(Ee.jsx)(Ye.a.Row,{children:Object(Ee.jsxs)(Ye.a.Group,{as:Ve.a,className:"mt-4",controlId:"formGridCount",children:[Object(Ee.jsxs)(Ye.a.Label,{children:[" ",Object(Ee.jsx)("b",{children:" \u0426\u0456\u043d\u0430 "})]}),Object(Ee.jsx)(Ye.a.Control,{onChange:e=>g("price",e.target.value),value:h.price,placeholder:"\u0426\u0456\u043d\u0430",type:"number"})]})}),Object(Ee.jsx)("hr",{}),Object(Ee.jsx)(Ke.a,{variant:"secondary",onClick:v,children:"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"}),Object(Ee.jsx)(Ke.a,{className:"m-2",variant:"primary",type:"button",onClick:t=>{if(t.preventDefault(),"object"===typeof h.img){if("image"!==h.img.type.split("/")[0])return void N("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0417\u0430\u0431\u043e\u0440\u043e\u043d\u0435\u043d\u0438\u0439 \u0442\u0438\u043f \u0444\u0430\u0439\u043b\u0443!")}if(!h.name.replace(/\s/g,"").length)return void N("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0422\u043e\u0432\u0430\u0440 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0431\u0435\u0437 \u043d\u0430\u0437\u0432\u0438!");if(null===e.categoryId||!u[h.categoryId])return void N("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e!");for(let e in h)if(""===h[e])return void N("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0417\u0430\u043f\u043e\u0432\u043d\u0435\u043d\u043e \u043d\u0435 \u0432\u0441\u0456 \u043f\u043e\u043b\u044f");if(i>40)return void N("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0406\u043c'\u044f \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u043f\u0435\u0440\u0435\u0432\u0438\u0449\u0443\u0432\u0430\u0442\u0438 40 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432");if(+h.price>Number.MAX_SAFE_INTEGER)return console.log("dfsdfdsfdsfdsfdsfdsf"),void N("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u041d\u0435\u0432\u0456\u0440\u043d\u043e \u0432\u043a\u0430\u0437\u0430\u043d\u0430 \u0446\u0456\u043d\u0430");const a={...h};x(),p(a)},children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})})]})]})};var ot=function(){const{isAuth:e,role:t}=Object(o.c)((({user:e})=>e));return e&&t===pe};a(147);var lt=function({id:e,name:t,img:a,price:c,onClickBuyBtn:s,countOfAdded:n}){const r=Me(),o=ot();return Object(Ee.jsxs)("div",{className:"list-item",children:[r||o?Object(Ee.jsx)(rt,{name:t,id:e}):"",Object(Ee.jsx)("div",{className:"shop-item__img",children:Object(Ee.jsx)("img",{src:"".concat(we.PRODUCTS).concat(a),alt:"poster"})}),Object(Ee.jsx)("div",{className:"list-item__title",children:Object(Ee.jsx)(i.b,{to:"/shop/".concat(e),children:t})}),Object(Ee.jsx)("div",{className:"list-item__bottom",children:Object(Ee.jsxs)("div",{className:"row",children:[Object(Ee.jsxs)("div",{className:"col-12 col-lg-6 list-item__price",children:[c," \u20b4"]}),Object(Ee.jsx)("div",{className:"col-12 col-lg-6 text-center",children:Object(Ee.jsxs)("button",{onClick:()=>{s({id:e,name:t,img:a,price:c})},className:"btn-add-to-cart",children:["+\u0414\u043e\u0434\u0430\u0442\u0438 ",n&&Object(Ee.jsx)("span",{children:n})]})})]})})]})};a(148);var dt=({title:e,catId:t})=>{const a=Object(o.b)(),c=Object(o.c)((({cart:e})=>e.items)),{isLoaded:n,popularItems:r}=Object(o.c)((({goods:e})=>e));s.a.useEffect((()=>{a(B(t))}),[a,t]);const i=e=>{a(W(e))},l=r&&r.map((({id:e,...t})=>{const a=c[e]&&c[e].length;return Object(Ee.jsx)(lt,{onClickBuyBtn:i,countOfAdded:a,id:e,...t},e)}));return l&&l.length?Object(Ee.jsx)(at,{title:e,isLoaded:n,children:Object(Ee.jsx)("div",{className:"popular-items-list",children:n?l:Object(Ee.jsx)(et,{})})}):Object(Ee.jsx)(at,{title:e,isLoaded:n,children:Object(Ee.jsx)("p",{className:"empty-list-popular text-center",children:"\u0422\u043e\u0432\u0430\u0440\u0438 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456"})})};var jt=function(){return Object(Ee.jsx)("div",{children:Object(Ee.jsx)(at,{children:Object(Ee.jsx)("h3",{className:"text-center",children:" \u0423\u0443\u0443\u0443\u043f\u0441! \u0421\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e :( "})})})};a(149);a(150);var bt=function({itemId:e}){const t=Object(o.b)(),{itemDetails:a,isLoaded:n}=Object(o.c)((({goods:e})=>e)),r=Object(o.c)((({cart:e})=>e.items)),i=r[e]&&r[e].length,l=Me(),d=ot();return Object(c.useEffect)((()=>{t(F(e))}),[e]),a&&0!==Object.keys(a).length?Object(Ee.jsxs)(s.a.Fragment,{children:[Object(Ee.jsxs)(at,{title:a.name,backArrow:!0,children:[l||d&&a?Object(Ee.jsx)(it,{itemDetails:a}):"",n?Object(Ee.jsxs)("div",{className:"shop-item-details",children:[Object(Ee.jsxs)("div",{className:"row",children:[Object(Ee.jsx)("div",{className:"col-md-6",children:Object(Ee.jsx)("div",{className:"shop-item-details__image",children:Object(Ee.jsx)("img",{src:"".concat(we.PRODUCTS).concat(a.img),alt:"item pictures"})})}),Object(Ee.jsx)("div",{className:"col-md-6",children:Object(Ee.jsxs)("div",{className:"shop-item-details__block shop-item-details__info",children:[Object(Ee.jsx)("p",{className:"desc-title",children:"\u041e\u043f\u0438\u0441:"}),Object(Ee.jsx)("span",{children:Object(Be.a)("".concat(a.description))})]})})]}),Object(Ee.jsxs)("div",{className:"shop-item-details__bottom",children:[Object(Ee.jsxs)("div",{className:"shop-item-details__price",children:["\u0426\u0456\u043d\u0430: ",a.price," \u20b4"]}),Object(Ee.jsxs)("button",{onClick:()=>{t(W(a))},className:"btn-add-to-cart",children:["+\u0414\u043e\u0434\u0430\u0442\u0438 ",i&&Object(Ee.jsx)("span",{children:i})]})]})]}):Object(Ee.jsx)(et,{})]}),Object(Ee.jsx)(dt,{title:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0435 \u0443 \u0434\u0430\u043d\u0456\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457",catId:a.categoryId})]}):Object(Ee.jsx)(jt,{})},mt=a(188);a(60);var ht=function(){const e=Object(o.b)(),[t,a]=s.a.useState(!1),[c,n]=s.a.useState(""),r=()=>{a(!1)};return Object(Ee.jsxs)("div",{className:"addBtnCategories",onClick:()=>{a(!0)},children:[Object(Ee.jsx)(mt.a,{}),Object(Ee.jsx)("div",{onClick:e=>e.stopPropagation(),children:Object(Ee.jsxs)(He.a,{show:t,onHide:r,size:"lg",centered:!0,children:[Object(Ee.jsx)(He.a.Header,{children:Object(Ee.jsx)(He.a.Title,{id:"contained-modal-title-vcenter",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e"})}),Object(Ee.jsx)(He.a.Body,{children:Object(Ee.jsx)(Ye.a,{children:Object(Ee.jsx)(Ye.a.Control,{value:c,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457",onChange:e=>n(e.target.value)})})}),Object(Ee.jsxs)(He.a.Footer,{children:[Object(Ee.jsx)(Ke.a,{variant:"outline-danger",onClick:r,children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"}),Object(Ee.jsx)(Ke.a,{variant:"outline-success",onClick:()=>{(async e=>{const{data:t}=await L.post("api/category",e);return t})({name:c}).then((t=>{a(!1),e(R()),n("")}))},children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]})]})})]})},Ot=a(191),ut=a(190),xt=a(189);var pt=function({name:e,id:t,index:a,handleDelete:c,handleUpdate:n}){const[r,i]=s.a.useState(!1),[o,l]=s.a.useState(!1),[d,j]=s.a.useState(e);return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(nt,{show:r,handleNo:()=>{i(!1)},handleYes:()=>{c(t,a),i(!1)},title:"\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f",body:'\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e "'.concat(e,'"?')}),Object(Ee.jsxs)("li",{className:"list-group-item text-center",children:[o?Object(Ee.jsxs)(Ye.a,{className:"d-flex justify-content-center",children:[Object(Ee.jsx)(Ye.a.Control,{value:d,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457",onChange:e=>j(e.target.value),className:"edit-input"}),Object(Ee.jsx)(Ke.a,{onClick:()=>{d&&d.replace(/\s/g,"").length&&(n(t,d),l(!1))},className:"ml-4",children:Object(Ee.jsx)(xt.a,{})})]}):Object(Ee.jsx)("b",{children:e}),Object(Ee.jsxs)("div",{className:"d-inline text-right d-block",children:[Object(Ee.jsx)(Ke.a,{onClick:()=>{i(!0)},variant:"outline-danger",className:"m-2",children:Object(Ee.jsx)(ut.a,{})}),Object(Ee.jsx)(Ke.a,{variant:"outline-success",onClick:()=>{l(!o),j(e)},children:Object(Ee.jsx)(Fe.a,{})})]})]},"".concat(t))]})};var gt=function(){const e=Object(o.b)(),{activeCategory:t,categories:a}=Object(o.c)((({filters:e})=>e)),[c,n]=s.a.useState(!1),[r,i]=s.a.useState(!1),l=()=>{i(!1),n(!1)},d=(a,s)=>{(async e=>{const{data:t}=await P.get("api/product/byCategory/"+e);return t})(s).then((r=>{r?n(!0):(t===s&&e(D(null)),(async e=>{const{data:t}=await L.delete("api/category/"+e);return t})(a).then((t=>{e(R())})),c&&n(!1))}))},j=(t,a)=>{const s=new FormData;s.append("name",a),(async(e,t)=>{const{data:a}=await L.patch("api/category/"+t,e);return a})(s,t).then((t=>{e(R())})),c&&n(!1)},b=a&&a.map(((e,t)=>Object(Ee.jsx)(pt,{name:e.name,id:e.id,index:t,handleDelete:d,handleUpdate:j},e.id)));return Object(Ee.jsxs)("div",{className:"admin-list-check",onClick:()=>{i(!0)},children:[Object(Ee.jsx)(Ot.a,{}),Object(Ee.jsx)("div",{onClick:e=>e.stopPropagation(),children:Object(Ee.jsxs)(He.a,{show:r,onHide:l,size:"lg",centered:!0,children:[Object(Ee.jsx)(He.a.Header,{children:Object(Ee.jsx)(He.a.Title,{id:"contained-modal-title-vcenter",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0439"})}),Object(Ee.jsxs)(He.a.Body,{children:[c&&Object(Ee.jsx)(ze.a,{variant:"danger",children:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0412\u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e, \u0443 \u044f\u043a\u0456\u0439 \u0437\u043d\u0430\u0445\u043e\u0434\u044f\u0442\u044c\u0441\u044f \u0442\u043e\u0432\u0430\u0440\u0438"}),Object(Ee.jsx)("ul",{children:b&&0===b.length?Object(Ee.jsx)("p",{className:"text-center text-muted",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456"}):b})]}),Object(Ee.jsx)(He.a.Footer,{children:Object(Ee.jsx)(Ke.a,{variant:"outline-danger",onClick:l,children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"})})]})})]})};a(151);function vt(){const e=Object(o.b)(),{activeCategory:t,categories:a}=Object(o.c)((({filters:e})=>e)),{isAuth:c,role:n}=Object(o.c)((({user:e})=>e));s.a.useEffect((()=>{e(R())}),[e]);const r=s.a.useCallback((t=>{e(D(t)),e(V(1))}),[e]),i=a&&a.map(((e,a)=>Object(Ee.jsx)("li",{className:t===a?"shop-categories__active":"",onClick:()=>r(a),children:e.name},"".concat(e.id)))),l=n===xe;return Object(Ee.jsx)("div",{className:"shop-categories",children:Object(Ee.jsxs)("ul",{children:[c&&l?Object(Ee.jsx)("li",{children:Object(Ee.jsx)(gt,{})}):"",Object(Ee.jsx)("li",{className:null===t?"shop-categories__active":"",onClick:()=>r(null),children:"\u0412\u0441\u0456"}),i,c&&l?Object(Ee.jsx)("li",{children:Object(Ee.jsx)(ht,{})}):""]})})}vt.defaultProps={activeCategory:null,items:[],onClickCategory:()=>{}};var ft=s.a.memo(vt),Nt=a(44),yt=a.n(Nt);const Ct="...",_t=(e,t)=>{let a=t-e+1;return Array.from({length:a},((t,a)=>a+e))};a(152);var St=e=>{const{onPageChange:t,totalCount:a,siblingCount:s=1,currentPage:n,pageSize:r,className:i}=e,o=(({totalCount:e,pageSize:t,siblingCount:a=1,currentPage:s})=>Object(c.useMemo)((()=>{const c=Math.ceil(e/t);if(a+5>=c)return _t(1,c);const n=Math.max(s-a,1),r=Math.min(s+a,c),i=n>2,o=r<c-2,l=c;if(!i&&o)return[..._t(1,3+2*a),Ct,c];if(i&&!o){let e=_t(c-(3+2*a)+1,c);return[1,Ct,...e]}if(i&&o){let e=_t(n,r);return[1,Ct,...e,Ct,l]}}),[e,t,a,s]))({currentPage:n,totalCount:a,siblingCount:s,pageSize:r});if(0===n||o.length<2)return null;let l=o[o.length-1];return Object(Ee.jsxs)("ul",{className:yt()("pagination-container",{[i]:i}),children:[Object(Ee.jsx)("li",{className:yt()("pagination-item",{disabled:1===n}),onClick:()=>{t(n-1),console.log("first")},children:Object(Ee.jsx)("div",{className:"arrow left"})}),o.map(((e,a)=>e===Ct?Object(Ee.jsx)("li",{className:"pagination-item dots",children:"\u2026"},a):Object(Ee.jsx)("li",{className:yt()("pagination-item",{selected:e===n}),onClick:()=>t(e),children:e},e+""+a))),Object(Ee.jsx)("li",{className:yt()("pagination-item",{disabled:n===l}),onClick:()=>{t(n+1)},children:Object(Ee.jsx)("div",{className:"arrow right"})})]})};a(153);var wt=function(){const e=Object(o.b)(),t=Object(o.c)((({cart:e})=>e.items)),{items:a,isLoaded:c,totalCount:n,limit:r,page:i}=Object(o.c)((({goods:e})=>e)),{activeCategory:l,sortBy:d,sortOrder:j}=Object(o.c)((({filters:e})=>e)),b=Me(),m=ot();s.a.useEffect((()=>{e(M(d,l,j,i,r))}),[l,d,j,i,r]);const h=t=>{e(W(t))},O=c?a.map((e=>{const a=t[e.id]&&t[e.id].length;return Object(Ee.jsx)(lt,{onClickBuyBtn:h,countOfAdded:a,...e},e.id)})):Object(Ee.jsx)(et,{}),u=0!==O.length?O:Object(Ee.jsx)("h3",{className:"text-center text-secondary jumbotron jumbotron-fluid",children:"\u0422\u043e\u0432\u0430\u0440\u0438 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456 :("});return Object(Ee.jsxs)("div",{className:"shop-items-list",children:[b||m?Object(Ee.jsx)(st,{}):"",u,Object(Ee.jsx)(St,{className:"pagination-bar",currentPage:i,totalCount:n,pageSize:r,onPageChange:t=>{e(V(t))}})]})};a(154);var Et=function({rotate:e}){const t="arrow-svg ".concat(e?"rotated":"");return Object(Ee.jsx)("svg",{className:"arrow-svg ".concat(t),width:"14",height:"10",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Ee.jsx)("path",{d:"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z",fill:"#2C2C2C"})})};var Tt=function(){const e=Object(o.b)(),{sortOrder:t}=Object(o.c)((({filters:e})=>e)),a=s.a.useCallback((t=>{e({type:"SET_SORT_ORDER",payload:t})}),[e]),c="desc"===t;return Object(Ee.jsx)("div",{className:"sort-arrow unselectable-text",onClick:e=>{a("desc"===t?"asc":"desc")},children:Object(Ee.jsx)(Et,{rotate:c})})};a(155);const kt=[{type:"rating",name:"\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456\u0441\u0442\u044e"},{type:"price",name:"\u0446\u0456\u043d\u043e\u044e"},{type:"name",name:"\u0430\u043b\u0444\u0430\u0432\u0456\u0442\u043e\u043c"}];function It(){const e=Object(o.b)(),{sortBy:t}=Object(o.c)((({filters:e})=>e)),[a,n]=Object(c.useState)(!1),r=Object(c.useRef)(),i=kt.find((e=>e.type===t)).name;Object(c.useEffect)((()=>(document.body.addEventListener("click",l),function(){n(!1)})),[]);const l=e=>{(e.path||e.composedPath&&e.composedPath()).includes(r.current)||n(!1)},d=s.a.useCallback((t=>{e({type:"SET_SORT_BY",payload:t})}),[e]),j=kt&&kt.map(((e,a)=>Object(Ee.jsx)("li",{className:t===e.type?"active":"",onClick:()=>{var t;t=e.type,d(t),n(!1)},children:e.name},"".concat(e.type,"_").concat(a))));return Object(Ee.jsxs)("div",{ref:r,className:"sort",children:[Object(Ee.jsxs)("div",{className:"sort__label",children:[Object(Ee.jsx)(Tt,{}),Object(Ee.jsx)("b",{children:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0430:"}),Object(Ee.jsx)("span",{onClick:()=>{n(!a)},children:i})]}),a&&Object(Ee.jsx)("div",{className:"sort__popup",children:Object(Ee.jsx)("ul",{children:j})})]})}var Rt=s.a.memo(It);a(156);var At=function(){return Object(Ee.jsxs)(at,{title:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d",children:[Object(Ee.jsxs)("div",{className:"row mb-2",children:[Object(Ee.jsx)("div",{className:"col-12 col-lg-9",children:Object(Ee.jsx)(ft,{})}),Object(Ee.jsx)("div",{className:"col-12 col-lg-3",children:Object(Ee.jsx)(Rt,{})})]}),Object(Ee.jsx)(wt,{})]})};a(157);var Dt=function(){const e=Object(o.b)(),[t,a]=s.a.useState(!1);return Object(Ee.jsxs)("div",{className:"admin-advantages-create-btn",children:[Object(Ee.jsx)(Ke.a,{variant:"info",onClick:()=>{a(!0)},children:Object(Ee.jsx)(mt.a,{color:"white"})}),Object(Ee.jsx)(Gt,{show:t,handleNo:()=>{a(!1)},handleSubmit:t=>{try{const a=new FormData;a.append("title",t.text),a.append("img",t.img),(async e=>{const{data:t}=await L.post("api/advantages",e);return t})(a).then((t=>{e(X())}))}catch(a){alert(a.response.data.message)}}})]})};var Pt=function({show:e,handleNo:t,handleSubmit:a,itemDetails:c}){const[n,r]=s.a.useState(!1),[i,o]=s.a.useState(c.title.length),[l,d]=s.a.useState(""),[j,b]=s.a.useState({...c});s.a.useEffect((()=>{b({...c})}),[c]);const m=()=>{t(),h()},h=()=>{b({...c}),d(""),o(c.title.length),r(!1)},O=e=>{r(e)},u=0===l.length?"".concat(we.ADVANTAGES).concat(j.img):URL.createObjectURL(l);return Object(Ee.jsx)(Ee.Fragment,{children:Object(Ee.jsxs)(He.a,{size:"lg",animation:!0,show:e,onHide:m,children:[Object(Ee.jsx)(He.a.Header,{closeButton:!0,children:Object(Ee.jsx)(He.a.Title,{children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f"})}),n&&Object(Ee.jsx)(ze.a,{className:"m-2",variant:"danger",children:n}),Object(Ee.jsx)(He.a.Body,{children:Object(Ee.jsxs)(Ye.a,{children:[Object(Ee.jsxs)(Ye.a.Row,{children:[Object(Ee.jsxs)(Ye.a.Group,{as:Ve.a,controlId:"formGridName",children:[Object(Ee.jsx)(Ye.a.Label,{children:Object(Ee.jsxs)("b",{children:["\u0422\u0435\u043a\u0441\u0442: ",Object(Ee.jsxs)("span",{className:i>80?"text-danger":"",children:["(",i,")"]})]})}),Object(Ee.jsx)(Ye.a.Control,{onChange:e=>{return t="title",a=e.target.value,"title"===t&&o(a.length),void b({...j,[t]:a});var t,a},type:"text",placeholder:"Enter the product name",value:j&&j.title})]}),Object(Ee.jsx)("div",{className:"shop-item-details__image mt-2 bg-secondary",children:Object(Ee.jsx)("img",{src:u,alt:"item pictures"})}),Object(Ee.jsx)(Ye.a.Group,{as:Ve.a,controlId:"formGridImage",className:"mt-4",children:Object(Ee.jsx)(Ye.a.Control,{onChange:e=>{d(e.target.files[0]),b({...j,img:e.target.files[0]})},type:"file",placeholder:"Enter the image url"})})]}),Object(Ee.jsx)("hr",{}),Object(Ee.jsx)(Ke.a,{variant:"secondary",onClick:m,children:"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"}),Object(Ee.jsx)(Ke.a,{className:"m-2",variant:"primary",type:"button",onClick:e=>{if(e.preventDefault(),"object"===typeof j.img){if("image"!==j.img.type.split("/")[0])return void O("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0417\u0430\u0431\u043e\u0440\u043e\u043d\u0435\u043d\u0438\u0439 \u0442\u0438\u043f \u0444\u0430\u0439\u043b\u0443!")}for(let t in j)if(""===j[t])return void O("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0417\u0430\u043f\u043e\u0432\u043d\u0435\u043d\u043e \u043d\u0435 \u0432\u0441\u0456 \u043f\u043e\u043b\u044f");if(i>80)return void O("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0406\u043c'\u044f \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u043f\u0435\u0440\u0435\u0432\u0438\u0449\u0443\u0432\u0430\u0442\u0438 27 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432");if(j.price>2147483647)return void O("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u041d\u0435\u0432\u0456\u0440\u043d\u043e \u0432\u043a\u0430\u0437\u0430\u043d\u0430 \u0446\u0456\u043d\u0430");const c={...j};t(),a(c)},children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})})]})})};var Lt=function({item:e}){const t=Object(o.b)(),[a,c]=s.a.useState(!1);return Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Ke.a,{className:"m-1 btn-success",onClick:()=>{c(!0)},children:Object(Ee.jsx)(Fe.a,{})}),Object(Ee.jsx)(Pt,{show:a,handleNo:()=>{c(!1)},handleSubmit:e=>{try{const a=new FormData;a.append("title",e.title),"string"!==typeof e.img&&a.append("img",e.img),(async(e,t)=>{const{data:a}=await L.patch("api/advantages/"+e,t);return a})(e.id,a).then((e=>{t(X())}))}catch(a){alert(a.response.data.message)}},itemDetails:e})]})};var Ut=function({name:e,id:t}){const a=Object(o.b)(),[c,n]=s.a.useState(!1),r=()=>{n(!c)};return Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Ke.a,{onClick:r,className:"m-1 btn-danger",children:Object(Ee.jsx)(ut.a,{})}),Object(Ee.jsx)(nt,{show:c,handleNo:()=>n(!1),handleYes:()=>{r(),(async e=>{const{data:t}=await L.delete("api/advantages/"+e);return t})(t).then((e=>{a(X())}))},body:'\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438: "'.concat(e,'" ?'),title:'\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f: "'.concat(e,'"')})]})};var Gt=function({show:e,handleNo:t,handleSubmit:a}){const[c,n]=s.a.useState(!1),[r,i]=s.a.useState(0),[o,l]=s.a.useState({text:"",img:""}),d=()=>{t(),n(!1)},j=()=>{l({text:"",img:""}),i(0),n(!1)},b=e=>{n(e)};return Object(Ee.jsx)("div",{onClick:e=>e.stopPropagation(),children:Object(Ee.jsxs)(He.a,{size:"lg",animation:!0,show:e,onHide:d,children:[Object(Ee.jsx)(He.a.Header,{closeButton:!0,children:Object(Ee.jsx)(He.a.Title,{children:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u043f\u0443\u043d\u043a\u0442"})}),c&&Object(Ee.jsx)(ze.a,{className:"m-2",variant:"danger",children:c}),Object(Ee.jsx)(He.a.Body,{children:Object(Ee.jsxs)(Ye.a,{children:[Object(Ee.jsxs)(Ye.a.Row,{children:[Object(Ee.jsxs)(Ye.a.Group,{as:Ve.a,controlId:"formGridName",children:[Object(Ee.jsx)(Ye.a.Label,{children:Object(Ee.jsxs)("b",{children:["\u0422\u0435\u043a\u0441\u0442: ",Object(Ee.jsxs)("span",{className:r>60?"text-danger":"",children:["(",r,")"]})]})}),Object(Ee.jsx)(Ye.a.Control,{onChange:e=>{return t="text",a=e.target.value,"text"===t&&i(a.length),void l({...o,[t]:a});var t,a},type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043e\u0441\u043d\u043e\u0432\u043d\u0438\u0439 \u0442\u0435\u043a\u0441\u0442",value:o.text})]}),Object(Ee.jsx)(Ye.a.Group,{as:Ve.a,controlId:"formGridImage",className:"mt-4",children:Object(Ee.jsx)(Ye.a.Control,{onChange:e=>{l({...o,img:e.target.files[0]})},type:"file",placeholder:"Enter the image url"})})]}),Object(Ee.jsx)("hr",{}),Object(Ee.jsx)(Ke.a,{variant:"secondary",onClick:d,children:"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"}),Object(Ee.jsx)(Ke.a,{className:"m-2",variant:"primary",type:"button",onClick:e=>{if(e.preventDefault(),!o.text.replace(/\s/g,"").length)return void b("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0422\u043e\u0432\u0430\u0440 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0431\u0435\u0437 \u043d\u0430\u0437\u0432\u0438!");for(let t in o)if(""===o[t]&&"object"!==typeof o.img)return void b("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0417\u0430\u043f\u043e\u0432\u043d\u0435\u043d\u043e \u043d\u0435 \u0432\u0441\u0456 \u043f\u043e\u043b\u044f");if("image"!==o.img.type.split("/")[0])return void b("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0417\u0430\u0431\u043e\u0440\u043e\u043d\u0435\u043d\u0438\u0439 \u0442\u0438\u043f \u0444\u0430\u0439\u043b\u0443!");if(r>60)return void b("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0406\u043c'\u044f \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u043f\u0435\u0440\u0435\u0432\u0438\u0449\u0443\u0432\u0430\u0442\u0438 27 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432");const c={...o};j(),t(),a(c)},children:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"})]})})]})})};var Mt=function({elem:e}){const{isAuth:t,role:a}=Object(o.c)((({user:e})=>e)),c=a===xe&&t;return Object(Ee.jsxs)("div",{className:"advantage",children:[Object(Ee.jsx)("div",{className:"advantage__img",children:Object(Ee.jsx)("img",{src:"".concat(we.ADVANTAGES).concat(e.img),alt:"icon"})}),Object(Ee.jsx)("div",{className:"advantage__text",children:e.title}),c&&Object(Ee.jsxs)("div",{className:"admin-advantage-edit",children:[Object(Ee.jsx)(Lt,{item:e}),Object(Ee.jsx)(Ut,{name:e.title,id:e.id})]})]},e.id)};a(158);var Bt=function(){const e=Object(o.b)(),{isAuth:t,role:a}=Object(o.c)((({user:e})=>e)),{advantagesList:c,isLoaded:n}=Object(o.c)((({advantages:e})=>({advantagesList:e.items,isLoaded:e.isLoaded})));return s.a.useEffect((()=>{e(X())}),[e]),Object(Ee.jsxs)(at,{title:"\u0427\u043e\u043c\u0443 \u043e\u0431\u0438\u0440\u0430\u044e\u0442\u044c \u043d\u0430\u0448\u0443 \u0432\u043e\u0434\u0443?",isLoaded:n,children:[t&&a===xe&&Object(Ee.jsx)(Dt,{}),Object(Ee.jsx)("div",{className:"advantages-wrapper",children:c&&c.map((e=>Object(Ee.jsx)(Mt,{elem:e},e.id)))})]})},Ft=a(56),Ht=a.n(Ft),zt=a(84);a(159);Ht.a.workerClass=zt.a,Ht.a.accessToken="pk.eyJ1IjoiZGlrdXNvciIsImEiOiJja25leWhsYWYxdzY2MnBtcjNkdDRhYWU4In0.pdghOzMOAjtXK2FrRLFRcA";var Yt=()=>{const e=Object(c.useRef)(),[t,a]=Object(c.useState)(24.0099813),[s,n]=Object(c.useState)(49.8439957),[r,i]=Object(c.useState)(16.5);return Object(c.useEffect)((()=>{const c=new Ht.a.Map({container:e.current,style:"mapbox://styles/dikusor/ckngbl5xc1bka17p3fql8z4wn",center:[t,s],zoom:r});return c.on("move",(()=>{a(c.getCenter().lng.toFixed(4)),n(c.getCenter().lat.toFixed(4)),i(c.getZoom().toFixed(2))})),()=>c.remove()}),[]),Object(Ee.jsx)(at,{children:Object(Ee.jsx)("div",{children:Object(Ee.jsx)("div",{className:"map-container",ref:e})})})};var Vt=function(e){const[t,a]=s.a.useState({}),[c,n]=s.a.useState(!1);s.a.useEffect((()=>{r()}),[]);const r=()=>{U(e).then((e=>{a(...e)})).finally((()=>{n(!0)}))};return{data:t,isLoading:c,update:r}};a(160);var Kt=function(){const e=Me(),{data:t,isLoading:a,update:c}=Vt(ve);return Object(Ee.jsxs)("div",{children:[Object(Ee.jsxs)(at,{isLoaded:a,children:[e&&Object(Ee.jsx)(qe,{data:t,updateData:c}),Object(Ee.jsxs)("div",{className:"home",children:[Object(Ee.jsx)("div",{className:"home__img",children:t.img&&Object(Ee.jsx)("img",{src:"".concat(we.COMPONENTS).concat(t.img),className:"img-fluid",alt:"main logo"})}),Object(Ee.jsx)("div",{className:"home__text",children:t?Object(Be.a)("".concat(t.text)):""})]})]}),Object(Ee.jsx)(Bt,{}),Object(Ee.jsx)(dt,{title:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456 \u0442\u043e\u0432\u0430\u0440\u0438"}),Object(Ee.jsx)(Yt,{})]})};a(161);var Xt=()=>{const{isAuth:e,role:t}=Object(o.c)((({user:e})=>e)),{data:a,isLoading:c,update:s}=Vt(Ne),n=a.img&&Object(Ee.jsx)("img",{className:"aboutus__preloader-img",src:"".concat(we.COMPONENTS).concat(a.img),alt:"poster"});return Object(Ee.jsxs)(at,{title:a.title,isLoaded:c,children:[e&&"ADMIN"===t?Object(Ee.jsx)(qe,{data:a,updateData:s}):"",Object(Ee.jsxs)("div",{className:"row",children:[Object(Ee.jsx)("div",{className:"col-md-6 text-center",children:n}),Object(Ee.jsx)("div",{className:"col-md-6 about-us-text",children:Object(Ee.jsx)("div",{children:a.text?Object(Be.a)("".concat(a.text)):""})})]})]})};a(162);var Jt=function(){const{isAuth:e,role:t}=Object(o.c)((({user:e})=>e)),{data:a,isLoading:c,update:s}=Vt(Ce);return Object(Ee.jsxs)("div",{className:"contacts",children:[Object(Ee.jsxs)(at,{title:a.title,isLoaded:c,children:[e&&"ADMIN"===t?Object(Ee.jsx)(qe,{data:a,updateData:s}):"",Object(Ee.jsxs)("div",{className:"row",children:[Object(Ee.jsx)("div",{className:"col-md-6",children:Object(Ee.jsx)("div",{className:"contacts-text",children:a?Object(Be.a)("".concat(a.text)):""})}),Object(Ee.jsx)("div",{className:"col-md-6",children:Object(Ee.jsx)("div",{className:"page-img",children:a.img&&Object(Ee.jsx)("img",{src:"".concat(we.COMPONENTS).concat(a.img),alt:"poster"})})})]})]}),Object(Ee.jsx)(Yt,{})]})};a(163);var Wt=function(){const e=Me(),{data:t,isLoading:a,update:c}=Vt(ye);return Object(Ee.jsxs)(at,{title:t.title,isLoaded:a,children:[e&&Object(Ee.jsx)(qe,{data:t,updateData:c}),t?Object(Be.a)("".concat(t.text)):"",Object(Ee.jsx)("div",{className:"page-img",children:t.img&&Object(Ee.jsx)("img",{src:"".concat(we.COMPONENTS).concat(t.img),alt:"poster"})})]})};a(164);var Zt=e=>{const{item:t,count:a,totalPrice:c,onDeleteItem:n,onPlus:r,onMinus:o}=e,{id:l,img:d,name:j}=t,[b,m]=s.a.useState(!1),h=()=>{m(!b)};return Object(Ee.jsxs)("li",{className:"cart-item ",children:[Object(Ee.jsxs)("div",{className:"row",children:[Object(Ee.jsxs)("div",{className:"col-md-6 d-flex align-items-center",children:[Object(Ee.jsx)("div",{className:"cart-item__img",children:Object(Ee.jsx)("img",{src:"".concat(we.PRODUCTS).concat(d),alt:"item"})}),Object(Ee.jsx)("div",{className:"cart-item__info",children:Object(Ee.jsx)(i.b,{to:"/shop/".concat(l),children:Object(Ee.jsx)("h3",{children:j})})})]}),Object(Ee.jsxs)("div",{className:"col-md-6 d-flex bottom-item-mobile align-items-center",children:[Object(Ee.jsxs)("div",{className:"cart-item__count",children:[Object(Ee.jsx)("div",{onClick:()=>{o(l)},className:"cart-item__btn unselectable-text",children:"-"}),Object(Ee.jsx)("span",{children:a}),Object(Ee.jsx)("div",{onClick:()=>{r(t)},className:"cart-item__btn unselectable-text",children:"+"})]}),Object(Ee.jsxs)("div",{className:"cart-item__price",children:[c," \u20b4"]}),Object(Ee.jsx)("div",{className:"cart-item__del",children:Object(Ee.jsx)("div",{className:"cart-item__btn btn_del unselectable-text",onClick:h,children:"x"})})]})]}),Object(Ee.jsx)(nt,{show:b,handleNo:h,handleYes:()=>{n(l),m(!b)},title:'\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f: "'.concat(j,'"'),body:'\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437 \u043a\u043e\u0448\u0438\u043a\u0430 "'.concat(j,'"?')})]})};var qt=a(37);const Qt=async(e,t,a,c=null)=>{console.log(c);const{data:s}=await P.post("api/user/registration",{email:e,password:t,name:a,phone:c,role:ge});return localStorage.setItem("token",s.token),Object(qt.a)(s.token)},$t=e=>""===e.trim(),ea=e=>e.trim().length>=5;var ta=a(85);a(165);var aa=function(){const e=Object(o.b)(),[t,a]=Object(c.useState)(!1),[n,r]=Object(c.useState)(!1),[i,l]=s.a.useState(!1),[d,j]=s.a.useState(!1),{items:b}=Object(o.c)((({cart:e})=>e)),{id:m,isAuth:h,name:O,email:u,phone:x}=Object(o.c)((({user:e})=>e)),[p,g]=Object(c.useState)(""),[v,f]=Object(c.useState)(""),[N,y]=Object(c.useState)(""),[C,_]=Object(c.useState)(""),[S,w]=s.a.useState({name:!0,phone:!0,email:!0,password:!0});Object(c.useEffect)((()=>{g(O),f(x),_(u)}),[]);const E=()=>{l(!1),w({name:!0,phone:!0,email:!0,password:!0}),a(!1)},T=async()=>{let a=m;const c={name:p,email:C,password:N,phone:v};if(t)try{await Qt(c.email,c.password,c.name,c.phone).then((t=>{console.log(t),e(q(t)),e(Z(!0)),a=t.id}))}catch(s){return!1}try{const e={};for(let t in b)e[t]={...b[t][0]},e[t].count=b[t].length,e[t].userId=a,e[t].userName=p,e[t].userEmail=C,e[t].userPhone=v;(async e=>{const{data:t}=await P.post("api/order/",e)})(Object(ta.serialize)(e))}catch(s){alert(s.response.data.message)}};return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("div",{className:"cart-bottom__buy-btn unselectable-text",onClick:()=>{l(!0)},children:"\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438"}),d&&Object(Ee.jsx)(nt,{show:d,handleYes:()=>{j(!1),e({type:"CLEAR_CART"})},title:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e!",body:"\u0414\u044f\u043a\u0443\u0454\u043c\u043e \u0437\u0430 \u0432\u0430\u0448\u0435 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f. \u041e\u0447\u0456\u043a\u0443\u0439\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u043e\u0433\u043e \u0434\u0437\u0432\u0456\u043d\u043a\u0430 \u0434\u043b\u044f \u0443\u0442\u043e\u0447\u043d\u0435\u043d\u043d\u044f \u0434\u0435\u0442\u0430\u043b\u0435\u0439."}),Object(Ee.jsx)("div",{onClick:e=>e.stopPropagation(),children:Object(Ee.jsxs)(He.a,{size:"lg",animation:!0,show:i,onHide:E,children:[Object(Ee.jsx)(He.a.Header,{closeButton:!0,children:Object(Ee.jsx)(He.a.Title,{children:" \u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f "})}),n&&Object(Ee.jsx)(ze.a,{variant:"danger",className:"m-2",children:"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 \u0437 \u0434\u0430\u043d\u043e\u044e \u043f\u043e\u0448\u0442\u043e\u0432\u043e\u044e \u0441\u043a\u0440\u0438\u043d\u044c\u043a\u043e\u044e \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454"}),Object(Ee.jsx)(He.a.Body,{children:Object(Ee.jsxs)(Ye.a,{children:[Object(Ee.jsxs)(Ye.a.Row,{children:[Object(Ee.jsxs)(Ye.a.Group,{as:Ve.a,controlId:"name",children:[Object(Ee.jsx)(Ye.a.Label,{children:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0442\u0430 \u0456\u043c'\u044f"}),Object(Ee.jsx)(Ye.a.Control,{type:"text",value:p,onChange:e=>{w((e=>({...e,name:!0}))),g(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0430\u0448\u0435 \u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0442\u0430 \u0456\u043c'\u044f"})]}),!S.name&&Object(Ee.jsx)(ze.a,{className:"error-msg",variant:"danger",children:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0412\u0438 \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 \u0432\u0430\u0448\u0435 \u0456\u043c'\u044f"})]}),Object(Ee.jsx)("br",{}),Object(Ee.jsx)(Ye.a.Row,{children:Object(Ee.jsxs)(Ye.a.Group,{as:Ve.a,controlId:"phone",children:[Object(Ee.jsx)(Ye.a.Label,{children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443"}),Object(Ee.jsx)(Ye.a.Control,{type:"number",onChange:e=>{w((e=>({...e,phone:!0}))),f(e.target.value)},value:v||"",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0430\u0448 \u043c\u043e\u0431\u0456\u043b\u044c\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440"}),!S.phone&&Object(Ee.jsx)(ze.a,{className:"error-msg",variant:"danger",children:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0412\u0438 \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443"})]})}),Object(Ee.jsx)("br",{}),Object(Ee.jsx)(Ye.a.Row,{children:Object(Ee.jsxs)(Ye.a.Group,{as:Ve.a,controlId:"email",children:[Object(Ee.jsx)(Ye.a.Label,{children:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u0441\u043a\u0440\u0438\u043d\u044c\u043a\u0430"}),Object(Ee.jsx)(Ye.a.Control,{type:"text",onChange:e=>{w((e=>({...e,email:!0}))),r(!1),_(e.target.value)},value:C,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0430\u0448 email"}),!S.email&&Object(Ee.jsx)(ze.a,{className:"error-msg",variant:"danger",children:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u041f\u043e\u0448\u0442\u043e\u0432\u0430 \u0441\u043a\u0440\u0438\u043d\u044c\u043a\u0430 \u043d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430"})]})}),Object(Ee.jsx)("br",{}),!h&&Object(Ee.jsx)(Ye.a.Check,{type:"checkbox",id:"default-checkbox",label:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f",onChange:e=>{a(e.target.checked)}}),t&&Object(Ee.jsx)("div",{className:"registration-section",children:Object(Ee.jsx)(Ye.a.Row,{children:Object(Ee.jsxs)(Ye.a.Group,{as:Ve.a,controlId:"password",children:[Object(Ee.jsx)(Ye.a.Label,{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(Ee.jsx)(Ye.a.Control,{type:"password",onChange:e=>{w((e=>({...e,password:!0}))),y(e.target.value)},value:N,placeholder:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),!S.password&&Object(Ee.jsx)(ze.a,{className:"error-msg",variant:"danger",children:"\u041f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043d\u0430\u043b\u0456\u0447\u0443\u0432\u0430\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 5 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"})]})})}),Object(Ee.jsx)("hr",{}),Object(Ee.jsx)(Ke.a,{variant:"secondary",onClick:E,children:"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"}),Object(Ee.jsx)(Ke.a,{className:"m-2",variant:"primary",id:"btn",type:"button",onClick:async e=>{const a={name:p,phone:v,email:C,password:t?N:""},c={name:!$t(a.name),phone:!$t(a.phone),email:(s=a.email,!(0===s.trim().length||!s.trim().includes("@"))),password:!t||ea(a.password)};var s;w({...c}),!Object.values(c).includes(!1)&&T().then((e=>{!1!==e?(E(),j(!0)):r(!0)}))},children:"\u041a\u0443\u043f\u0438\u0442\u0438"})]})})]})})]})},ca=a.p+"static/media/trash-icon.49eafd40.png",sa=a.p+"static/media/cart-is-empty.6f0349a5.png";a(166);const na=e=>{const{items:t,showPopup:a,onToggleClearCartPopup:c,onClickYes:n,totalCount:r,totalPrice:i}=e;return Object(Ee.jsxs)(s.a.Fragment,{children:[Object(Ee.jsx)(nt,{handleNo:c,handleYes:n,show:a,title:"\u041a\u043e\u0448\u0438\u043a",body:"\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u043a\u043e\u0448\u0438\u043a?"}),Object(Ee.jsx)("div",{className:"cart-top",children:Object(Ee.jsxs)("div",{onClick:c,className:"cart-top__clear-btn unselectable-text",children:[Object(Ee.jsx)("img",{src:ca,alt:"trash-icon"}),"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u043a\u043e\u0448\u0438\u043a"]})}),Object(Ee.jsx)("ul",{children:t}),Object(Ee.jsxs)("div",{className:"cart-bottom",children:[Object(Ee.jsxs)("div",{className:"cart-bottom__info",children:[Object(Ee.jsxs)("div",{className:"cart-bottom__items-counts",children:["\u0412\u0441\u044c\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0456\u0432: ",Object(Ee.jsxs)("span",{children:[r," \u0448\u0442."]})]}),Object(Ee.jsxs)("div",{className:"cart-bottom__total-price",children:["\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f: ",Object(Ee.jsxs)("span",{children:[i," \u20b4"]})]})]}),Object(Ee.jsx)(aa,{})]})]})};var ra=function(){const e=Object(o.b)(),{totalPrice:t,totalCount:a,items:c,itemTotalCount:n,itemTotalPrice:r}=Object(o.c)((({cart:e})=>e)),[i,l]=s.a.useState(!1),d=t=>{e((e=>({type:"REMOVE_CART_ITEM",payload:e}))(t))},j=t=>{e(W(t))},b=t=>{n[t]>1&&e((e=>({type:"MINUS_CART_ITEM",payload:e}))(t))},m=Object.keys(c).map((e=>c[e][0])).map((e=>{const t=e.id;return Object(Ee.jsx)(Zt,{item:e,count:n[t],totalPrice:r[t],onDeleteItem:d,onMinus:b,onPlus:j},t)}));return Object(Ee.jsx)(at,{title:"\u041a\u043e\u0448\u0438\u043a",backArrow:!0,children:a?Object(Ee.jsx)(na,{items:m,onToggleClearCartPopup:()=>{l((e=>!e))},onClickYes:()=>{e({type:"CLEAR_CART"}),l(!i)},totalCount:a,totalPrice:t,showPopup:i}):Object(Ee.jsxs)("h3",{className:"text-center text-secondary jumbotron jumbotron-fluid",children:[Object(Ee.jsx)("img",{className:"empty-cart-img",src:sa,alt:"cart is empty"}),Object(Ee.jsx)("p",{children:"\u0412\u0430\u0448 \u043a\u043e\u0448\u0438\u043a \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439 :( "})]})})};a(167);var ia=function(){const[e,t]=Object(c.useState)(!1),[a,s]=Object(c.useState)(""),[n,r]=Object(c.useState)(!1),[i,o]=Object(c.useState)(!1),l=e=>{t((e=>!e)),o(!1)},d=Object(Ee.jsxs)("div",{className:"form-outline mb-4",children:[n&&Object(Ee.jsx)(ze.a,{variant:"danger",children:" \u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 \u0437 \u0442\u0430\u043a\u043e\u044e \u043f\u043e\u0448\u0442\u043e\u044e \u043d\u0435 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0438\u0439 "}),Object(Ee.jsx)("label",{className:"form-label",className:"reset-form-label",htmlFor:"email",children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0443 \u043f\u043e\u0448\u0442\u0443:"}),Object(Ee.jsx)("input",{type:"email",id:"email",className:"form-control",value:a,onChange:e=>{s(e.target.value),r(!1)}})]}),j=Object(Ee.jsx)(ze.a,{variant:"success",children:"\u041d\u0430 \u0432\u043a\u0430\u0437\u0430\u043d\u0443 \u043f\u043e\u0448\u0442\u0443 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043b\u0438\u0441\u0442 \u0437 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0454\u044e \u0434\u043b\u044f \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0430\u0440\u043e\u043b\u044e"});return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("div",{onClick:l,className:"restore-password",href:"#",children:"\u0417\u0430\u0431\u0443\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Ee.jsx)(nt,{body:i?j:d,title:"\u0412\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0430\u0440\u043e\u043b\u044e",show:e,handleNo:l,handleYes:i?l:async()=>{await(async e=>{const{data:t}=await L.post("api/user/forgotPassword",{email:e});return t})(a)?(s(""),o(!0),r(!1)):r(!0)}})]})};a(168);var oa=function(){const e=Object(o.b)(),{isAuth:t}=Object(o.c)((({user:e})=>e)),[a,c]=s.a.useState(""),[n,r]=s.a.useState(""),[i,l]=s.a.useState(""),[d,j]=s.a.useState(""),b=Object(w.f)(),m=Object(w.g)(),h=m.pathname===se;return s.a.useEffect((()=>{j("")}),[m]),t?Object(Ee.jsx)(at,{children:Object(Ee.jsx)("div",{className:"text-center",children:"\u0412\u0438 \u0432\u0436\u0435 \u0437\u0430\u043b\u043e\u0433\u0456\u043d\u0435\u043d\u0456!"})}):Object(Ee.jsxs)(at,{children:[Object(Ee.jsxs)("form",{className:"login-form",onSubmit:async t=>{if(t.preventDefault(),a.includes("@")&&0!==a.trim().length)if(h||0!==i.trim().length)if(h||ea(n))if(0!==n.trim().length)try{let t;t=h?await(async(e,t)=>{const{data:a}=await P.post("api/user/login",{email:e,password:t});return localStorage.setItem("token",a.token),Object(qt.a)(a.token)})(a,n):await Qt(a,n,i),e(Z(!0)),e(q(t)),b.push("/")}catch(c){j(c.response.data.message)}else j("Password is not correct");else j("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u0431\u0443\u0442\u0438 \u043a\u043e\u0440\u043e\u0442\u0448\u0438\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432");else j("Name is not correct");else j("Email is not correct")},children:[d.length>0&&Object(Ee.jsx)(ze.a,{variant:"danger",children:d}),Object(Ee.jsxs)("h2",{children:[" ",h?"\u0423\u0432\u0456\u0439\u0442\u0438":"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"," "]}),Object(Ee.jsxs)("div",{className:"form-outline mb-4",children:[Object(Ee.jsx)("input",{type:"email",id:"email",className:"form-control",value:a,onChange:e=>{c(e.target.value)}}),Object(Ee.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email"})]}),!h&&Object(Ee.jsxs)("div",{className:"form-outline mb-4",children:[Object(Ee.jsx)("input",{type:"text",id:"userName",className:"form-control",value:i,onChange:e=>{l(e.target.value)}}),Object(Ee.jsx)("label",{className:"form-label",htmlFor:"userName",children:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0442\u0430 \u0456\u043c'\u044f"})]}),Object(Ee.jsxs)("div",{className:"form-outline mb-4",children:[Object(Ee.jsx)("input",{type:"password",id:"password",className:"form-control",value:n,onChange:e=>{r(e.target.value)}}),Object(Ee.jsx)("label",{className:"form-label",htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"})]}),Object(Ee.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:h?"\u0423\u0432\u0456\u0439\u0442\u0438":"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f"})]}),Object(Ee.jsx)(ia,{})]})};a(169);var la=function(e){const[t,a]=Object(c.useState)(!1),s=()=>{a((e=>!e))};return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(nt,{show:t,onHide:s,handleYes:()=>{(async e=>{const{data:t}=await L.delete("api/user/"+e);return t})(e.id).then((t=>{t&&e.onDeleteUser(e.id)}))},handleNo:s,title:"\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",body:"\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 ".concat(e.name)}),Object(Ee.jsx)(Ke.a,{variant:"danger",onClick:s,children:"X"})]})};var da=function(e){const{page:t,pageLimit:a,index:c,id:s,role:n,email:r,phone:i,name:l}=e,{id:d}=Object(o.c)((({user:e})=>e));let j=2===e.page?c+a:t*a-a+c;return Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("td",{children:j+1}),Object(Ee.jsx)("td",{children:s}),Object(Ee.jsx)("td",{children:l}),Object(Ee.jsx)("td",{children:i||"---------"}),Object(Ee.jsx)("td",{children:r}),Object(Ee.jsx)("td",{children:d!==s?Object(Ee.jsxs)(Ye.a.Control,{as:"select",defaultValue:n,onChange:e=>{(async(e,t)=>{const a={role:t},{data:c}=await P.patch("api/user/"+e,a)})(s,e.target.value)},children:[Object(Ee.jsx)("option",{value:"ADMIN",children:"ADMIN"}),Object(Ee.jsx)("option",{value:"MODERATOR",children:"MODERATOR"}),Object(Ee.jsx)("option",{value:"USER",children:"USER"})]}):n}),Object(Ee.jsx)("td",{children:d!==s?Object(Ee.jsx)(la,{id:s,onDeleteUser:e.onDeleteUser,name:l}):""})]})},ja=a(192);a(170);var ba=function(){const[e,t]=s.a.useState(""),[a,c]=s.a.useState(5),[n,r]=s.a.useState(1);s.a.useEffect((()=>{i()}),[n]);const i=()=>{I.getUsers(9,n).then((e=>{t(e.rows),c(e.count)}))},o=a=>{const c=e.filter((e=>e.id!==a));0===c.length&&n>1&&r((e=>e-1)),t([...c])};return Object(Ee.jsxs)(at,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0438\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432",children:[Object(Ee.jsx)("div",{className:"users-list",children:Object(Ee.jsxs)(ja.a,{responsive:!0,children:[Object(Ee.jsx)("thead",{children:Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("th",{children:"#"}),Object(Ee.jsx)("th",{children:"ID"}),Object(Ee.jsx)("th",{children:"Name"}),Object(Ee.jsx)("th",{children:"Phone"}),Object(Ee.jsx)("th",{children:"Email"}),Object(Ee.jsx)("th",{children:"Role"}),Object(Ee.jsx)("th",{children:"Delete"})]})}),Object(Ee.jsx)("tbody",{children:0!==e.length&&e.map(((e,t)=>Object(Ee.jsx)(da,{onDeleteUser:o,index:t,pageLimit:9,page:n,...e},e.id)))})]})}),Object(Ee.jsx)(St,{currentPage:n,totalCount:a,pageSize:9,onPageChange:e=>r(e)})]})};a(171);var ma=function(e){const t=Object(o.b)(),[a,s]=Object(c.useState)(!1),{pageOrders:n,limit:r,items:i}=Object(o.c)((({orders:e})=>e)),l=()=>{s((e=>!e))};return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(nt,{show:a,onHide:l,handleNo:l,handleYes:()=>{(async e=>{const{data:t}=await L.delete("api/order/"+e);return t})(e.id).then((e=>{t(Q(n,r)),1===i.length&&n>1&&t(te(n-1))})),l()},title:"\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",body:"\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u2116".concat(e.orderNumber," ?")}),Object(Ee.jsx)("div",{className:"del-order-btn",onClick:l,children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"}),";"]})};a(172);var ha=function({item:e}){const[t,a]=Object(c.useState)(!1);return Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("td",{className:"order-table-img",children:Object(Ee.jsx)("img",{src:"".concat(we.PRODUCTS).concat(e.img),onError:e=>{a(!0),e.target.onError=null,e.target.src="".concat(we.PRODUCTS).concat(Se)},alt:"poster"})}),Object(Ee.jsx)("td",{children:t?Object(Ee.jsx)("p",{children:e.name}):Object(Ee.jsx)(i.b,{to:"/shop/".concat(e.goodsId),children:e.name})}),Object(Ee.jsx)("td",{children:e.count}),Object(Ee.jsxs)("td",{children:[e.price*e.count," \u20b4"]})]},e.id)};a(173);var Oa=function(e){return Object(Ee.jsxs)(ja.a,{responsive:!0,children:[Object(Ee.jsx)("thead",{children:Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("th",{children:"#"}),Object(Ee.jsx)("th",{children:"\u041d\u0430\u0437\u0432\u0430"}),Object(Ee.jsx)("th",{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"}),Object(Ee.jsx)("th",{children:"\u0421\u0443\u043c\u0430"})]})}),Object(Ee.jsx)("tbody",{children:e.items.map((e=>Object(Ee.jsx)(ha,{item:e})))})]})};var ua=function(e){const t=Object(o.b)(),a=Me(),[c,n]=s.a.useState(!1);s.a.useEffect((()=>{var a;t((a=e.orderNumber,e=>{e({type:"SET_ORDERS_ITEMS_LOADED",payload:!1}),I.getOrdersItems(a).then((t=>{e(ee(t.rows))}))}))}),[]);const r=e=>{e.target.onError=null,e.target.src="".concat(we.PRODUCTS).concat(Se)},i=e.goods.map((e=>e.img)),l=i.slice(0,3).map(((e,t)=>Object(Ee.jsx)("img",{src:"".concat(we.PRODUCTS).concat(e),onError:r,alt:"poster"},t+e))),d=e.date.split("T")[0].split("-").join("/");return Object(Ee.jsx)(Ee.Fragment,{children:Object(Ee.jsxs)("li",{className:"orders-item-list",children:[Object(Ee.jsxs)("div",{className:"order-item",onClick:()=>{n((e=>!e))},children:[Object(Ee.jsxs)("div",{className:"order-item__section order-item__number",children:[Object(Ee.jsx)("span",{children:"\u2116"})," ",e.orderNumber]}),Object(Ee.jsxs)("div",{className:"order-item__section order-item__date",children:[Object(Ee.jsx)("span",{children:"\u0414\u0430\u0442\u0430:"})," ",d]}),Object(Ee.jsxs)("div",{className:"order-item__section order-item__amount",children:[Object(Ee.jsx)("span",{children:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u0430:"})," ",e.totalAmount," \u20b4"]}),Object(Ee.jsxs)("div",{className:"order-item__section order-item__images",children:[l,i.length>3?"+".concat(i.length-3):""]}),Object(Ee.jsx)("div",{className:"drop-arrow",children:Object(Ee.jsx)(Et,{rotate:c})})]}),c&&Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(Oa,{items:e.goods}),Object(Ee.jsxs)("div",{className:"user-order-info",children:[Object(Ee.jsxs)("p",{children:[Object(Ee.jsx)("span",{children:"\u0406\u043c'\u044f:"})," ",e.userName]}),Object(Ee.jsxs)("p",{children:[Object(Ee.jsx)("span",{children:"\u041f\u043e\u0448\u0442\u0430:"})," ",e.userEmail]}),Object(Ee.jsxs)("p",{children:[Object(Ee.jsx)("span",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:"})," ",e.userPhone]}),Object(Ee.jsx)("span",{children:Object(Ee.jsx)("p",{children:!e.goods[0].userId&&"\u043d\u0435 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0438\u0439 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447"})})]}),Object(Ee.jsxs)("div",{className:"orders-item-list__total",children:[Object(Ee.jsx)("span",{children:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u0430:"})," ",e.totalAmount," \u20b4"]}),a&&Object(Ee.jsx)(ma,{id:e.id,orderNumber:e.orderNumber})]})]})})};a(174);var xa=function(){const e=Object(o.b)(),{id:t,role:a}=Object(o.c)((({user:e})=>e)),{pageOrders:c,limit:n,items:r,isLoaded:i,totalCount:l}=Object(o.c)((({orders:e})=>e)),d=r&&r.map(((e,t)=>Object(Ee.jsx)(ua,{...e},e.orderNumber)));return s.a.useEffect((()=>{e(a!==xe?Q(c,n,t):Q(c,n))}),[t,c,n]),Object(Ee.jsxs)(at,{title:"\u041c\u043e\u0457 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",isLoaded:i,children:[Object(Ee.jsx)("ul",{children:0===d.length?Object(Ee.jsx)("p",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0439"}):d}),Object(Ee.jsx)(St,{currentPage:c,totalCount:l,pageSize:n,onPageChange:t=>{e(te(t))}})]})};var pa=function({userId:e,token:t}){const[a,s]=Object(c.useState)(""),[n,r]=Object(c.useState)(""),i=Object(w.f)();return Object(Ee.jsx)(at,{children:Object(Ee.jsxs)("form",{className:"login-form",onSubmit:a=>{a.preventDefault(),ea(n)?((async(e,t,a)=>{const{data:c}=await L.post("api/user/resetPassword/"+e+"/"+t,{password:a});return c})(e,t,n).then((e=>{console.log(e)})),i.push("/login")):s("\u041f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u0431\u0443\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 5 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432")},children:[a.length>0&&Object(Ee.jsx)(ze.a,{variant:"danger",children:a}),Object(Ee.jsx)("h3",{children:" \u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c: "}),Object(Ee.jsx)("div",{className:"form-outline mb-4",children:Object(Ee.jsx)("input",{type:"password",id:"password",className:"form-control",value:n,onChange:e=>{s(""),r(e.target.value)}})}),Object(Ee.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"})]})})};a(175),a(176),a(177);var ga=function(e){const[t,a]=s.a.useState(e.name),[c,n]=s.a.useState(e.email),[r,i]=s.a.useState(e.phone),[o,l]=s.a.useState(""),[d,j]=s.a.useState(""),b=()=>{e.onShowFormHandler(),j("")},m=()=>{if(0===t.trim().length)return void j("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0406\u043c'\u044f \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u043c");if(!c.includes("@")||0===c.trim().length)return void j("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0412\u0438 \u0432\u0432\u0435\u043b\u0438 \u043d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443 \u043f\u043e\u0448\u0442\u0443");const a={name:t,email:c,phone:r,image:o};e.onSaveProfile(a),b()},h=0===o.length?"".concat(we.USERS).concat(e.image):URL.createObjectURL(o);return Object(Ee.jsxs)(Ye.a,{onSubmit:m,children:[d&&Object(Ee.jsx)(ze.a,{className:"m-2",className:"profile-edit__error",variant:"danger",children:d}),Object(Ee.jsxs)("div",{className:"user-profile",children:[Object(Ee.jsxs)("div",{className:"user-profile__image profile-edit-form__image",children:[Object(Ee.jsx)("img",{src:"".concat(h),alt:"user-avatar"}),Object(Ee.jsx)(Ye.a.Control,{onChange:e=>{"image"===e.target.files[0].type.split("/")[0]?(j(""),l(e.target.files[0])):j("\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u0417\u0430\u0431\u043e\u0440\u043e\u043d\u0435\u043d\u0438\u0439 \u0442\u0438\u043f \u0444\u0430\u0439\u043b\u0430")},type:"file",placeholder:"Enter the image url"})]}),Object(Ee.jsxs)("div",{className:"user-info",children:[Object(Ee.jsxs)("div",{className:"user-profile__item",children:[Object(Ee.jsx)("span",{children:"\u0406\u043c'\u044f:"}),Object(Ee.jsx)(Ye.a.Control,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0435 \u0456\u043c'\u044f",value:t,onChange:e=>{j(""),a(e.target.value)}})]}),Object(Ee.jsxs)("div",{className:"user-profile__item",children:[Object(Ee.jsx)("span",{children:"Email: "}),Object(Ee.jsx)(Ye.a.Control,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0443 \u043f\u043e\u0448\u0442\u0443",value:c,onChange:e=>{j(""),n(e.target.value)}})]}),Object(Ee.jsxs)("div",{className:"user-profile__item",children:[Object(Ee.jsx)("span",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d: "}),Object(Ee.jsx)(Ye.a.Control,{type:"number",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448 \u043c\u043e\u0431\u0456\u043b\u044c\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440",value:r||"",onChange:e=>{j(""),i(e.target.value)}})]})]})]}),Object(Ee.jsxs)("div",{className:"profile-edit-form__nav",children:[Object(Ee.jsx)(Ke.a,{variant:"secondary",onClick:b,children:"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"}),Object(Ee.jsx)(Ke.a,{className:"m-2",variant:"primary",type:"button",onClick:m,children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})]})};a(178),a(179);var va=function(){Object(o.b)();const[e,t]=Object(c.useState)(!1),[a,s]=Object(c.useState)(""),[n,r]=Object(c.useState)(""),[i,l]=Object(c.useState)(""),[d,j]=Object(c.useState)({currentPassword:"",newPassword:""}),{id:b}=Object(o.c)((({user:e})=>e)),m=(e,t)=>{j((a=>({...a,[e]:t})))},h=e=>{t((e=>!e))};return Object(Ee.jsxs)("div",{children:[e&&Object(Ee.jsxs)(He.a,{size:"lg",animation:!0,show:e,onHide:h,children:[Object(Ee.jsx)(He.a.Header,{closeButton:!0,children:Object(Ee.jsx)(He.a.Title,{children:" \u0417\u043c\u0456\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044e "})}),0!==i.length&&Object(Ee.jsx)(ze.a,{variant:"danger",className:"m-2",children:i}),Object(Ee.jsx)(He.a.Body,{children:Object(Ee.jsxs)(Ye.a,{children:[Object(Ee.jsx)(Ye.a.Row,{children:Object(Ee.jsxs)(Ye.a.Group,{as:Ve.a,controlId:"currentPasswrod",children:[Object(Ee.jsx)(Ye.a.Label,{children:"\u041f\u043e\u0442\u043e\u0447\u043d\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(Ee.jsx)(Ye.a.Control,{type:"password",value:a,onChange:e=>{s(e.target.value),m("currentPassword","")},placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448 \u043f\u043e\u0442\u043e\u0447\u043d\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),0!==d.currentPassword.length&&Object(Ee.jsx)("p",{className:"error-input",children:d.currentPassword})]})}),Object(Ee.jsx)("br",{}),Object(Ee.jsx)(Ye.a.Row,{children:Object(Ee.jsxs)(Ye.a.Group,{as:Ve.a,controlId:"phone",children:[Object(Ee.jsx)(Ye.a.Label,{children:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(Ee.jsx)(Ye.a.Control,{type:"password",value:n,onChange:e=>{r(e.target.value),m("newPassword","")},placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),0!==d.newPassword.length&&Object(Ee.jsx)("p",{className:"error-input",children:d.newPassword})]})}),Object(Ee.jsx)("br",{}),Object(Ee.jsx)("hr",{}),Object(Ee.jsx)(Ke.a,{variant:"secondary",onClick:h,children:"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"}),Object(Ee.jsx)(Ke.a,{className:"m-2",variant:"primary",id:"btn",type:"button",onClick:()=>{$t(a)?m("currentPassword","\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0437\u0431\u0456\u0433\u0430\u0454\u0442\u044c\u0441\u044f"):ea(n)?(async(e,t,a)=>{const{data:c}=await P.post("api/user/changePassword",{password:e,newPassword:t,id:a});return localStorage.setItem("token",c.token),Object(qt.a)(c.token)})(a,n,b).then((e=>{h()})).catch((e=>{l("\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u043f\u043e\u0442\u043e\u0447\u043d\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c")})):m("newPassword","\u041f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u0431\u0443\u0442\u0438 \u043d\u0435 \u043a\u043e\u0440\u043e\u0442\u0448\u0438\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432")},children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})})]}),Object(Ee.jsx)("span",{children:Object(Ee.jsx)("button",{className:"change-password-btn",onClick:h,children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"})})]})};var fa=function(){const e=Object(o.b)(),{id:t,image:a,name:c,email:n,phone:r}=Object(o.c)((({user:e})=>e)),[i,l]=s.a.useState(!1),[d,j]=s.a.useState(!0),b=()=>{l((e=>!e))},m=a||_e;return Object(Ee.jsx)(at,{title:"\u041f\u0440\u043e\u0444\u0456\u043b\u044c",isLoaded:d,children:i?Object(Ee.jsx)(ga,{image:m,name:c,email:n,phone:r,onShowFormHandler:b,onSaveProfile:a=>{try{j(!1);const c=new FormData;c.append("name",a.name),c.append("email",a.email),c.append("phone",a.phone),"string"!==typeof a.image&&c.append("image",a.image),(async(e,t)=>{const{data:a}=await L.patch("api/user/updateUser/"+t,e);return localStorage.setItem("token",a.token),Object(qt.a)(a.token)})(c,t).then((t=>{a.image=t.image,e(q(a)),j(!0)}))}catch(c){alert(c.response.data.message)}}}):Object(Ee.jsxs)("div",{className:"user-profile",children:[Object(Ee.jsx)("div",{className:"user-profile__image",children:Object(Ee.jsx)("img",{src:"".concat(we.USERS).concat(m),alt:"user-avatar"})}),Object(Ee.jsxs)("div",{className:"user-info",children:[Object(Ee.jsx)("div",{className:"edit-profile-btn",onClick:b,children:Object(Ee.jsx)(Fe.a,{})}),Object(Ee.jsxs)("div",{className:"user-profile__item",children:[Object(Ee.jsx)("span",{children:"\u0406\u043c'\u044f: "}),c]}),Object(Ee.jsxs)("div",{className:"user-profile__item",children:[Object(Ee.jsx)("span",{children:"Email: "}),n]}),Object(Ee.jsxs)("div",{className:"user-profile__item",children:[Object(Ee.jsx)("span",{children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443: "}),r||""]}),Object(Ee.jsx)("div",{className:"user-profile__item",children:Object(Ee.jsx)(va,{})})]})]})})};var Na=function(){const e=Object(o.b)(),[t,a]=s.a.useState(!1),{isAuth:c}=Object(o.c)((({user:e})=>e));return s.a.useEffect((()=>{(async()=>{const{data:e}=await L.get("api/user/auth");return localStorage.setItem("token",e.token),Object(qt.a)(e.token)})().then((t=>{e(Z(!0)),e(q(t))})).finally((()=>{a(!1)}))}),[e]),t?Object(Ee.jsx)(et,{}):Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Ge,{}),Object(Ee.jsxs)(w.c,{children:[Object(Ee.jsx)(w.a,{exact:!0,path:re,component:Kt}),Object(Ee.jsx)(w.a,{exact:!0,path:ie,component:Xt}),Object(Ee.jsx)(w.a,{exact:!0,path:oe,component:Jt}),Object(Ee.jsx)(w.a,{exact:!0,path:le,component:Wt}),Object(Ee.jsx)(w.a,{exact:!0,path:de,component:ra}),Object(Ee.jsx)(w.a,{path:je,exact:!0,component:At}),Object(Ee.jsx)(w.a,{path:be,render:({match:e})=>Object(Ee.jsx)(bt,{itemId:e.params.id,exact:!0})}),Object(Ee.jsx)(w.a,{path:se,component:oa}),Object(Ee.jsx)(w.a,{path:ne,component:oa}),c&&Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(w.a,{path:he,component:xa}),Object(Ee.jsx)(w.a,{path:me,component:ba}),Object(Ee.jsx)(w.a,{path:Oe,component:fa})]}),Object(Ee.jsx)(w.a,{path:ue,render:({match:e})=>Object(Ee.jsx)(pa,{userId:e.params.id,token:e.params.token})}),Object(Ee.jsx)(w.a,{path:"*",component:jt})]}),Object(Ee.jsx)($e,{})]})};r.a.render(Object(Ee.jsx)(i.a,{children:Object(Ee.jsx)(o.a,{store:S,children:Object(Ee.jsx)(E,{children:Object(Ee.jsx)(Na,{})})})}),document.getElementById("root"))}]),[[180,1,2]]]);
//# sourceMappingURL=main.cb326f28.chunk.js.map