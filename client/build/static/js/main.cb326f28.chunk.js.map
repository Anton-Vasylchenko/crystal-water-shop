{"version":3,"sources":["redux/reducers/goods.js","redux/reducers/filters.js","redux/reducers/advantages.js","redux/reducers/cart.js","redux/reducers/user.js","redux/reducers/orders.js","redux/reducers/index.js","redux/store.js","components/scroll-to-top/scroll-to-top.js","services/api-services.js","redux/actions/filters.js","services/http.js","services/productsAPI.js","redux/actions/goods.js","redux/actions/advantages.js","redux/actions/cart.js","redux/actions/user.js","redux/actions/orders.js","utils/consts.js","components/main-navigation/main-navigation.js","components/main-navigation/index.js","assets/images/logo.png","components/main-logo/main-logo.js","components/main-logo/index.js","components/mobile-menu/mobile-menu.js","components/mobile-menu/index.js","components/user/user-panel/user-panel.js","components/user/user-panel/index.js","assets/images/cart.png","components/login-panel/login-panel.js","components/login-panel/index.js","components/Layout/header/header.js","components/Layout/header/index.js","hooks/useIsAdmin.js","components/admin/text-editor/TextEditor.js","components/admin/text-editor/index.js","components/admin/admin-components/admin-components-edit.js","components/Layout/footer/footer-item/footer-item.js","components/Layout/footer/footer-item/index.js","components/Layout/footer/footer.js","components/Layout/footer/index.js","components/UI/spinner/spinner.js","components/UI/spinner/index.js","components/UI/back-arrow/back-arrow.js","components/UI/back-arrow/index.js","components/UI/container/container.js","components/UI/container/index.js","components/admin/admin-products/admin-products-form.js","components/admin/admin-products/admin-products-add.js","components/UI/modal-box/modal-box.js","components/UI/modal-box/index.js","components/admin/admin-products/admin-products-delete.js","components/admin/admin-products/admin-products-edit.js","hooks/useIsModerator.js","components/shop-items-list/list-item/list-item.js","components/shop-items-list/list-item/index.js","components/popular-products/popular-products.js","components/popular-products/index.js","components/error-404/error-404.js","components/error-404/index.js","components/shop-item-details/shop-item-details.js","components/shop-item-details/index.js","components/admin/admin-categories/create-categories.js","components/admin/admin-categories/edit-categories-list-item.js","components/admin/admin-categories/edit-categories-list.js","components/categories-list/categories-list.js","components/categories-list/index.js","components/UI/pagination/usePagination.js","components/UI/pagination/pagination.js","components/UI/pagination/index.js","components/shop-items-list/shop-items-list.js","components/shop-items-list/index.js","components/UI/dropdown-arrow/dropdown-arrow.js","components/UI/dropdown-arrow/index.js","components/sort-filter/sort-order-arrow/sort-order-arrow.js","components/sort-filter/sort-order-arrow/index.js","components/sort-filter/sort-popup/sort-popup.js","components/sort-filter/sort-popup/index.js","pages/shop-page/shop-page.js","pages/shop-page/index.js","components/admin/admin-advantages/advantages-create.js","components/admin/admin-advantages/advantages-form-edit.js","components/admin/admin-advantages/advantages-edit.js","components/admin/admin-advantages/advantages-delete.js","components/admin/admin-advantages/advantages-form-create.js","components/advantages-list/advantages-list-item.js","components/advantages-list/advantages-list.js","components/advantages-list/index.js","components/Layout/map/map.js","components/Layout/map/index.js","hooks/usePage.js","pages/home-page/index.js","pages/home-page/home-page.js","pages/about-us-page/about-us-page.js","pages/about-us-page/index.js","pages/contacts-page/index.js","pages/contacts-page/contacts-page.js","pages/payment-delivery-page/index.js","pages/payment-delivery-page/payment-delivery-page.js","components/cart-item/cart-item.js","components/cart-item/index.js","services/userAPI.js","helpers/isValidInput.js","components/order-form/order-form.js","components/order-form/index.js","services/sendMail.js","assets/images/trash-icon.png","assets/images/cart-is-empty.png","pages/cart-page/cart-page.js","pages/cart-page/index.js","components/restore-password/restore-password.js","components/restore-password/index.js","pages/auth-page/auth-page.js","pages/auth-page/index.js","components/admin/users-list/user-delete/user-delete.js","components/admin/users-list/user-item/user-item.js","components/admin/users-list/user-item/index.js","components/admin/users-list/users-list.js","components/admin/users-list/index.js","components/admin/admin-order-delete/admin-order-delete.js","components/orders-list/orders-table/order-table-item.js","components/orders-list/orders-table/orders-table.js","components/orders-list/orders-table/index.js","components/orders-list/orders-list-item/orders-list-item.js","components/orders-list/orders-list-item/index.js","components/orders-list/orders-list.js","components/orders-list/index.js","pages/reset-password-page/reset-password-page.js","components/user/user-profile/profile-edit-form/profile-edit-form.js","components/user/user-profile/change-password-form/change-password-form.js","components/user/user-profile/user-profile.js","components/user/user-profile/index.js","app/App.js","app/index.js","index.js"],"names":["initialState","items","itemDetails","page","totalCount","limit","isLoaded","goods","state","action","type","payload","popularItems","activeCategory","sortBy","sortOrder","filters","categories","advantages","totalPrice","updateCart","id","Object","keys","filter","key","reduce","obj","cart","item","itemTotalCount","itemTotalPrice","price","remove","newItemsList","role","isAuth","email","name","phone","user","pageOrders","isLoadedOrderItems","orders","itemsOrder","i","length","orderNumber","push","stateOrders","order","userName","userEmail","userPhone","totalAmount","amount","date","createdAt","orderId","newStateItems","rootReducer","combineReducers","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","withRouter","children","location","pathname","useEffect","scrollTo","top","left","apiServices","_baseUrl","getResource","async","res","fetch","this","url","ok","Error","status","json","getGoods","category","data","axios","get","params","categoryId","getOrders","userId","getOrdersItems","getUsers","getProductByCatId","catId","getShopItemById","getShopCategories","getAdvantages","fetchCategories","dispatch","then","setCategories","setActiveCategory","index","$host","create","baseURL","$authHost","interceptors","request","use","config","headers","authorization","localStorage","getItem","getComponentInfoByName","setLoaded","fetchGoods","setGoods","rows","setTotalCount","count","fetchPopularGoods","setPopularGoods","fetchItemDetails","getProductById","setItemDetails","setPage","pageNumber","fetchAdvantages","setAdvantages","addItemToCart","setIsAuth","bool","setUser","fetchOrders","setOrders","setOrdersTotalCount","setOrdersItems","setOrdersPage","_baseImgUrl","Routes","UserRoles","ComponentName","UserDefault","ProductDefault","ImgUrlDefault","ADVANTAGES","COMPONENTS","PRODUCTS","USERS","MainNavigation","onClickLink","handleLinkClick","className","to","onClick","MainLogo","classNames","src","Logo","alt","MobileMenu","showMenu","setShowMenu","React","useState","toggleMenu","prevState","UserPanel","useDispatch","history","useHistory","image","useSelector","isAdmin","imageUrl","DropdownButton","title","Dropdown","Item","as","Link","eventKey","removeItem","LoginPanel","Header","Cart","useIsAdmin","TextEditor","content","onChangeInfo","fieldName","text","setText","onSaveShanges","event","editor","getData","ClassicEditor","fontFamily","options","fontSize","toolbar","placeholder","onChange","onBlur","AdminComponentsEdit","updateData","modalVisible","setModalVisible","error","setError","nameCount","setNameCount","inputsValue","setInputsValue","closeModal","updateState","field","newValue","showErrorMsg","e","stopPropagation","Modal","size","animation","show","onHide","closeButton","Title","Alert","variant","Body","Form","Row","Group","Col","controlId","Label","Control","target","value","img","files","Button","split","replace","formData","FormData","append","patch","updateComponent","alert","response","message","FooterItem","updateFooterInfo","parse","Footer","footerInfo","setFooterInfo","map","href","rel","Spinner","BackArrow","goBack","viewBox","d","Container","backArrow","mainTitle","backArrowBtn","loading","AdminProductsForm","handleNo","handleSubmit","selectedImage","setSelectedImage","description","onCancelHandle","clearForm","categoriesDropdown","cat","activeCat","active","imgUrl","URL","createObjectURL","Toggle","Menu","preventDefault","trim","product","AdminProductsAdd","post","createProduct","currentCategory","ModalBox","handleYes","body","onClose","AdminProductDelete","setShow","toggleShow","delete","deleteProduct","AdminProductsEdit","itemCatId","setItemCatId","updateProduct","changeCategory","Number","MAX_SAFE_INTEGER","console","log","useIsModerator","ListItem","onClickBuyBtn","countOfAdded","isModerator","PopularProducts","cartItems","handleAddItemToCart","Error404","ShopItemDetails","itemId","Fragment","CreateCategories","categoryValue","setCategoryValue","centered","createCategory","EditCategoriesListItem","handleDelete","handleUpdate","stateDeleteModal","setShowDeleteModal","stateEditInput","setEditInput","EditCategoriesList","isError","setIsError","deleteCategory","updateCategory","categoriesList","elem","CategoriesList","onSelectCategory","useCallback","defaultProps","onClickCategory","memo","DOTS","range","start","end","Array","from","_","idx","Pagination","props","onPageChange","siblingCount","currentPage","pageSize","paginationRange","useMemo","totalPageCount","Math","ceil","leftSiblingIndex","max","rightSiblingIndex","min","shouldShowLeftDots","shouldShowRightDots","lastPageIndex","rightRange","middleRange","usePagination","lastPage","classnames","disabled","selected","ShopItemsList","loadingGoods","goodsList","DropdownArrow","rotate","width","height","fill","xmlns","SortOrderArrow","changeOrder","arrowRotates","aa","SortPopup","visiblePopup","setVisiblePopup","sortRef","useRef","activeLabel","find","document","addEventListener","handleOutsideClick","path","composedPath","includes","current","onChangeSortBy","elements","ref","ShopPage","AdvantagesCreate","color","adv","advantage","createAdvantages","AdvantagesFormEdit","titleCount","setTitleCount","AdvantagesEdit","updateAdvantages","AdvantagesDelete","deleteAdvantages","AdvantagesFormCreate","textCount","setTextCount","AdvantagesListItem","AdvantagesList","advantagesList","mapboxgl","workerClass","MapboxWorker","accessToken","Map","mapContainer","lng","setLng","lat","setLat","zoom","setZoom","container","style","center","on","getCenter","toFixed","getZoom","usePage","componentData","setComponentData","isLoading","setIsLoading","updateInfo","finally","update","HomePage","AboutUsPage","ContactsPage","PaymentDeliveryPage","CartItem","onDeleteItem","onPlus","onMinus","showPopup","setShowPopup","onClosePopupHandler","registration","password","setItem","token","jwt_decode","isEmpty","isFiveChars","OrderForm","checkboxChecked","setCheckboxChecked","userExists","setUserExists","showSuccessMsg","setShowSuccessMsg","nameValue","setNameValue","phoneValue","setPhoneValue","passwordValue","setPasswordValue","emailValue","setEmailValue","errors","setErrors","sendOrderToEmail","userData","itemOrders","mailData","sendEmail","serialize","Check","label","checked","enteredData","enteredDataIsValid","values","CartView","onToggleClearCartPopup","onClickYes","trashIcon","CartPage","delItemFromCart","removeCartItem","plusItemCart","minusItemCart","minusCartItem","cartItemsList","emptyCartImg","RestorePassword","showModal","setShowModal","setEmail","errorIsNotExist","setIsNotExist","showMsgSuccess","setShowMsgSuccess","onShowRestorePasswordModal","resetPasswordInput","htmlFor","successMessage","forgotPassword","LoginPage","AuthPage","setPassword","setUserName","useLocation","isLogin","onSubmit","login","UserDelete","showDeletePopup","setShowDeletePopup","onTogglePopup","deleteUser","onDeleteUser","UserItem","pageLimit","idUserLogined","userNumber","defaultValue","userRole","changeRole","UsersList","users","setUsers","deleteUserHandler","newUsers","Table","responsive","AdminOrderDelete","onShowPopupHandler","deleteOrders","OrderTableItem","isProductDeleted","setIsProductDeleted","onError","goodsId","OrdersTable","OrdersListItem","dropdownOrder","setDropdownOrder","onErrorImage","orderImages","images","slice","orderData","join","OrdersList","ordersList","ResetPasswordPage","enteredPasswordInput","setEnteredPasswordInput","resetPassword","ProfileEditForm","enteredName","setEnteredName","enteredEmail","setEnteredEmail","enteredPhone","setEnteredPhone","onHideForm","onShowFormHandler","onSubmitHandler","newProfile","onSaveProfile","ChangePasswordForm","showForm","setShowForm","currentPasswordInput","setCurrentPasswordInput","newPasswordInput","setNewPasswordInput","serverError","setServerError","currentPassword","newPassword","updateErrors","inputName","msg","onChangePasswordHandler","changePassword","catch","UserProfile","isFormVisible","setIsFormVisible","profile","updateUser","App","setLoading","check","exact","component","Pages","render","match","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.cb326f28.chunk.js","sourcesContent":["const initialState = {\r\n    items: [],\r\n    itemDetails: {},\r\n    page: 1,\r\n    totalCount: 0,\r\n    limit: 8,\r\n    isLoaded: false\r\n}\r\n\r\nconst goods = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_GOODS':\r\n            return {\r\n                ...state,\r\n                items: action.payload,\r\n                isLoaded: true\r\n            };\r\n        case 'SET_POPULAR_GOODS':\r\n            return {\r\n                ...state,\r\n                popularItems: action.payload,\r\n                isLoaded: true\r\n            };\r\n        case 'SET_ITEM_DETAILS':\r\n            return {\r\n                ...state,\r\n                itemDetails: action.payload,\r\n                isLoaded: true\r\n            };\r\n        case 'SET_LOADED':\r\n            return {\r\n                ...state,\r\n                isLoaded: action.payload\r\n            };\r\n        case 'SET_PAGE':\r\n            return {\r\n                ...state,\r\n                page: action.payload,\r\n            };\r\n        case 'SET_LIMIT':\r\n            return {\r\n                ...state,\r\n                limit: action.payload,\r\n            };\r\n        case 'SET_TOTAL_COUNT':\r\n            return {\r\n                ...state,\r\n                totalCount: action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport default goods;","const initialState = {\r\n    activeCategory: null,\r\n    sortBy: 'name',\r\n    sortOrder: 'asc'\r\n}\r\n\r\nconst filters = (state = initialState, action) => {\r\n    if (action.type === 'SET_SORT_BY') {\r\n        return {\r\n            ...state,\r\n            sortBy: action.payload\r\n        }\r\n    }\r\n\r\n    if (action.type === 'SET_SORT_ORDER') {\r\n        return {\r\n            ...state,\r\n            sortOrder: action.payload,\r\n        }\r\n    }\r\n\r\n    if (action.type === 'SET_CATEGORIES') {\r\n        return {\r\n            ...state,\r\n            categories: action.payload\r\n        }\r\n    }\r\n\r\n    if (action.type === 'SET_ACTIVE_CATEGORY') {\r\n        return {\r\n            ...state,\r\n            activeCategory: action.payload\r\n        }\r\n    }\r\n\r\n    return state;\r\n};\r\n\r\n\r\nexport default filters;","const initialState = {\r\n    items: [],\r\n    isLoaded: false\r\n}\r\n\r\nconst advantages = (state = initialState, action) => {\r\n    if (action.type === 'SET_ADVANTAGES') {\r\n        return {\r\n            ...state,\r\n            items: action.payload,\r\n            isLoaded: true\r\n        };\r\n    }\r\n    return state;\r\n};\r\n\r\n\r\nexport default advantages;","const initialState = {\r\n    items: {},\r\n    totalCount: 0,\r\n    totalPrice: 0\r\n}\r\n\r\nconst updateCart = (state, id) => {\r\n    const newObj = Object.keys(state).filter(key =>\r\n        key !== `${id}`).reduce((obj, key) => {\r\n            obj[key] = state[key];\r\n            return obj;\r\n        }, {});\r\n    return newObj;\r\n}\r\n\r\nconst cart = (state = initialState, action) => {\r\n    const payload = action.payload;\r\n\r\n    switch (action.type) {\r\n        case 'ADD_ITEM_TO_CART':\r\n            const id = payload.id;\r\n            const item = state.items[id];\r\n\r\n            return {\r\n                ...state,\r\n                items: {\r\n                    ...state.items,\r\n                    [id]: !item ? [payload] : [...state.items[id], payload]\r\n                },\r\n                itemTotalCount: {\r\n                    ...state.itemTotalCount,\r\n                    [id]: item ? state.itemTotalCount[id] + 1 : 1\r\n                },\r\n                itemTotalPrice: {\r\n                    ...state.itemTotalPrice,\r\n                    [id]: item ? state.itemTotalPrice[id] + payload.price : payload.price\r\n                },\r\n                totalCount: state.totalCount + 1,\r\n                totalPrice: state.totalPrice + payload.price\r\n            };\r\n\r\n        case 'MINUS_CART_ITEM':\r\n            const [remove, ...newItemsList] = state.items[payload];\r\n\r\n            return {\r\n                ...state,\r\n                items: {\r\n                    ...state.items,\r\n                    [payload]: newItemsList\r\n                },\r\n                itemTotalPrice: {\r\n                    ...state.itemTotalPrice,\r\n                    [payload]: state.itemTotalPrice[payload] - remove.price\r\n                },\r\n                itemTotalCount: {\r\n                    ...state.itemTotalCount,\r\n                    [payload]: state.itemTotalCount[payload] - 1\r\n                },\r\n                totalCount: state.totalCount - 1,\r\n                totalPrice: state.totalPrice - remove.price\r\n            };\r\n\r\n        case 'REMOVE_CART_ITEM':\r\n            return {\r\n                ...state,\r\n                items: updateCart(state.items, payload),\r\n                itemTotalPrice: updateCart(state.itemTotalPrice, payload),\r\n                itemTotalCount: updateCart(state.itemTotalCount, payload),\r\n                totalCount: state.totalCount - state.itemTotalCount[payload],\r\n                totalPrice: state.totalPrice - state.itemTotalPrice[payload],\r\n            };\r\n\r\n        case 'CLEAR_CART':\r\n            return {\r\n                items: {},\r\n                totalCount: 0,\r\n                totalPrice: 0\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default cart;","const initialState = {\r\n    role: 'USER',\r\n    isAuth: false,\r\n    email: '',\r\n    name: '',\r\n    id: '',\r\n    phone: ''\r\n}\r\n\r\nconst user = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_IS_AUTH':\r\n            return {\r\n                ...state,\r\n                isAuth: action.payload,\r\n            };\r\n        case 'SET_USER':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        case 'SET_ROLE':\r\n            return {\r\n                ...state,\r\n                role: action.payload\r\n            };\r\n        case 'SET_USER_LOGOUT':\r\n            return {\r\n                role: 'USER',\r\n                isAuth: false,\r\n                email: '',\r\n                name: '',\r\n                id: '',\r\n                phone: ''\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport default user;","const initialState = {\r\n    items: [],\r\n    pageOrders: 1,\r\n    totalCount: 0,\r\n    limit: 10,\r\n    isLoaded: false,\r\n    isLoadedOrderItems: false,\r\n}\r\n\r\n// {\r\n//     id: 2,\r\n//     orderNumber: '444 555 888',\r\n//     totalAmount: '13002',\r\n//     date: '15/25/21',\r\n//     goods: [{\r\n//         id: 22,\r\n//         name: '',\r\n//         img: 'b221a67f-0662-4d64-a123-ea3223948eab.jpeg',\r\n//         price: 150\r\n//     },\r\n//     {\r\n//         id: 23,\r\n//         name: '',\r\n//         img: 'b221a67f-0662-4d64-a123-ea3223948eab.jpeg',\r\n//         price: 150\r\n//     }]\r\n// }\r\n\r\nfunction getTotalOrderAmount(array) {\r\n    let totalPrice = 0;\r\n\r\n    for (const element of array) {\r\n        const sum = element.price * element.count;\r\n        totalPrice += +sum\r\n    }\r\n\r\n    return totalPrice;\r\n}\r\n\r\n\r\nconst orders = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_ORDERS':\r\n            // case 'SET_ORDERS':\r\n            const itemsOrder = {};\r\n\r\n            for (let i = 0; i < action.payload.length; i++) {\r\n\r\n                if (!itemsOrder[action.payload[i].orderNumber]) {\r\n                    itemsOrder[action.payload[i].orderNumber] = [];\r\n                }\r\n\r\n                itemsOrder[action.payload[i].orderNumber].push(action.payload[i]);\r\n            }\r\n\r\n            const stateOrders = [];\r\n\r\n            for (let key in itemsOrder) {\r\n                const order = {};\r\n                order.orderNumber = itemsOrder[key][0].orderNumber;\r\n                order.userName = itemsOrder[key][0].userName;\r\n                order.userEmail = itemsOrder[key][0].userEmail;\r\n                order.userPhone = itemsOrder[key][0].userPhone;\r\n                order.id = itemsOrder[key][0].id;\r\n                order.totalAmount = itemsOrder[key][0].amount;\r\n                order.date = itemsOrder[key][0].createdAt;\r\n                order.goods = [];\r\n                // order.goods.push(...itemsOrder[key]);\r\n\r\n                stateOrders.push(order);\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                items: [...stateOrders],\r\n                isLoaded: true\r\n            };\r\n\r\n        case 'SET_ORDERS_ITEMS':\r\n            const orderId = action.payload[0].orderNumber;\r\n            let newStateItems;\r\n\r\n            for (let i = 0; i < state.items.length; i++) {\r\n\r\n                newStateItems = [\r\n                    ...state.items\r\n                ]\r\n\r\n                if (state.items[i].orderNumber === orderId) {\r\n                    newStateItems[i].goods = [...action.payload];\r\n                } else {\r\n                    newStateItems[i].goods = [...state.items[i].goods];\r\n                }\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                items: newStateItems ? [...newStateItems] : [],\r\n                isLoaded: true\r\n            };\r\n\r\n        case 'SET_ORDERS_LOADED':\r\n            return {\r\n                ...state,\r\n                isLoaded: action.payload\r\n            };\r\n        case 'SET_ORDERS_ITEMS_LOADED':\r\n            return {\r\n                ...state,\r\n                isLoadedOrderItems: action.payload\r\n            };\r\n        case 'SET_ORDERS_PAGE':\r\n            return {\r\n                ...state,\r\n                pageOrders: action.payload,\r\n            };\r\n        case 'SET_LIMIT':\r\n            return {\r\n                ...state,\r\n                limit: action.payload,\r\n            };\r\n        case 'SET_TOTAL_COUNT':\r\n            return {\r\n                ...state,\r\n                totalCount: action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport default orders;","import { combineReducers } from 'redux';\r\n\r\nimport goods from './goods';\r\nimport filters from './filters';\r\nimport advantages from './advantages';\r\nimport cart from './cart';\r\nimport user from './user';\r\nimport orders from './orders';\r\n\r\nconst rootReducer = combineReducers({\r\n    goods,\r\n    filters,\r\n    advantages,\r\n    cart,\r\n    user,\r\n    orders\r\n});\r\n\r\nexport default rootReducer;","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from './reducers';\r\n\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeEnhancer(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import { useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst ScrollToTop = ({ children, location: { pathname } }) => {\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      left: 0      \r\n    });\r\n  }, [pathname]);\r\n\r\n  return children || null;\r\n};\r\n\r\nexport default withRouter(ScrollToTop);","import axios from 'axios';\r\n\r\nclass ApiServices {\r\n  _baseUrl = process.env.NODE_ENV === 'production' ? 'api/' : `${process.env.REACT_APP_API_URL}api/`;\r\n\r\n  /**\r\n   * 'http://localhost:3004/';\r\n   * change _baseUrl on this url, if you run app with npm run dev and you want to use my fake json-server\r\n   */\r\n\r\n  getResource = async (url) => {\r\n    const res = await fetch(`${this._baseUrl}${url}`)\r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}, received ${res.status}`);\r\n    }\r\n    const body = res.json();\r\n    return body;\r\n  }\r\n\r\n  getGoods = async (sortBy, category, sortOrder, page, limit) => {\r\n    const { data } = await axios.get(`${this._baseUrl}product`, {\r\n      params: {\r\n        categoryId: category,\r\n        sortOrder: sortOrder,\r\n        sortBy: sortBy,\r\n        limit: limit,\r\n        page: page\r\n      }\r\n    })\r\n\r\n    return data;\r\n  }\r\n\r\n  getOrders = async (page, limit, userId) => {\r\n    const { data } = await axios.get(`${this._baseUrl}order`, {\r\n      params: {\r\n        userId,\r\n        limit,\r\n        page\r\n      }\r\n    })\r\n\r\n    return data;\r\n  }\r\n\r\n  getOrdersItems = async (orderId) => {\r\n    const { data } = await axios.get(`${this._baseUrl}order/items`, {\r\n      params: {\r\n        orderId: orderId\r\n      }\r\n    });\r\n    return data;\r\n  }\r\n\r\n  getUsers = async (limit, page) => {\r\n    const { data } = await axios.get(`${this._baseUrl}user`, {\r\n      params: {\r\n        limit: limit,\r\n        page: page\r\n      }\r\n    })\r\n\r\n    return data;\r\n  }\r\n\r\n  getProductByCatId = async (catId) => {\r\n    const { data } = await axios.get(`${this._baseUrl}product/byCategory/${catId}`)\r\n    return data;\r\n  }\r\n\r\n  getShopItemById = async (id) => {\r\n    const { data } = await axios.get(`${this._baseUrl}product/${id}`)\r\n    return data;\r\n  }\r\n\r\n  getShopCategories = async () => {\r\n    const items = await this.getResource(`category`);\r\n    return items;\r\n  }\r\n\r\n  getAdvantages = async () => {\r\n    const items = await this.getResource(`advantages`);\r\n    return items;\r\n  }\r\n\r\n}\r\n\r\nconst apiServices = new ApiServices();\r\n\r\nexport default apiServices;\r\n\r\n","import apiServices from '../../services/api-services';\r\n\r\nconst fetchCategories = () => (dispatch) => {\r\n    apiServices.getShopCategories().then(data => {\r\n        dispatch(setCategories(data));\r\n    })\r\n}\r\n\r\nconst setCategories = (items) => ({\r\n    type: 'SET_CATEGORIES',\r\n    payload: items\r\n});\r\n\r\nconst setActiveCategory = (index) => ({\r\n    type: 'SET_ACTIVE_CATEGORY',\r\n    payload: index\r\n});\r\n\r\nconst setSortBy = (name) => ({\r\n    type: 'SET_SORT_BY',\r\n    payload: name\r\n});\r\n\r\nconst setSortOrder = (name) => ({\r\n    type: 'SET_SORT_ORDER',\r\n    payload: name\r\n});\r\n\r\n\r\nexport {\r\n    setSortBy,\r\n    setCategories,\r\n    setActiveCategory,\r\n    fetchCategories,\r\n    setSortOrder\r\n};\r\n\r\n","import axios from \"axios\";\r\n\r\nconst _baseUrl = process.env.NODE_ENV === 'production' ? '/' : `${process.env.REACT_APP_API_URL}/`;\r\n\r\nconst $host = axios.create({\r\n    baseURL: _baseUrl\r\n})\r\n\r\nconst $authHost = axios.create({\r\n    baseURL: _baseUrl\r\n})\r\n\r\nconst authIterceptor = config => {\r\n    config.headers.authorization = `Bearer ${localStorage.getItem('token')}`\r\n    return config\r\n}\r\n\r\n$authHost.interceptors.request.use(authIterceptor)\r\n\r\nexport {\r\n    $host,\r\n    $authHost\r\n}","import { $authHost, $host } from './http';\r\n\r\n// products\r\nexport const getProductById = async (id) => {\r\n    const { data } = await $host.get('api/product/' + id)\r\n    return data\r\n}\r\n\r\n\r\nexport const createProduct = async (product) => {\r\n    const { data } = await $authHost.post('api/product', product)\r\n    return data\r\n}\r\n\r\nexport const updateProduct = async (product, id) => {\r\n    const { data } = await $authHost.patch('api/product/' + id, product)\r\n    return data\r\n}\r\n\r\nexport const deleteProduct = async (id) => {\r\n    const { data } = await $authHost.delete('api/product/' + id)\r\n    return data\r\n}\r\n\r\n// categories\r\n\r\nexport const createCategory = async (category) => {\r\n    const { data } = await $authHost.post('api/category', category)\r\n    return data\r\n}\r\n\r\nexport const deleteCategory = async (id) => {\r\n    const { data } = await $authHost.delete('api/category/' + id)\r\n    return data\r\n}\r\n\r\nexport const updateCategory = async (name, id) => {\r\n    const { data } = await $authHost.patch('api/category/' + id, name)\r\n    return data\r\n}\r\n\r\n// components\r\n\r\nexport const updateComponent = async (id, item) => {\r\n    const { data } = await $authHost.patch('api/component/' + id, item)\r\n    return data\r\n}\r\n\r\nexport const getComponentInfoByName = async (name) => {\r\n    const { data } = await $host.get('api/component/getByName/' + name)\r\n    return data;\r\n}\r\n\r\nexport const getProductByCatId = async (id) => {\r\n    const { data } = await $host.get('api/product/byCategory/' + id)\r\n    return data;\r\n}\r\n\r\n// advantages\r\n\r\nexport const createAdvantages = async (advantage) => {\r\n    const { data } = await $authHost.post('api/advantages', advantage)\r\n    return data\r\n}\r\n\r\nexport const deleteAdvantages = async (id) => {\r\n    const { data } = await $authHost.delete('api/advantages/' + id)\r\n    return data\r\n}\r\n\r\nexport const updateAdvantages = async (id, item) => {\r\n    const { data } = await $authHost.patch('api/advantages/' + id, item)\r\n    return data\r\n}\r\n\r\n// orders\r\n\r\nexport const deleteOrders = async (id) => {\r\n    const { data } = await $authHost.delete('api/order/' + id)\r\n    return data\r\n}","import apiServices from '../../services/api-services';\r\nimport { getProductById } from '../../services/productsAPI';\r\n\r\nconst setLoaded = (payload) => ({\r\n    type: 'SET_LOADED',\r\n    payload,\r\n})\r\n\r\nconst fetchGoods = (sortBy, category, sortOrder, page, limit) => (dispatch) => {\r\n    dispatch(setLoaded(false));\r\n    apiServices.getGoods(sortBy, category, sortOrder, page, limit).then(data => {\r\n        dispatch(setGoods(data.rows));\r\n        dispatch(setTotalCount(data.count));\r\n    })\r\n}\r\n\r\nconst fetchPopularGoods = (catId) => (dispatch) => {\r\n\r\n    const page = 1;\r\n    const limit = 4;\r\n    const sortOrder = 'desc';\r\n    const sortBy = 'rating'\r\n\r\n    dispatch(setLoaded(false));\r\n    apiServices.getGoods(sortBy, catId, sortOrder, page, limit).then(data => {\r\n        dispatch(setPopularGoods(data.rows));\r\n    })\r\n}\r\n\r\nconst fetchItemDetails = (id) => (dispatch) => {\r\n    dispatch(setLoaded(false));\r\n    getProductById(id).then(data => {\r\n        dispatch(setItemDetails(data));\r\n    })\r\n}\r\n\r\nconst setGoods = (items) => ({\r\n    type: 'SET_GOODS',\r\n    payload: items\r\n});\r\n\r\nconst setPopularGoods = (items) => ({\r\n    type: 'SET_POPULAR_GOODS',\r\n    payload: items\r\n});\r\n\r\nconst setItemDetails = (itemDetails) => ({\r\n    type: 'SET_ITEM_DETAILS',\r\n    payload: itemDetails\r\n});\r\n\r\nconst setPage = (pageNumber) => ({\r\n    type: 'SET_PAGE',\r\n    payload: pageNumber\r\n});\r\n\r\nconst setLimit = (limitGoods) => ({\r\n    type: 'SET_LIMIT',\r\n    payload: limitGoods\r\n});\r\n\r\nconst setTotalCount = (totalCount) => ({\r\n    type: 'SET_TOTAL_COUNT',\r\n    payload: totalCount\r\n});\r\n\r\nexport {\r\n    setGoods,\r\n    fetchGoods,\r\n    setLoaded,\r\n    fetchPopularGoods,\r\n    fetchItemDetails,\r\n    setPage,\r\n    setTotalCount,\r\n    setLimit\r\n};","import apiServices from '../../services/api-services';\r\n\r\nconst fetchAdvantages = () => (dispatch) => {\r\n    apiServices.getAdvantages().then(data => {\r\n        dispatch(setAdvantages(data));\r\n    })\r\n}\r\n\r\nconst setAdvantages = (items) => ({\r\n    type: 'SET_ADVANTAGES',\r\n    payload: items\r\n});\r\n\r\nexport {\r\n    setAdvantages,\r\n    fetchAdvantages,\r\n};","const addItemToCart = (obj) => ({\r\n    type: 'ADD_ITEM_TO_CART',\r\n    payload: obj\r\n});\r\n\r\nconst clearCart = () => ({\r\n    type: 'CLEAR_CART'\r\n});\r\n\r\nconst removeCartItem = (id) => ({\r\n    type: 'REMOVE_CART_ITEM',\r\n    payload: id\r\n});\r\n\r\nconst plusCartItem = (id) => ({\r\n    type: 'PLUS_CART_ITEM',\r\n    payload: id\r\n});\r\n\r\nconst minusCartItem = (id) => ({\r\n    type: 'MINUS_CART_ITEM',\r\n    payload: id\r\n});\r\n\r\nexport { addItemToCart, clearCart, removeCartItem, minusCartItem, plusCartItem };","const setIsAuth = (bool) => ({\r\n    type: 'SET_IS_AUTH',\r\n    payload: bool\r\n});\r\n\r\nconst setUser = (user) => ({\r\n    type: 'SET_USER',\r\n    payload: user\r\n});\r\n\r\nconst setRole = (role) => ({\r\n    type: 'SET_ROLE',\r\n    payload: role\r\n});\r\n\r\nconst setUserLogout = () => ({\r\n    type: 'SET_USER_LOGOUT'\r\n});\r\n\r\nexport { setIsAuth, setUser, setRole, setUserLogout };","import apiServices from '../../services/api-services';\r\n\r\nconst setOrdersLoaded = (payload) => ({\r\n    type: 'SET_ORDERS_LOADED',\r\n    payload,\r\n})\r\n\r\nconst setOrdersItemsLoaded = (payload) => ({\r\n    type: 'SET_ORDERS_ITEMS_LOADED',\r\n    payload,\r\n})\r\n\r\nconst fetchOrders = (page, limit, userId) => (dispatch) => {\r\n    dispatch(setOrdersLoaded(false));\r\n\r\n    apiServices.getOrders(page, limit, userId).then(data => {\r\n        dispatch(setOrders(data.rows));\r\n        dispatch(setOrdersTotalCount(data.count));\r\n    })\r\n}\r\nconst fetchOrdersItems = (orderId) => (dispatch) => {\r\n    dispatch(setOrdersItemsLoaded(false));\r\n\r\n    apiServices.getOrdersItems(orderId).then(data => {\r\n        dispatch(setOrdersItems(data.rows));\r\n    })\r\n}\r\n\r\nconst setOrders = (items) => ({\r\n    type: 'SET_ORDERS',\r\n    payload: items\r\n});\r\n\r\nconst setOrdersItems = (items) => ({\r\n    type: 'SET_ORDERS_ITEMS',\r\n    payload: items\r\n});\r\n\r\nconst setOrdersPage = (pageNumber) => ({\r\n    type: 'SET_ORDERS_PAGE',\r\n    payload: pageNumber\r\n});\r\n\r\nconst setOrdersLimit = (limitGoods) => ({\r\n    type: 'SET_LIMIT',\r\n    payload: limitGoods\r\n});\r\n\r\nconst setOrdersTotalCount = (totalCount) => ({\r\n    type: 'SET_TOTAL_COUNT',\r\n    payload: totalCount\r\n});\r\n\r\nexport {\r\n    setOrders,\r\n    fetchOrders,\r\n    setOrdersLoaded,\r\n    setOrdersPage,\r\n    setOrdersTotalCount,\r\n    setOrdersLimit,\r\n    fetchOrdersItems\r\n};","const _baseImgUrl = process.env.NODE_ENV === 'production' ? '/img/' : `${process.env.REACT_APP_API_URL}img/`;\r\n\r\nexport const Routes = {\r\n    LOGIN_ROUTE: '/login',\r\n    REGISTRATION_ROUTE: '/registration',\r\n    HOME_ROUTE: '/',\r\n    ABOUT_ROUTE: '/about-us',\r\n    CONTACTS_ROUTE: '/contacts',\r\n    PAYMENT_DELIVERY_ROUTE: '/payment-delivery',\r\n    CART_ROUTE: '/cart',\r\n    SHOP_ROUTE: '/shop',\r\n    SHOP_ITEM_ROUTE: '/shop/:id',\r\n    USERS_LIST: '/users-list',\r\n    ORDERS_LIST: '/orders-list',\r\n    USER_PROFILE: '/user-profile',\r\n    USER_RESET_PASSWORD: '/reset-password/:id/:token',\r\n}\r\n\r\nexport const UserRoles = {\r\n    ADMIN: 'ADMIN',\r\n    MODERATOR: 'MODERATOR',\r\n    USER: 'USER',\r\n}\r\n\r\nexport const ComponentName = {\r\n    HOME: 'home',\r\n    FOOTER: 'footer',\r\n    ABOUT_US: 'about_us',\r\n    PAYMENT: 'payment_delivery',\r\n    CONTACTS: 'contacts',\r\n}\r\n\r\nexport const UserDefault = {\r\n    IMAGE: 'default_avatar.jpg'\r\n}\r\n\r\nexport const ProductDefault = {\r\n    IMAGE: 'deleted.png'\r\n}\r\n\r\nexport const ImgUrlDefault = {\r\n    ADVANTAGES: `${_baseImgUrl}advantages/`,\r\n    COMPONENTS: `${_baseImgUrl}components/`,\r\n    PRODUCTS: `${_baseImgUrl}products/`,\r\n    USERS: `${_baseImgUrl}users/`,\r\n}\r\n\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Routes } from '../../utils/consts';\r\n\r\nimport './main-navigation.scss';\r\n\r\nconst MainNavigation = ({ onClickLink }) => {\r\n\r\n    const handleLinkClick = () => {\r\n        onClickLink && onClickLink();\r\n    }\r\n\r\n    return (\r\n        <ul className=\"main-navigation\">\r\n            <li>\r\n                <Link to={Routes.HOME_ROUTE} onClick={handleLinkClick}>  </Link>\r\n            </li>\r\n            <li>\r\n                <Link to={Routes.ABOUT_ROUTE} onClick={handleLinkClick}>   </Link>\r\n            </li>\r\n            <li>\r\n                <Link to={Routes.CONTACTS_ROUTE} onClick={handleLinkClick}>  </Link>\r\n            </li>\r\n            <li>\r\n                <Link to={Routes.SHOP_ROUTE} onClick={handleLinkClick}>  </Link>\r\n            </li>\r\n            <li>\r\n                <Link to={Routes.PAYMENT_DELIVERY_ROUTE} onClick={handleLinkClick}>    </Link>\r\n            </li>\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default MainNavigation\r\n","import MainNavigation from './main-navigation';\r\n\r\nexport default MainNavigation;","export default __webpack_public_path__ + \"static/media/logo.6733eb09.png\";","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Logo from '../../assets/images/logo.png';\r\nimport { Routes } from '../../utils/consts';\r\nimport './main-logo.scss';\r\n\r\nfunction MainLogo({ classNames }) {\r\n\r\n    const className = !classNames ? `logo-wrapper` : `${classNames} logo-wrapper`;\r\n\r\n    return (\r\n        <div className={className}>\r\n            <Link to={Routes.HOME_ROUTE}>\r\n                <div className=\"main__logo\">\r\n                    <img src={Logo} alt=\"logo\" />\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MainLogo\r\n","import MainLogo from './main-logo';\r\n\r\nexport default MainLogo;","import React from 'react';\r\n\r\nimport MainLogo from '../main-logo';\r\nimport MainNavigation from '../main-navigation';\r\n\r\nimport './mobile-menu.scss';\r\n\r\nfunction MobileMenu() {\r\n    const [showMenu, setShowMenu] = React.useState(false);\r\n\r\n    const toggleMenu = () => {\r\n        setShowMenu(prevState => !prevState);\r\n    }\r\n\r\n    return (\r\n        <div className=\"mobile-menu-wrapper\">\r\n            <div className=\"mobile-btn-menu\" onClick={toggleMenu}>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n            </div>\r\n\r\n            <div className={!showMenu ? \"mobile-menu\" : \"mobile-menu show-menu\"}>\r\n                <MainLogo />\r\n                <MainNavigation onClickLink={toggleMenu} />\r\n            </div>\r\n\r\n            <div\r\n                className={showMenu ? \"bg-mobile-menu\" : \"bg-mobile-menu d-none\"}\r\n                onClick={toggleMenu}>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MobileMenu;\r\n","import MobileMenu from './mobile-menu';\r\n\r\nexport default MobileMenu;","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setIsAuth, setUserLogout } from '../../../redux/actions';\r\nimport { DropdownButton, Dropdown } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './user-panel.scss';\r\nimport { Routes, UserDefault, UserRoles, ImgUrlDefault } from '../../../utils/consts';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction UserPanel() {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const { name, image, id, role, isAuth } = useSelector(({ user }) => user);\r\n\r\n    const logOut = () => {\r\n        dispatch(setUserLogout());\r\n        const pathname = history.location.pathname;\r\n\r\n        if (pathname === Routes.ORDERS_LIST ||\r\n            pathname === Routes.USER_PROFILE ||\r\n            pathname === Routes.USERS_LIST) {\r\n            history.push('/')\r\n        }\r\n\r\n        localStorage.removeItem('token');\r\n    }\r\n\r\n    const isAdmin = role === UserRoles.ADMIN && isAuth;\r\n\r\n    const imageUrl = !image ? UserDefault.IMAGE : image;\r\n\r\n    return (\r\n        <div className=\"user-panel\">\r\n            <div className=\"user-img\">\r\n                <img src={`${ImgUrlDefault.USERS}${imageUrl}`} alt=\"user-avatar\" />\r\n            </div>\r\n\r\n            <DropdownButton id=\"dropdown-basic-button\" title={name}>\r\n\r\n                <Dropdown.Item as={Link} eventKey={\"1\"} to={Routes.USER_PROFILE}>\r\n                    \r\n                </Dropdown.Item>\r\n\r\n                {isAdmin\r\n                    && <Dropdown.Item as={Link} eventKey={\"4\"} to={Routes.USERS_LIST}>\r\n                         \r\n                    </Dropdown.Item>}\r\n\r\n                <Dropdown.Item as={Link} eventKey={\"2\"} to={Routes.ORDERS_LIST}>\r\n                     \r\n                </Dropdown.Item>\r\n\r\n                <Dropdown.Item onClick={logOut} eventKey={\"3\"}>\r\n                    \r\n                </Dropdown.Item>\r\n\r\n            </DropdownButton>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserPanel\r\n","import UserPanel from './user-panel';\r\nexport default UserPanel;","export default __webpack_public_path__ + \"static/media/cart.d7ea8a0a.png\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Routes } from '../../utils/consts';\r\n\r\nimport './login-panel.css';\r\n\r\nfunction LoginPanel() {\r\n    return (\r\n        <ul className=\"login-panel\">\r\n            <li><Link to={Routes.LOGIN_ROUTE}>  </Link></li>\r\n            <li><Link to={Routes.REGISTRATION_ROUTE}>  </Link></li>\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default LoginPanel\r\n","import LoginPanel from './login-panel';\r\nexport default LoginPanel;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport MainNavigation from '../../main-navigation';\r\nimport MainLogo from '../../main-logo';\r\nimport MobileMenu from '../../mobile-menu';\r\nimport { UserRoles } from '../../../utils/consts';\r\nimport UserPanel from '../../user/user-panel'\r\n\r\nimport Cart from '../../../assets/images/cart.png';\r\n\r\nimport './header.scss';\r\nimport LoginPanel from '../../login-panel';\r\n\r\nconst Header = () => {\r\n    const { totalPrice, totalCount } = useSelector(({ cart }) => cart);\r\n    const { isAuth, role } = useSelector(({ user }) => user);\r\n\r\n    return (\r\n        <div className=\"header align-items-center\">\r\n\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-1 col-md-5 col-lg-1\">\r\n                        <MobileMenu />\r\n                        <MainLogo />\r\n                    </div>\r\n\r\n                    <div className=\"col-md-7 col-lg-6 align-items-center main-menu\">\r\n                        <MainNavigation />\r\n                    </div>\r\n\r\n                    <div className=\"col-11 col-md-7 col-lg-5 d-flex justify-content-end align-items-center\">\r\n\r\n                        {!isAuth ? <LoginPanel /> : <UserPanel />}\r\n\r\n                        <Link to=\"/cart\">\r\n                            <div className=\"button--cart d-flex mr-a\">\r\n                                <span>{totalPrice} </span>\r\n                                <div className=\"button--cart__delimiter\"></div>\r\n                                <img className=\"button--cart__img\" src={Cart} alt=\"cart-img\" />\r\n                                <span>{totalCount}</span>\r\n                            </div>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n\r\n","import Header from './header';\r\n\r\nexport default Header;","import { useSelector } from 'react-redux';\r\nimport { UserRoles } from '../utils/consts';\r\n\r\nfunction useIsAdmin() {\r\n    const { isAuth, role } = useSelector(({ user }) => user);\r\n    const isAdmin = isAuth && role === UserRoles.ADMIN;\r\n    return isAdmin;\r\n}\r\n\r\nexport default useIsAdmin\r\n","import React, { useState } from 'react';\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\n\r\nimport './TextEditor.css';\r\n\r\nfunction TextEditor({ content, onChangeInfo, fieldName }) {\r\n    const [text, setText] = useState(content);\r\n\r\n    const onSaveShanges = (event, editor) => {\r\n        const data = editor.getData()\r\n        setText(data);\r\n        onChangeInfo(fieldName, text);\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <div className=\"editor\">\r\n                <CKEditor\r\n                    editor={ClassicEditor}\r\n                    data={text}\r\n                    config={\r\n                        {\r\n                            fontFamily: {\r\n                                options: [\r\n                                    \"default\",\r\n                                    \"Ubuntu, Arial, sans-serif\",\r\n                                    \"Ubuntu Mono, Courier New, Courier, monospace\",\r\n                                ],\r\n                            },\r\n                            fontSize: {\r\n                                options: [9, 11, 13, \"default\", 17, 19, 21],\r\n                            },\r\n                            toolbar: ['heading', '|', 'bold', 'italic', 'numberedList', 'bulletedList', 'insertTable',\r\n                                'tableColumn', 'tableRow', 'mergeTableCells', '|', 'undo', 'redo', 'fontSize', 'fontFamily'],\r\n                            placeholder: 'Enter the product description'\r\n                        }\r\n                    }\r\n                    onChange={(event, editor) => {\r\n                        onSaveShanges(event, editor);\r\n                    }}\r\n                    onBlur={(event, editor) => {\r\n                        onSaveShanges(event, editor);\r\n                    }}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TextEditor;\r\n","import TextEditor from './TextEditor';\r\n\r\nexport default TextEditor;","import React from 'react';\r\n\r\nimport { PencilSquare } from 'react-bootstrap-icons';\r\nimport { Modal, Form, Button, Alert, Col } from 'react-bootstrap';\r\nimport TextEditor from '../text-editor';\r\nimport { updateComponent } from '../../../services/productsAPI';\r\n\r\nimport './admin-components.scss';\r\nimport { ImgUrlDefault } from '../../../utils/consts';\r\n\r\nfunction AdminComponentsEdit({ data, updateData }) {\r\n    const [modalVisible, setModalVisible] = React.useState(false);\r\n    const [error, setError] = React.useState(false);\r\n    const [nameCount, setNameCount] = React.useState(0);\r\n    const [inputsValue, setInputsValue] = React.useState({ ...data });\r\n\r\n    React.useEffect(() => {\r\n        setInputsValue({ ...data })\r\n    }, [data])\r\n\r\n    const onShow = () => {\r\n        setInputsValue({ ...data })\r\n        setNameCount(data.title.length)\r\n        setModalVisible(true)\r\n    }\r\n\r\n    const closeModal = () => {\r\n        setModalVisible(false)\r\n    }\r\n\r\n    const onHandleSubmit = () => {\r\n        if (typeof inputsValue.img === 'object') {\r\n            const img = inputsValue.img;\r\n\r\n            const fileType = img.type.split('/')[0];\r\n\r\n            if (fileType !== 'image') {\r\n                showErrorMsg('!   !');\r\n                return;\r\n            }\r\n        }\r\n\r\n        for (let key in inputsValue) {\r\n            if (inputsValue[key] === '') {\r\n                showErrorMsg('!    ');\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (!inputsValue.title.replace(/\\s/g, '').length) {\r\n            showErrorMsg('!   !');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('title', inputsValue.title);\r\n            formData.append('text', inputsValue.text);\r\n            typeof inputsValue.img !== 'string' && formData.append('img', inputsValue.img);\r\n            updateComponent(data.id, formData).then(data => {\r\n                updateData();\r\n                closeModal();\r\n            })\r\n        } catch (e) {\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n\r\n    const updateState = (field, newValue) => {\r\n        field === 'title' && setNameCount(newValue.length);\r\n\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            [field]: newValue\r\n        });\r\n    }\r\n\r\n    const selectFile = (e) => {\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            img: e.target.files[0]\r\n        });\r\n    }\r\n\r\n    const showErrorMsg = (text) => {\r\n        setError(text);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"editBtn\" onClick={onShow}>\r\n                <PencilSquare />\r\n            </div>\r\n\r\n            <div onClick={e => e.stopPropagation()}>\r\n\r\n                <Modal size=\"lg\" animation={true} show={modalVisible} onHide={closeModal}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title> </Modal.Title>\r\n                    </Modal.Header>\r\n\r\n                    {error && <Alert className=\"m-2\" variant={'danger'}>\r\n                        {error}\r\n                    </Alert>}\r\n\r\n                    <Modal.Body>\r\n                        <Form>\r\n                            <Form.Row>\r\n                                <Form.Group as={Col} controlId=\"formGridName\">\r\n                                    <Form.Label>\r\n                                        <b>: <span\r\n                                            className={nameCount > 60 ? 'text-danger' : ''}>\r\n                                            ({nameCount})</span>\r\n                                        </b>\r\n                                    </Form.Label>\r\n                                    <Form.Control\r\n                                        onChange={e => updateState('title', e.target.value)}\r\n                                        type=\"text\"\r\n                                        placeholder=\"Enter the product name\"\r\n                                        value={inputsValue && inputsValue.title}\r\n                                    />\r\n                                </Form.Group>\r\n\r\n                                <div className=\"shop-item-details__image mt-2 admin-image-edit\">\r\n                                    <img src={`${ImgUrlDefault.COMPONENTS}${data.img}`} alt=\"item pictures\" />\r\n                                </div>\r\n\r\n                                <Form.Group as={Col} controlId=\"formGridImage\" className=\"mt-4\">\r\n                                    <Form.Control\r\n                                        onChange={selectFile}\r\n                                        type=\"file\"\r\n                                        placeholder=\"Enter the image url\"\r\n                                    />\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n\r\n                            <Form.Group controlId=\"formGridDesc\" className=\"mt-4\">\r\n                                <Form.Label> <b> : </b> </Form.Label>\r\n\r\n                                <TextEditor onChangeInfo={updateState} fieldName={'text'} content={inputsValue.text} />\r\n                            </Form.Group>\r\n\r\n                            <hr />\r\n\r\n                            <Button variant=\"secondary\" onClick={closeModal}>\r\n                                \r\n                            </Button>\r\n\r\n                            <Button className=\"m-2\" variant=\"primary\" type=\"button\" onClick={onHandleSubmit}>\r\n                                \r\n                            </Button>\r\n                        </Form>\r\n                    </Modal.Body>\r\n                </Modal>\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AdminComponentsEdit\r\n","import React from 'react';\r\nimport parse from 'html-react-parser';\r\nimport { AdminComponentsEdit } from '../../../admin/admin-components';\r\nimport { ImgUrlDefault } from '../../../../utils/consts';\r\n\r\nfunction FooterItem({ item, updateFooterInfo, isAdmin }) {\r\n    return (\r\n        <div key={item.id} className=\"col-12 col-md-3 d-flex align-items-center footer-block\">\r\n            <div className=\"footer__icon\">\r\n                {item.img && <img src={`${ImgUrlDefault.COMPONENTS}${item.img}`} className=\"img-fluid\" alt=\"main logo\" />}\r\n            </div>\r\n\r\n            <div className=\"footer__text\">\r\n                {parse(`${item.text}`)}\r\n            </div>\r\n            {isAdmin ? <div className=\"footer-editBtn\">\r\n                <AdminComponentsEdit data={item} updateData={updateFooterInfo} />\r\n            </div> : ''}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FooterItem\r\n","import FooterItem from './footer-item';\r\nexport default FooterItem;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { getComponentInfoByName } from '../../../services/productsAPI';\r\nimport { ComponentName } from '../../../utils/consts';\r\nimport useIsAdmin from '../../../hooks/useIsAdmin';\r\nimport FooterItem from './footer-item';\r\n\r\nimport MainLogo from '../../main-logo';\r\n\r\nimport './footer.scss';\r\n\r\nfunction Footer() {\r\n    const isAdmin = useIsAdmin();\r\n\r\n    const [footerInfo, setFooterInfo] = React.useState({});\r\n\r\n    React.useEffect(() => {\r\n        updateFooterInfo();\r\n    }, [])\r\n\r\n    const updateFooterInfo = () => {\r\n        getComponentInfoByName(ComponentName.FOOTER).then(data => {\r\n            setFooterInfo(data)\r\n        })\r\n    }\r\n\r\n    const content = footerInfo.length > 0 && footerInfo.map(item => {\r\n        return <FooterItem\r\n            key={item.id}\r\n            item={item}\r\n            updateFooterInfo={updateFooterInfo}\r\n            isAdmin={isAdmin}\r\n        />\r\n    })\r\n\r\n    return (\r\n        <footer>\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 d-flex col-md-2 align-items-center text-center footer-block\">\r\n                        <MainLogo />\r\n                    </div>\r\n\r\n                    {content}\r\n\r\n                </div>\r\n                <hr />\r\n                <div className=\"text-center footer-text-author\">\r\n                    developed by <a href=\"https://www.facebook.com/anton.adart\" target=\"_blank\" rel=\"noreferrer\">Anton Vasylchenko</a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import Footer from './footer';\r\n\r\nexport default Footer;","import React from 'react';\r\nimport './spinner.scss';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"loadingio-spinner-double-ring mt-2 mb-2\">\r\n      <div className=\"ldio\">\r\n        <div></div>\r\n        <div></div>\r\n        <div>\r\n          <div></div>\r\n        </div>\r\n        <div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;","import Spinner from './spinner';\r\n\r\nexport default Spinner;","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport './back-arrow.scss';\r\n\r\nfunction BackArrow() {\r\n\r\n    let history = useHistory();\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"back-arrow\" onClick={() => history.goBack()}>\r\n                <svg viewBox=\"0 0 24 24\"><g>\r\n                    <path className=\"arrow-icon\" d=\"M20 11H7.414l4.293-4.293c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L7.414 13H20c.553 0 1-.447 1-1s-.447-1-1-1z\"></path>\r\n                </g></svg>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BackArrow;\r\n","import BackArrow from './back-arrow';\r\n\r\nexport default BackArrow;","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport Spinner from '../spinner';\r\nimport BackArrow from '../back-arrow';\r\n\r\nimport './container.scss';\r\n\r\nfunction Container({ title, children, backArrow, isLoaded = true }) {\r\n\r\n    const mainTitle = title ? <h4>{title}</h4> : null;\r\n    const backArrowBtn = backArrow ? <BackArrow /> : '';\r\n    const loading = isLoaded ? children : <Spinner />\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"main-wrapper\">\r\n                <div className=\"container-title\">\r\n                    {backArrowBtn}\r\n                    {mainTitle}\r\n                </div>\r\n                <div className=\"content\">\r\n                    {loading}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nContainer.propTypes = {\r\n    title: PropTypes.string,\r\n    children: PropTypes.node,\r\n    backArrow: PropTypes.bool,\r\n    isLoaded: PropTypes.bool\r\n};\r\n\r\nexport default Container\r\n","import Container from './container';\r\nexport default Container;","import React from 'react';\r\nimport { Modal, Button, Col, Form, Dropdown, Alert, } from 'react-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport TextEditor from '../text-editor';\r\nimport { setActiveCategory } from '../../../redux/actions';\r\n\r\nfunction AdminProductsForm({ show, handleNo, handleSubmit }) {\r\n    const dispatch = useDispatch();\r\n\r\n    const { activeCategory, categories } = useSelector(({ filters }) => filters);\r\n\r\n    const [error, setError] = React.useState(false);\r\n    const [nameCount, setNameCount] = React.useState(0);\r\n    const [selectedImage, setSelectedImage] = React.useState('');\r\n\r\n    const [inputsValue, setInputsValue] = React.useState({\r\n        name: '',\r\n        img: '',\r\n        price: '',\r\n        description: ''\r\n    });\r\n\r\n    const updateState = (field, newValue) => {\r\n        field === 'name' && setNameCount(newValue.length);\r\n\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            [field]: newValue\r\n        });\r\n    }\r\n\r\n    const onHandleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (activeCategory === null) {\r\n            showErrorMsg('!  !');\r\n            return;\r\n        }\r\n\r\n        if (!inputsValue.price.trim().length === 0) {\r\n            showErrorMsg('!      !');\r\n            return;\r\n        }\r\n\r\n        if (inputsValue.price.trim().length === 0) {\r\n            showErrorMsg('!   ');\r\n            return;\r\n        }\r\n\r\n        if (inputsValue.description.trim().length === 0) {\r\n            showErrorMsg('!   ');\r\n            return;\r\n        }\r\n\r\n        if (typeof inputsValue.img !== 'object') {\r\n            showErrorMsg('!    ');\r\n            return;\r\n        }\r\n\r\n        const img = inputsValue.img;\r\n        const fileType = img.type.split('/')[0];\r\n\r\n        if (fileType !== 'image') {\r\n            showErrorMsg('!   !');\r\n            return;\r\n        }\r\n\r\n        if (nameCount > 40) {\r\n            showErrorMsg(`! '    40 `);\r\n            return;\r\n        }\r\n\r\n        if (inputsValue.price > 2147483647) {\r\n            showErrorMsg(`!   `);\r\n            return;\r\n        }\r\n\r\n        const product = {\r\n            ...inputsValue\r\n        }\r\n\r\n        clearForm();\r\n\r\n        handleNo();\r\n        handleSubmit(product);\r\n    }\r\n\r\n    const onCancelHandle = () => {\r\n        handleNo();\r\n        setError(false);\r\n    }\r\n\r\n    const clearForm = () => {\r\n        setInputsValue({\r\n            name: '',\r\n            img: '',\r\n            price: '',\r\n            description: ''\r\n        });\r\n\r\n        setSelectedImage('');\r\n\r\n        setNameCount(0);\r\n        setError(false);\r\n    }\r\n\r\n    const selectFile = (e) => {\r\n        setSelectedImage(e.target.files[0]);\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            img: e.target.files[0]\r\n        });\r\n\r\n    }\r\n\r\n    const showErrorMsg = (text) => {\r\n        setError(text);\r\n    }\r\n\r\n    const changeCategory = (value) => {\r\n        dispatch(setActiveCategory(value));\r\n    }\r\n\r\n    const categoriesDropdown = categories && categories.map((cat, index) => {\r\n        const activeCat = activeCategory === index ? true : false;\r\n\r\n        return (\r\n            <Dropdown.Item\r\n                onClick={() => changeCategory(index)}\r\n                key={cat.id}\r\n                active={activeCat}\r\n            >\r\n                {cat.name}\r\n            </Dropdown.Item>\r\n        )\r\n    })\r\n\r\n    const imgUrl = selectedImage.length !== 0 && URL.createObjectURL(selectedImage);\r\n\r\n    return (\r\n        <>\r\n            <Modal size=\"lg\" animation={true} show={show} onHide={onCancelHandle}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>  </Modal.Title>\r\n                </Modal.Header>\r\n\r\n                {error && <Alert className=\"m-2\" variant={'danger'}>\r\n                    {error}\r\n                </Alert>}\r\n\r\n                <Modal.Body>\r\n                    <Form>\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} controlId=\"formGridName\">\r\n                                <Form.Label>\r\n                                    <b>Name: <span\r\n                                        className={nameCount > 40 ? 'text-danger' : ''}>\r\n                                        ({nameCount})</span>\r\n                                    </b>\r\n                                </Form.Label>\r\n                                <Form.Control\r\n                                    onChange={e => updateState('name', e.target.value)}\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter the product name\"\r\n                                    value={inputsValue.name}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Dropdown className=\"mt-4\">\r\n                                <Dropdown.Toggle>\r\n                                    {activeCategory === null ? ' ' : categories[activeCategory].name}\r\n                                </Dropdown.Toggle>\r\n\r\n                                <Dropdown.Menu>\r\n                                    {categoriesDropdown}\r\n                                </Dropdown.Menu>\r\n                            </Dropdown>\r\n\r\n                            <Form.Group as={Col} controlId=\"formGridImage\" className=\"mt-4\">\r\n\r\n                                {selectedImage.length !== 0 && <div className=\"shop-item-details__image mt-2\">\r\n                                    <img src={imgUrl} alt=\"item pictures\" />\r\n                                </div>}\r\n\r\n                                <Form.Control\r\n                                    onChange={selectFile}\r\n                                    type=\"file\"\r\n                                    placeholder=\"Enter the image url\"\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n\r\n                        <Form.Group controlId=\"formGridDesc\" className=\"mt-4\">\r\n                            <Form.Label> <b> : </b> </Form.Label>\r\n\r\n                            <TextEditor onChangeInfo={updateState} content={inputsValue.description} fieldName=\"description\" />\r\n                        </Form.Group>\r\n\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} className=\"mt-4\" controlId=\"formGridCount\">\r\n                                <Form.Label> <b>  </b></Form.Label>\r\n                                <Form.Control\r\n                                    onChange={e => updateState('price', e.target.value)}\r\n                                    value={inputsValue.price}\r\n                                    placeholder=\"\"\r\n                                    type=\"number\"\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n\r\n                        <hr />\r\n\r\n                        <Button variant=\"secondary\" onClick={onCancelHandle}>\r\n                            \r\n                        </Button>\r\n\r\n                        <Button className=\"m-2\" variant=\"primary\" type=\"button\" onClick={onHandleSubmit}>\r\n                            \r\n                        </Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AdminProductsForm;","import React from 'react'\r\nimport AdminProductsForm from './admin-products-form';\r\nimport { Button } from 'react-bootstrap';\r\nimport { createProduct } from '../../../services/productsAPI';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchGoods } from '../../../redux/actions';\r\n\r\nimport './admin-products.scss'\r\n\r\nfunction AdminProductsAdd() {\r\n    const dispatch = useDispatch();\r\n    const { activeCategory, sortBy, sortOrder } = useSelector(({ filters }) => filters);\r\n    const { limit, page } = useSelector(({ goods }) => goods);\r\n\r\n    const [modalVisible, setModalVisible] = React.useState(false);\r\n\r\n    const onShow = () => {\r\n        setModalVisible(true)\r\n    }\r\n\r\n    const closeModal = () => {\r\n        setModalVisible(false)\r\n    }\r\n\r\n    const handleSubmit = (product) => {\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('name', product.name);\r\n            formData.append('price', product.price);\r\n            formData.append('description', product.description);\r\n            formData.append('categoryId', activeCategory);\r\n            formData.append('img', product.img);\r\n\r\n            createProduct(formData).then(data => {\r\n                dispatch(fetchGoods(sortBy, activeCategory, sortOrder, page, limit));\r\n                // setModalVisible(false);\r\n            })\r\n        } catch (e) {\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"addBtnProduct text-center mb-4\">\r\n            <Button onClick={onShow}>   </Button>\r\n            <AdminProductsForm\r\n                show={modalVisible}\r\n                handleNo={closeModal}\r\n                handleSubmit={handleSubmit}\r\n                action={'create'}\r\n                currentCategory={activeCategory}\r\n            />\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default AdminProductsAdd\r\n","import React from 'react';\r\n\r\nimport { Button, Modal } from 'react-bootstrap';\r\n\r\nfunction ModalBox({ handleNo, handleYes, show, body, title }) {\r\n\r\n    const onClose = handleNo ? handleNo : handleYes;\r\n\r\n    return (\r\n        <Modal animation={true} show={show} onHide={onClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>{title}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>{body}</Modal.Body>\r\n            <Modal.Footer>\r\n                {handleNo &&\r\n                    <Button variant=\"secondary\" onClick={handleNo}>\r\n                        \r\n                    </Button>}\r\n\r\n                <Button variant=\"primary\" onClick={handleYes}>\r\n                    \r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default ModalBox;","import ModalBox from './modal-box';\r\nexport default ModalBox;","import React from 'react';\r\nimport ModalBox from '../../UI/modal-box';\r\nimport { deleteProduct } from '../../../services/productsAPI';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchGoods } from '../../../redux/actions';\r\n\r\nfunction AdminProductDelete({ id, name }) {\r\n    const dispatch = useDispatch();\r\n    const { activeCategory, sortBy, sortOrder } = useSelector(({ filters }) => filters);\r\n\r\n    const [show, setShow] = React.useState(false);\r\n\r\n    const handleNo = () => setShow(false);\r\n\r\n    const handleYes = () => {\r\n        toggleShow();\r\n\r\n        deleteProduct(id).then(data => {\r\n            dispatch(fetchGoods(sortBy, activeCategory, sortOrder));\r\n        })\r\n    };\r\n\r\n    const toggleShow = () => {\r\n        setShow(!show);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ModalBox\r\n                show={show}\r\n                handleNo={handleNo}\r\n                handleYes={handleYes}\r\n                title={`: \"${name}\"`}\r\n                body={`     \"${name}\"?`}\r\n            />\r\n\r\n            <div className=\"product-del\" onClick={toggleShow}>x</div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AdminProductDelete\r\n","import React from 'react';\r\nimport { PencilSquare } from 'react-bootstrap-icons';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Modal, Button, Col, Form, Dropdown, Alert, } from 'react-bootstrap';\r\nimport TextEditor from '../text-editor';\r\nimport { fetchItemDetails, fetchPopularGoods, fetchCategories } from '../../../redux/actions';\r\nimport { updateProduct } from '../../../services/productsAPI';\r\n\r\nimport './admin-products.scss';\r\nimport { ImgUrlDefault } from '../../../utils/consts';\r\n\r\nfunction AdminProductsEdit({ itemDetails }) {\r\n    const dispatch = useDispatch();\r\n\r\n    const [modalVisible, setModalVisible] = React.useState(false);\r\n    const [error, setError] = React.useState(false);\r\n    const [nameCount, setNameCount] = React.useState(0);\r\n    const [itemCatId, setItemCatId] = React.useState(itemDetails.categoryId);\r\n    const [selectedImage, setSelectedImage] = React.useState('')\r\n\r\n    const [inputsValue, setInputsValue] = React.useState({\r\n        ...itemDetails\r\n    });\r\n\r\n    const { categories } = useSelector(({ filters }) => filters);\r\n\r\n    const onShow = () => {\r\n        setModalVisible(true);\r\n        setItemCatId(itemDetails.categoryId)\r\n\r\n        setInputsValue({\r\n            ...itemDetails\r\n        });\r\n\r\n        setSelectedImage('');\r\n    }\r\n\r\n    const closeModal = () => {\r\n        setModalVisible(false)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        dispatch(fetchCategories());\r\n    }, [])\r\n\r\n    const handleSubmit = (product) => {\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('name', product.name);\r\n            formData.append('price', product.price);\r\n            formData.append('description', product.description);\r\n            typeof product.img !== 'string' && formData.append('img', product.img);\r\n            formData.append('categoryId', product.categoryId);\r\n            updateProduct(formData, itemDetails.id).then(data => {\r\n                dispatch(fetchItemDetails(itemDetails.id));\r\n                dispatch(fetchPopularGoods(itemDetails.categoryId))\r\n            })\r\n        } catch (e) {\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n\r\n    const updateState = (field, newValue) => {\r\n        field === 'name' && setNameCount(newValue.length);\r\n\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            [field]: newValue\r\n        });\r\n    }\r\n\r\n    const onHandleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (typeof inputsValue.img === 'object') {\r\n            const img = inputsValue.img;\r\n\r\n            const fileType = img.type.split('/')[0];\r\n\r\n            if (fileType !== 'image') {\r\n                showErrorMsg('!   !');\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (!inputsValue.name.replace(/\\s/g, '').length) {\r\n            showErrorMsg('!      !');\r\n            return;\r\n        }\r\n\r\n        if (itemDetails.categoryId === null || !categories[inputsValue.categoryId]) {\r\n            showErrorMsg('!  !');\r\n            return;\r\n        }\r\n\r\n        for (let key in inputsValue) {\r\n            if (inputsValue[key] === '') {\r\n                showErrorMsg('!    ');\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (nameCount > 40) {\r\n            showErrorMsg(`! '    40 `);\r\n            return;\r\n        }\r\n\r\n        if (+inputsValue.price > Number.MAX_SAFE_INTEGER) {\r\n            console.log('dfsdfdsfdsfdsfdsfdsf')\r\n            showErrorMsg(`!   `);\r\n            return;\r\n        }\r\n\r\n        const product = {\r\n            ...inputsValue\r\n        }\r\n\r\n        closeModal();\r\n        handleSubmit(product);\r\n    }\r\n\r\n    const onCancelHandle = () => {\r\n        closeModal();\r\n        clearForm();\r\n    }\r\n\r\n    const clearForm = () => {\r\n        setInputsValue({\r\n            ...itemDetails\r\n        });\r\n\r\n        setNameCount(itemDetails.name.length);\r\n        setItemCatId(itemDetails.categoryId);\r\n        setError(false);\r\n    }\r\n\r\n    const selectFile = (e) => {\r\n        setSelectedImage(e.target.files[0]);\r\n\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            img: e.target.files[0]\r\n        });\r\n    }\r\n\r\n    const showErrorMsg = (text) => {\r\n        setError(text);\r\n    }\r\n\r\n    const changeCategory = (value) => {\r\n        setItemCatId(value);\r\n        setInputsValue({ ...inputsValue, categoryId: value })\r\n    }\r\n\r\n    const categoriesDropdown = categories && categories.map((cat, index) => {\r\n        const activeCat = itemCatId === index ? true : false;\r\n\r\n        return (\r\n            <Dropdown.Item\r\n                onClick={() => changeCategory(index)}\r\n                key={cat.id}\r\n                active={activeCat}\r\n            >\r\n                {cat.name}\r\n            </Dropdown.Item>\r\n        )\r\n    })\r\n\r\n    const imgUrl = selectedImage.length === 0 ?\r\n        `${ImgUrlDefault.PRODUCTS}${inputsValue.img}` : URL.createObjectURL(selectedImage);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"editBtn\" onClick={onShow}>\r\n                <PencilSquare />\r\n            </div>\r\n\r\n            <Modal size=\"lg\" animation={true} show={modalVisible} onHide={onCancelHandle}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title> </Modal.Title>\r\n                </Modal.Header>\r\n\r\n                {error && <Alert className=\"m-2\" variant={'danger'}>\r\n                    {error}\r\n                </Alert>}\r\n\r\n                <Modal.Body>\r\n                    <Form>\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} controlId=\"formGridName\">\r\n                                <Form.Label>\r\n                                    <b><span\r\n                                        className={nameCount > 40 ? 'text-danger' : ''}>\r\n\r\n                                        {!nameCount ? ':' : (`(${nameCount}):`)}\r\n                                    </span>\r\n                                    </b>\r\n                                </Form.Label>\r\n                                <Form.Control\r\n                                    onChange={e => updateState('name', e.target.value)}\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter the product name\"\r\n                                    value={inputsValue && inputsValue.name}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <div className=\"shop-item-details__image mt-2\">\r\n                                <img src={imgUrl} alt=\"item pictures\" />\r\n                            </div>\r\n\r\n                            <Form.Group as={Col} controlId=\"formGridImage\" className=\"mt-4\">\r\n                                <Form.Control\r\n                                    onChange={selectFile}\r\n                                    type=\"file\"\r\n                                    placeholder=\"Enter the image url\"\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Dropdown className=\"mt-4\">\r\n                                <Dropdown.Toggle>\r\n                                    {!categories || !categories[itemCatId] ? ' ' : categories[itemCatId].name}\r\n                                </Dropdown.Toggle>\r\n\r\n                                <Dropdown.Menu>\r\n                                    {categoriesDropdown}\r\n                                </Dropdown.Menu>\r\n                            </Dropdown>\r\n\r\n                        </Form.Row>\r\n\r\n                        <Form.Group controlId=\"formGridDesc\" className=\"mt-4\">\r\n                            <Form.Label> <b> : </b> </Form.Label>\r\n\r\n                            <TextEditor onChangeInfo={updateState} fieldName={'description'} content={inputsValue.description} />\r\n                        </Form.Group>\r\n\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} className=\"mt-4\" controlId=\"formGridCount\">\r\n                                <Form.Label> <b>  </b></Form.Label>\r\n                                <Form.Control\r\n                                    onChange={e => updateState('price', e.target.value)}\r\n                                    value={inputsValue.price}\r\n                                    placeholder=\"\"\r\n                                    type=\"number\"\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n\r\n                        <hr />\r\n\r\n                        <Button variant=\"secondary\" onClick={onCancelHandle}>\r\n                            \r\n                        </Button>\r\n\r\n                        <Button className=\"m-2\" variant=\"primary\" type=\"button\" onClick={onHandleSubmit}>\r\n                            \r\n                        </Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AdminProductsEdit\r\n\r\n","import { useSelector } from 'react-redux';\r\nimport { UserRoles } from '../utils/consts';\r\n\r\nfunction useIsModerator() {\r\n    const { isAuth, role } = useSelector(({ user }) => user);\r\n    const isModerator = isAuth && role === UserRoles.MODERATOR;\r\n    return isModerator;\r\n}\r\n\r\nexport default useIsModerator\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { AdminProductDelete } from '../../admin/admin-products';\r\nimport useIsAdmin from '../../../hooks/useIsAdmin';\r\nimport useIsModerator from '../../../hooks/useIsModerator';\r\nimport { ImgUrlDefault } from '../../../utils/consts';\r\n\r\nimport './list-item.scss';\r\n\r\nfunction ListItem({ id, name, img, price, onClickBuyBtn, countOfAdded }) {\r\n    const isAdmin = useIsAdmin();\r\n    const isModerator = useIsModerator();\r\n\r\n    const onAddItem = () => {\r\n        const obj = {\r\n            id,\r\n            name,\r\n            img,\r\n            price\r\n        };\r\n\r\n        onClickBuyBtn(obj);\r\n    }\r\n\r\n    return (\r\n        <div className=\"list-item\">\r\n            {isAdmin || isModerator ? <AdminProductDelete name={name} id={id} /> : ''}\r\n            <div className=\"shop-item__img\">\r\n                <img src={`${ImgUrlDefault.PRODUCTS}${img}`} alt=\"poster\" />\r\n            </div>\r\n            <div className=\"list-item__title\">\r\n                <Link to={`/shop/${id}`}>{name}</Link>\r\n            </div>\r\n\r\n            <div className=\"list-item__bottom\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 col-lg-6 list-item__price\">\r\n                        {price} \r\n                    </div>\r\n                    <div className=\"col-12 col-lg-6 text-center\">\r\n                        <button onClick={onAddItem} className=\"btn-add-to-cart\">\r\n                            + {countOfAdded && <span>{countOfAdded}</span>}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default ListItem\r\n","import ListItem from './list-item';\r\n\r\nexport default ListItem;","import React from 'react';\r\nimport Container from '../UI/container';\r\nimport Spinner from '../UI/spinner';\r\nimport ListItem from '../shop-items-list/list-item';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchPopularGoods, addItemToCart } from '../../redux/actions';\r\n\r\nimport './popular-products.scss';\r\n\r\nconst PopularProducts = ({ title, catId }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const cartItems = useSelector(({ cart }) => cart.items);\r\n    const { isLoaded, popularItems } = useSelector(({ goods }) => goods);\r\n\r\n    React.useEffect(() => {\r\n        dispatch(fetchPopularGoods(catId));\r\n    }, [dispatch, catId]);\r\n\r\n    const handleAddItemToCart = (obj) => {\r\n        dispatch(addItemToCart(obj));\r\n    }\r\n\r\n    const items = popularItems && popularItems.map(({ id, ...item }) => {\r\n        const countOfAdded = cartItems[id] && cartItems[id].length;\r\n        return <ListItem\r\n            key={id}\r\n            onClickBuyBtn={handleAddItemToCart}\r\n            countOfAdded={countOfAdded}\r\n            id={id}\r\n            {...item}\r\n        />\r\n    })\r\n\r\n    if (!items || !items.length) {\r\n        return <Container title={title} isLoaded={isLoaded}>\r\n            <p className=\"empty-list-popular text-center\"> </p>\r\n        </Container>\r\n    }\r\n\r\n    return (\r\n        <Container title={title} isLoaded={isLoaded}>\r\n            <div className=\"popular-items-list\">\r\n                {!isLoaded ? <Spinner /> : items}\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default PopularProducts;\r\n","import PopularProducts from './popular-products';\r\n\r\nexport default PopularProducts;","import React from 'react';\r\nimport Container from '../UI/container';\r\n\r\nfunction Error404() {\r\n    return (\r\n        <div>\r\n            <Container>\r\n                <h3 className=\"text-center\"> !    :( </h3>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error404\r\n","import Error404 from './error-404';\r\n\r\nexport default Error404;","import React, { useEffect } from 'react';\r\nimport Container from '../UI/container';\r\nimport Spinner from '../UI/spinner';\r\nimport PopularProducts from '../popular-products';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchItemDetails, addItemToCart } from '../../redux/actions';\r\nimport { AdminProductsEdit } from '../admin/admin-products';\r\nimport useIsAdmin from '../../hooks/useIsAdmin';\r\nimport useIsModerator from '../../hooks/useIsModerator';\r\nimport parse from 'html-react-parser';\r\nimport Error404 from '../error-404';\r\nimport { ImgUrlDefault } from '../../utils/consts';\r\nimport Rating from '../rating';\r\n\r\nimport './shop-item-details.scss';\r\n\r\nfunction ShopItemDetails({ itemId }) {\r\n    const dispatch = useDispatch();\r\n    const { itemDetails, isLoaded } = useSelector(({ goods }) => goods);\r\n\r\n    const cartItems = useSelector(({ cart }) => cart.items);\r\n    const countOfAdded = cartItems[itemId] && cartItems[itemId].length;\r\n\r\n    const isAdmin = useIsAdmin();\r\n    const isModerator = useIsModerator();\r\n\r\n    const handleAddItemToCart = () => {\r\n        dispatch(addItemToCart(itemDetails));\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchItemDetails(itemId));\r\n    }, [itemId])\r\n\r\n    if (!itemDetails || Object.keys(itemDetails).length === 0) {\r\n        return <Error404 />;\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Container title={itemDetails.name} backArrow>\r\n                {isAdmin || isModerator && itemDetails\r\n                    ? <AdminProductsEdit itemDetails={itemDetails} /> : ''}\r\n\r\n                {!isLoaded ? <Spinner /> :\r\n                    <div className=\"shop-item-details\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-6\">\r\n                                <div className=\"shop-item-details__image\">\r\n                                    <img src={`${ImgUrlDefault.PRODUCTS}${itemDetails.img}`} alt=\"item pictures\" />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                <div className=\"shop-item-details__block shop-item-details__info\">\r\n                                    <p className=\"desc-title\">:</p>\r\n                                    <span>\r\n                                        {parse(`${itemDetails.description}`)}\r\n                                    </span>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"shop-item-details__bottom\">\r\n                            <div className=\"shop-item-details__price\">\r\n                                : {itemDetails.price} \r\n                            </div>\r\n                            <button onClick={handleAddItemToCart} className=\"btn-add-to-cart\">\r\n                                + {countOfAdded && <span>{countOfAdded}</span>}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </Container>\r\n\r\n            <PopularProducts title={\"   \"} catId={itemDetails.categoryId} />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\n\r\nexport default ShopItemDetails\r\n","import ShopItemDetails from './shop-item-details';\r\n\r\nexport default ShopItemDetails;","import React from 'react'\r\nimport { PlusCircleFill } from 'react-bootstrap-icons';\r\nimport { createCategory } from '../../../services/productsAPI';\r\nimport { fetchCategories } from '../../../redux/actions';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Modal, Button, Form } from 'react-bootstrap';\r\n\r\nimport './admin-categories.scss'\r\n\r\nfunction CreateCategories() {\r\n    const dispatch = useDispatch();\r\n    const [modalVisible, setModalVisible] = React.useState(false);\r\n    const [categoryValue, setCategoryValue] = React.useState('');\r\n\r\n    const onShow = () => {\r\n        setModalVisible(true)\r\n    }\r\n\r\n    const closeModal = () => {\r\n        setModalVisible(false)\r\n    }\r\n\r\n    const saveNewCategory = () => {\r\n        createCategory({ name: categoryValue })\r\n            .then(data => {\r\n                setModalVisible(false);\r\n                dispatch(fetchCategories());\r\n                setCategoryValue('');\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"addBtnCategories\" onClick={onShow}>\r\n            <PlusCircleFill />\r\n\r\n            <div onClick={e => e.stopPropagation()}>\r\n                <Modal\r\n                    show={modalVisible}\r\n                    onHide={closeModal}\r\n                    size=\"lg\"\r\n                    centered\r\n                >\r\n                    <Modal.Header>\r\n                        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                             \r\n                        </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <Form>\r\n                            <Form.Control\r\n                                value={categoryValue}\r\n                                placeholder={\"  \"}\r\n                                onChange={e => setCategoryValue(e.target.value)}\r\n                            />\r\n                        </Form>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"outline-danger\" onClick={closeModal}></Button>\r\n                        <Button variant=\"outline-success\" onClick={saveNewCategory}></Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default CreateCategories\r\n","import React from 'react';\r\nimport { PencilSquare } from 'react-bootstrap-icons';\r\nimport { TrashFill } from 'react-bootstrap-icons';\r\nimport { CheckLg } from 'react-bootstrap-icons';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport ModalBox from '../../UI/modal-box';\r\n\r\nimport './admin-categories.scss';\r\n\r\nfunction EditCategoriesListItem({ name, id, index, handleDelete, handleUpdate }) {\r\n\r\n    const [stateDeleteModal, setShowDeleteModal] = React.useState(false);\r\n    const [stateEditInput, setEditInput] = React.useState(false);\r\n    const [categoryValue, setCategoryValue] = React.useState(name);\r\n\r\n    const onDelete = () => {\r\n        handleDelete(id, index)\r\n        setShowDeleteModal(false)\r\n    }\r\n\r\n    const onShowEdit = () => {\r\n        setEditInput(!stateEditInput);\r\n        setCategoryValue(name);\r\n    }\r\n\r\n    const onCancelDelete = () => {\r\n        setShowDeleteModal(false);\r\n    }\r\n\r\n    const onShowDelete = () => {\r\n        setShowDeleteModal(true);\r\n    }\r\n\r\n    const onUpdate = () => {\r\n        if (!categoryValue || !categoryValue.replace(/\\s/g, '').length) {\r\n            return\r\n        }\r\n\r\n        handleUpdate(id, categoryValue);\r\n        setEditInput(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ModalBox\r\n                show={stateDeleteModal}\r\n                handleNo={onCancelDelete}\r\n                handleYes={onDelete}\r\n                title={''}\r\n                body={`     \"${name}\"?`}\r\n            />\r\n\r\n            <li className=\"list-group-item text-center\" key={`${id}`}>\r\n\r\n                {stateEditInput ? <Form className=\"d-flex justify-content-center\">\r\n                    <Form.Control\r\n                        value={categoryValue}\r\n                        placeholder={\"  \"}\r\n                        onChange={e => setCategoryValue(e.target.value)}\r\n                        className=\"edit-input\"\r\n                    />\r\n                    <Button onClick={onUpdate} className=\"ml-4\"><CheckLg /></Button>\r\n                </Form> : <b>{name}</b>}\r\n\r\n                <div className=\"d-inline text-right d-block\">\r\n                    <Button\r\n                        onClick={onShowDelete}\r\n                        variant=\"outline-danger\"\r\n                        className=\"m-2\"\r\n                    >\r\n                        <TrashFill />\r\n                    </Button>\r\n\r\n                    <Button variant=\"outline-success\" onClick={onShowEdit} >\r\n                        <PencilSquare />\r\n                    </Button>\r\n                </div>\r\n            </li>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default EditCategoriesListItem\r\n","import { ListCheck } from 'react-bootstrap-icons';\r\nimport { Modal, Button, Alert } from 'react-bootstrap';\r\nimport { fetchCategories } from '../../../redux/actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setActiveCategory } from '../../../redux/actions';\r\nimport EditCategoriesListItem from './edit-categories-list-item';\r\nimport { updateCategory, getProductByCatId, deleteCategory } from '../../../services/productsAPI';\r\n\r\nimport React from 'react';\r\n\r\nimport './admin-categories.scss';\r\n\r\nfunction EditCategoriesList() {\r\n    const dispatch = useDispatch();\r\n    const { activeCategory, categories } = useSelector(({ filters }) => filters);\r\n    const [isError, setIsError] = React.useState(false)\r\n\r\n    const [modalVisible, setModalVisible] = React.useState(false);\r\n\r\n    const onShow = () => {\r\n        setModalVisible(true)\r\n    }\r\n\r\n    const closeModal = () => {\r\n        setModalVisible(false)\r\n        setIsError(false);\r\n    }\r\n\r\n    const handleDelete = (id, index) => {\r\n        getProductByCatId(index).then(data => {\r\n            if (data) {\r\n                setIsError(true);\r\n                return;\r\n            }\r\n\r\n            if (activeCategory === index) {\r\n                dispatch(setActiveCategory(null));\r\n            }\r\n\r\n            deleteCategory(id).then(data => {\r\n                dispatch(fetchCategories());\r\n            })\r\n\r\n            isError && setIsError(false);\r\n        })\r\n    }\r\n\r\n    const handleUpdate = (id, name) => {\r\n        const formData = new FormData();\r\n        formData.append('name', name);\r\n\r\n        updateCategory(formData, id).then(data => {\r\n            dispatch(fetchCategories());\r\n        })\r\n\r\n        isError && setIsError(false);\r\n    }\r\n\r\n    const categoriesList = categories && categories.map((elem, index) => {\r\n        return <EditCategoriesListItem\r\n            name={elem.name}\r\n            id={elem.id}\r\n            index={index}\r\n            handleDelete={handleDelete}\r\n            handleUpdate={handleUpdate}\r\n            key={elem.id} />\r\n    })\r\n\r\n    return (\r\n        <div className=\"admin-list-check\" onClick={onShow}>\r\n            <ListCheck />\r\n\r\n            <div onClick={e => e.stopPropagation()}>\r\n\r\n                <Modal\r\n                    show={modalVisible}\r\n                    onHide={closeModal}\r\n                    size=\"lg\"\r\n                    centered\r\n                >\r\n                    <Modal.Header>\r\n                        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                             \r\n                        </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n\r\n                        {isError && <Alert variant='danger'>\r\n                            !     ,    \r\n                        </Alert>}\r\n\r\n                        <ul>\r\n                            {categoriesList &&\r\n                                categoriesList.length === 0 ?\r\n                                <p className=\"text-center text-muted\"> </p> : categoriesList}\r\n                        </ul>\r\n                    </Modal.Body>\r\n\r\n                    <Modal.Footer>\r\n                        <Button variant=\"outline-danger\" onClick={closeModal}></Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditCategoriesList\r\n\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setActiveCategory, fetchCategories, setPage } from '../../redux/actions';\r\nimport { CreateCategories } from '../admin/admin-categories';\r\nimport { EditCategoriesList } from '../admin/admin-categories';\r\n\r\nimport './categories-list.scss';\r\nimport { UserRoles } from '../../utils/consts';\r\n\r\nfunction CategoriesList() {\r\n    const dispatch = useDispatch();\r\n    const { activeCategory, categories } = useSelector(({ filters }) => filters);\r\n    const { isAuth, role } = useSelector(({ user }) => user);\r\n\r\n    React.useEffect(() => {\r\n        dispatch(fetchCategories());\r\n    }, [dispatch])\r\n\r\n    const onSelectCategory = React.useCallback((index) => {\r\n        dispatch(setActiveCategory(index));\r\n        dispatch(setPage(1));\r\n    }, [dispatch]);\r\n\r\n    const categoriesList = categories && categories.map((elem, index) => {\r\n        return (\r\n            <li className={activeCategory === index ? 'shop-categories__active' : ''}\r\n                onClick={() => onSelectCategory(index)}\r\n                key={`${elem.id}`}>\r\n                {elem.name}\r\n            </li>\r\n        )\r\n    })\r\n\r\n    const isAdmin = role === UserRoles.ADMIN\r\n\r\n    return (\r\n        <div className=\"shop-categories\">\r\n            <ul>\r\n                {isAuth && isAdmin ? <li><EditCategoriesList /></li> : ''}\r\n\r\n                <li className={activeCategory === null ? 'shop-categories__active' : ''}\r\n                    onClick={() => onSelectCategory(null)}>\r\n                    \r\n                </li>\r\n                {categoriesList}\r\n\r\n                {isAuth && isAdmin ? <li><CreateCategories /></li> : ''}\r\n\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nCategoriesList.propTypes = {\r\n    activeCategory: PropTypes.number,\r\n    items: PropTypes.arrayOf(PropTypes.object),\r\n    onClickCategory: PropTypes.func\r\n}\r\n\r\nCategoriesList.defaultProps = {\r\n    activeCategory: null,\r\n    items: [], onClickCategory: () => { }\r\n};\r\n\r\nexport default React.memo(CategoriesList)\r\n","import CategoriesList from './categories-list';\r\n\r\nexport default CategoriesList;","import React from 'react';\r\nimport { useMemo } from 'react';\r\n\r\nexport const DOTS = '...';\r\n\r\nconst range = (start, end) => {\r\n    let length = end - start + 1;\r\n    return Array.from({ length }, (_, idx) => idx + start);\r\n};\r\n\r\nexport const usePagination = ({\r\n    totalCount,\r\n    pageSize,\r\n    siblingCount = 1,\r\n    currentPage\r\n}) => {\r\n    const paginationRange = useMemo(() => {\r\n        const totalPageCount = Math.ceil(totalCount / pageSize);\r\n\r\n        // Pages count is determined as siblingCount + firstPage + lastPage + currentPage + 2*DOTS\r\n        const totalPageNumbers = siblingCount + 5;\r\n\r\n        /*\r\n          If the number of pages is less than the page numbers we want to show in our\r\n          paginationComponent, we return the range [1..totalPageCount]\r\n        */\r\n        if (totalPageNumbers >= totalPageCount) {\r\n            return range(1, totalPageCount);\r\n        }\r\n\r\n        const leftSiblingIndex = Math.max(currentPage - siblingCount, 1);\r\n        const rightSiblingIndex = Math.min(\r\n            currentPage + siblingCount,\r\n            totalPageCount\r\n        );\r\n\r\n        /*\r\n          We do not want to show dots if there is only one position left \r\n          after/before the left/right page count as that would lead to a change if our Pagination\r\n          component size which we do not want\r\n        */\r\n        const shouldShowLeftDots = leftSiblingIndex > 2;\r\n        const shouldShowRightDots = rightSiblingIndex < totalPageCount - 2;\r\n\r\n        const firstPageIndex = 1;\r\n        const lastPageIndex = totalPageCount;\r\n\r\n        if (!shouldShowLeftDots && shouldShowRightDots) {\r\n            let leftItemCount = 3 + 2 * siblingCount;\r\n            let leftRange = range(1, leftItemCount);\r\n\r\n            return [...leftRange, DOTS, totalPageCount];\r\n        }\r\n\r\n        if (shouldShowLeftDots && !shouldShowRightDots) {\r\n            let rightItemCount = 3 + 2 * siblingCount;\r\n            let rightRange = range(\r\n                totalPageCount - rightItemCount + 1,\r\n                totalPageCount\r\n            );\r\n            return [firstPageIndex, DOTS, ...rightRange];\r\n        }\r\n\r\n        if (shouldShowLeftDots && shouldShowRightDots) {\r\n            let middleRange = range(leftSiblingIndex, rightSiblingIndex);\r\n            return [firstPageIndex, DOTS, ...middleRange, DOTS, lastPageIndex];\r\n        }\r\n    }, [totalCount, pageSize, siblingCount, currentPage]);\r\n\r\n    return paginationRange;\r\n};\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\nimport { usePagination, DOTS } from './usePagination';\r\nimport './pagination.scss';\r\n\r\nconst Pagination = props => {\r\n    const {\r\n        onPageChange,\r\n        totalCount,\r\n        siblingCount = 1,\r\n        currentPage,\r\n        pageSize,\r\n        className\r\n    } = props;\r\n\r\n    const paginationRange = usePagination({\r\n        currentPage,\r\n        totalCount,\r\n        siblingCount,\r\n        pageSize\r\n    });\r\n\r\n    if (currentPage === 0 || paginationRange.length < 2) {\r\n        return null;\r\n    }\r\n\r\n    const onNext = () => {\r\n        onPageChange(currentPage + 1);\r\n    };\r\n\r\n    const onPrevious = () => {\r\n        onPageChange(currentPage - 1);\r\n        console.log('first')\r\n    };\r\n\r\n    let lastPage = paginationRange[paginationRange.length - 1];\r\n    return (\r\n        <ul\r\n            className={classnames('pagination-container', { [className]: className })}\r\n        >\r\n            <li\r\n                className={classnames('pagination-item', {\r\n                    disabled: currentPage === 1\r\n                })}\r\n                onClick={onPrevious}\r\n            >\r\n                <div className=\"arrow left\" />\r\n            </li>\r\n            {paginationRange.map((pageNumber, index) => {\r\n                if (pageNumber === DOTS) {\r\n                    return <li key={index} className=\"pagination-item dots\">&#8230;</li>;\r\n                }\r\n\r\n                return (\r\n                    <li key={pageNumber + '' + index}\r\n                        className={classnames('pagination-item', {\r\n                            selected: pageNumber === currentPage\r\n                        })}\r\n                        onClick={() => onPageChange(pageNumber)}\r\n                    >\r\n                        {pageNumber}\r\n                    </li>\r\n                );\r\n            })}\r\n            <li\r\n                className={classnames('pagination-item', {\r\n                    disabled: currentPage === lastPage\r\n                })}\r\n                onClick={onNext}\r\n            >\r\n                <div className=\"arrow right\" />\r\n            </li>\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default Pagination;\r\n","import Pagination from './pagination';\r\nexport default Pagination;","import React from 'react'\r\nimport ListItem from './list-item';\r\nimport Spinner from '../UI/spinner';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchGoods, addItemToCart, setPage } from '../../redux/actions';\r\nimport { AdminProductsAdd } from '../admin/admin-products';\r\nimport useIsAdmin from '../../hooks/useIsAdmin';\r\nimport useIsModerator from '../../hooks/useIsModerator';\r\nimport Pagination from '../UI/pagination';\r\n\r\nimport './shop-items-list.scss';\r\n\r\nfunction ShopItemsList() {\r\n    const dispatch = useDispatch();\r\n\r\n    const cartItems = useSelector(({ cart }) => cart.items);\r\n    const { items, isLoaded, totalCount, limit, page } = useSelector(({ goods }) => goods);\r\n    const { activeCategory, sortBy, sortOrder } = useSelector(({ filters }) => filters);\r\n\r\n    const isAdmin = useIsAdmin();\r\n    const isModerator = useIsModerator();\r\n\r\n    React.useEffect(() => {\r\n        dispatch(fetchGoods(sortBy, activeCategory, sortOrder, page, limit));\r\n    }, [activeCategory, sortBy, sortOrder, page, limit]);\r\n\r\n    const handleAddItemToCart = (obj) => {\r\n        dispatch(addItemToCart(obj));\r\n    }\r\n\r\n    const handleChangePage = (pageNumber) => {\r\n        dispatch(setPage(pageNumber));\r\n    }\r\n\r\n    const loadingGoods = !isLoaded ? <Spinner /> : items.map((item) => {\r\n        const countOfAdded = cartItems[item.id] && cartItems[item.id].length;\r\n        return <ListItem\r\n            onClickBuyBtn={handleAddItemToCart}\r\n            key={item.id}\r\n            countOfAdded={countOfAdded}\r\n            {...item}\r\n        />\r\n    })\r\n\r\n    const goodsList = loadingGoods.length !== 0\r\n        ? loadingGoods\r\n        : <h3 className=\"text-center text-secondary jumbotron jumbotron-fluid\">\r\n              :(\r\n        </h3>;\r\n\r\n    return (\r\n        <div className=\"shop-items-list\">\r\n            {isAdmin || isModerator ? <AdminProductsAdd /> : ''}\r\n            {goodsList}\r\n\r\n            <Pagination\r\n                className=\"pagination-bar\"\r\n                currentPage={page}\r\n                totalCount={totalCount}\r\n                pageSize={limit}\r\n                onPageChange={page => handleChangePage(page)}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShopItemsList;\r\n","import ShopItemsList from './shop-items-list';\r\n\r\nexport default ShopItemsList;","import React from 'react';\r\n\r\nimport './dropdown-arrow.scss';\r\n\r\nfunction DropdownArrow({ rotate }) {\r\n\r\n    const classNames = `arrow-svg ${rotate ? 'rotated' : ''}`;\r\n\r\n    return (\r\n        <svg\r\n            className={`arrow-svg ${classNames}`}\r\n            width=\"14\"\r\n            height=\"10\"\r\n            viewBox=\"0 0 10 6\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n            <path\r\n                d=\"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z\"\r\n                fill=\"#2C2C2C\"\r\n            />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport default DropdownArrow\r\n","import DropdownArrow from './dropdown-arrow';\r\nexport default DropdownArrow;","import React from 'react';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setSortOrder } from '../../../redux/actions';\r\nimport DropdownArrow from '../../UI/dropdown-arrow';\r\n\r\nfunction SortOrderArrow() {\r\n    const dispatch = useDispatch();\r\n\r\n    const { sortOrder } = useSelector(({ filters }) => filters);\r\n\r\n    const changeOrder = React.useCallback((type) => {\r\n        dispatch(setSortOrder(type));\r\n    }, [dispatch]);\r\n\r\n    const changeOrderType = (aa) => {\r\n        const order = sortOrder === 'desc' ? 'asc' : 'desc';\r\n        changeOrder(order);\r\n    }\r\n\r\n    const arrowRotates = sortOrder === 'desc' ? true : false;\r\n\r\n    return (\r\n        <div className=\"sort-arrow unselectable-text\" onClick={changeOrderType}>\r\n            <DropdownArrow rotate={arrowRotates} />\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default SortOrderArrow;","import SortOrderArrow from './sort-order-arrow';\r\n\r\nexport default SortOrderArrow;","import React, { useState, useEffect, useRef } from 'react'\r\nimport SortOrderArrow from '../sort-order-arrow';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setSortBy } from '../../../redux/actions';\r\n\r\nimport './sort-popup.scss';\r\n\r\nconst items = [\r\n    { type: 'rating', name: '' },\r\n    { type: 'price', name: '' },\r\n    { type: 'name', name: '' }\r\n];\r\n\r\nfunction SortPopup() {\r\n    const dispatch = useDispatch();\r\n\r\n    const { sortBy } = useSelector(({ filters }) => filters);\r\n\r\n    const [visiblePopup, setVisiblePopup] = useState(false);\r\n    const sortRef = useRef();\r\n    const activeLabel = items.find(item => item.type === sortBy).name;\r\n\r\n    useEffect(() => {\r\n        document.body.addEventListener('click', handleOutsideClick)\r\n        return function cleanup() {\r\n            setVisiblePopup(false);\r\n        }\r\n    }, []);\r\n\r\n    const handleOutsideClick = (e) => {\r\n        const path = e.path || (e.composedPath && e.composedPath());\r\n        if (!path.includes(sortRef.current)) {\r\n            setVisiblePopup(false);\r\n        }\r\n    };\r\n\r\n    const onSelectItem = (type) => {\r\n        onChangeSortBy(type);\r\n        setVisiblePopup(false);\r\n    }\r\n\r\n    const onChangeSortBy = React.useCallback((type) => {\r\n        dispatch(setSortBy(type));\r\n    }, [dispatch]);\r\n\r\n    const togglePopup = () => {\r\n        setVisiblePopup(!visiblePopup);\r\n    };\r\n\r\n    const elements = items && items.map((elem, index) => {\r\n        return (\r\n            <li className={sortBy === elem.type ? 'active' : ''}\r\n                onClick={() => { onSelectItem(elem.type) }}\r\n                key={`${elem.type}_${index}`}>\r\n                {elem.name}\r\n            </li>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div ref={sortRef} className=\"sort\">\r\n            <div className=\"sort__label\">\r\n                <SortOrderArrow />\r\n                <b> :</b>\r\n                <span onClick={togglePopup}>{activeLabel}</span>\r\n            </div>\r\n\r\n            {visiblePopup &&\r\n                < div className=\"sort__popup\">\r\n                    <ul>\r\n                        {elements}\r\n                    </ul>\r\n                </div>}\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default React.memo(SortPopup)\r\n","import SortPopup from './sort-popup';\r\n\r\nexport default SortPopup;","import React from 'react'\r\nimport CategoriesList from '../../components/categories-list';\r\nimport ShopItemsList from '../../components/shop-items-list';\r\nimport Container from '../../components/UI/container';\r\nimport SortPopup from '../../components/sort-filter/sort-popup';\r\n\r\nimport './shop-page.scss';\r\n\r\nfunction ShopPage() {\r\n    return (\r\n        <Container title=\"\">\r\n            <div className=\"row mb-2\">\r\n                <div className=\"col-12 col-lg-9\">\r\n                    <CategoriesList />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-lg-3\">\r\n                    <SortPopup />\r\n                </div>\r\n            </div>\r\n            <ShopItemsList />\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default ShopPage;\r\n","import ShopPage from './shop-page';\r\n\r\nexport default ShopPage;","import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { PlusCircleFill } from 'react-bootstrap-icons';\r\nimport { AdvantagesFormCreate } from '.';\r\nimport { createAdvantages } from '../../../services/productsAPI';\r\nimport { fetchAdvantages } from '../../../redux/actions';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport './advantages-create.scss';\r\n\r\nfunction AdvantagesCreate() {\r\n    const dispatch = useDispatch();\r\n    const [modalVisible, setModalVisible] = React.useState(false);\r\n\r\n    const onShow = () => {\r\n        setModalVisible(true)\r\n    }\r\n\r\n    const closeModal = () => {\r\n        setModalVisible(false)\r\n    }\r\n\r\n    const handleSubmit = (adv) => {\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('title', adv.text);\r\n            formData.append('img', adv.img);\r\n            createAdvantages(formData).then(data => {\r\n                dispatch(fetchAdvantages());\r\n            })\r\n        } catch (e) {\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"admin-advantages-create-btn\">\r\n            <Button variant=\"info\" onClick={onShow}>\r\n                <PlusCircleFill color=\"white\" />\r\n            </Button>\r\n\r\n            <AdvantagesFormCreate\r\n                show={modalVisible}\r\n                handleNo={closeModal}\r\n                handleSubmit={handleSubmit}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdvantagesCreate\r\n","import React from 'react';\r\nimport { Modal, Button, Col, Form, Alert } from 'react-bootstrap';\r\nimport { ImgUrlDefault } from '../../../utils/consts';\r\n\r\nfunction AdvantagesFormEdit({ show, handleNo, handleSubmit, itemDetails }) {\r\n    const [error, setError] = React.useState(false);\r\n    const [titleCount, setTitleCount] = React.useState(itemDetails.title.length);\r\n\r\n    const [selectedImage, setSelectedImage] = React.useState('')\r\n\r\n    const [inputsValue, setInputsValue] = React.useState({\r\n        ...itemDetails\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        setInputsValue({ ...itemDetails })\r\n    }, [itemDetails])\r\n\r\n    const updateState = (field, newValue) => {\r\n        field === 'title' && setTitleCount(newValue.length);\r\n\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            [field]: newValue\r\n        });\r\n    }\r\n\r\n    const onHandleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (typeof inputsValue.img === 'object') {\r\n            const img = inputsValue.img;\r\n\r\n            const fileType = img.type.split('/')[0];\r\n\r\n            if (fileType !== 'image') {\r\n                showErrorMsg('!   !');\r\n                return;\r\n            }\r\n        }\r\n\r\n        for (let key in inputsValue) {\r\n            if (inputsValue[key] === '') {\r\n                showErrorMsg('!    ');\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (titleCount > 80) {\r\n            showErrorMsg(`! '    27 `);\r\n            return;\r\n        }\r\n\r\n        if (inputsValue.price > 2147483647) {\r\n            showErrorMsg(`!   `);\r\n            return;\r\n        }\r\n\r\n        const product = {\r\n            ...inputsValue\r\n        }\r\n\r\n        handleNo();\r\n        handleSubmit(product);\r\n    }\r\n\r\n    const onCancelHandle = () => {\r\n        handleNo();\r\n        clearForm();\r\n    }\r\n\r\n    const clearForm = () => {\r\n        setInputsValue({\r\n            ...itemDetails\r\n        });\r\n\r\n        setSelectedImage('');\r\n\r\n        setTitleCount(itemDetails.title.length);\r\n        setError(false);\r\n    }\r\n\r\n    const selectFile = (e) => {\r\n        setSelectedImage(e.target.files[0]);\r\n\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            img: e.target.files[0]\r\n        });\r\n    }\r\n\r\n    const showErrorMsg = (text) => {\r\n        setError(text);\r\n    }\r\n\r\n    const imgUrl = selectedImage.length === 0 ?\r\n        `${ImgUrlDefault.ADVANTAGES}${inputsValue.img}` : URL.createObjectURL(selectedImage);\r\n\r\n    return (\r\n        <>\r\n            <Modal size=\"lg\" animation={true} show={show} onHide={onCancelHandle}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title></Modal.Title>\r\n                </Modal.Header>\r\n\r\n                {error && <Alert className=\"m-2\" variant={'danger'}>\r\n                    {error}\r\n                </Alert>}\r\n\r\n                <Modal.Body>\r\n                    <Form>\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} controlId=\"formGridName\">\r\n                                <Form.Label>\r\n                                    <b>: <span\r\n                                        className={titleCount > 80 ? 'text-danger' : ''}>\r\n                                        ({titleCount})</span>\r\n                                    </b>\r\n                                </Form.Label>\r\n                                <Form.Control\r\n                                    onChange={e => updateState('title', e.target.value)}\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter the product name\"\r\n                                    value={inputsValue && inputsValue.title}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <div className=\"shop-item-details__image mt-2 bg-secondary\">\r\n                                <img src={imgUrl} alt=\"item pictures\" />\r\n                            </div>\r\n\r\n                            <Form.Group as={Col} controlId=\"formGridImage\" className=\"mt-4\">\r\n                                <Form.Control\r\n                                    onChange={selectFile}\r\n                                    type=\"file\"\r\n                                    placeholder=\"Enter the image url\"\r\n                                />\r\n                            </Form.Group>\r\n\r\n                        </Form.Row>\r\n\r\n                        <hr />\r\n\r\n                        <Button variant=\"secondary\" onClick={onCancelHandle}>\r\n                            \r\n                        </Button>\r\n\r\n                        <Button className=\"m-2\" variant=\"primary\" type=\"button\" onClick={onHandleSubmit}>\r\n                            \r\n                        </Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AdvantagesFormEdit;\r\n\r\n","import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { PencilSquare } from 'react-bootstrap-icons';\r\nimport AdvantagesFormEdit from './advantages-form-edit';\r\nimport { useDispatch } from 'react-redux';\r\nimport { fetchAdvantages } from '../../../redux/actions';\r\nimport { updateAdvantages } from '../../../services/productsAPI';\r\n\r\nfunction AdvantagesEdit({ item }) {\r\n    const dispatch = useDispatch();\r\n    const [modalVisible, setModalVisible] = React.useState(false);\r\n\r\n    const onShow = () => {\r\n        setModalVisible(true)\r\n    }\r\n\r\n    const closeModal = () => {\r\n        setModalVisible(false)\r\n    }\r\n\r\n    const handleSubmit = (adv) => {\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('title', adv.title);\r\n            typeof adv.img !== 'string' && formData.append('img', adv.img);\r\n            updateAdvantages(adv.id, formData).then(data => {\r\n                dispatch(fetchAdvantages());\r\n            })\r\n        } catch (e) {\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Button className=\"m-1 btn-success\" onClick={onShow}><PencilSquare /></Button>\r\n\r\n            <AdvantagesFormEdit\r\n                show={modalVisible}\r\n                handleNo={closeModal}\r\n                handleSubmit={handleSubmit}\r\n                itemDetails={item}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdvantagesEdit\r\n","import React from 'react';\r\nimport { TrashFill } from 'react-bootstrap-icons';\r\nimport { Button } from 'react-bootstrap';\r\nimport ModalBox from '../../UI/modal-box';\r\nimport { deleteAdvantages } from '../../../services/productsAPI';\r\nimport { useDispatch } from 'react-redux';\r\nimport { fetchAdvantages } from '../../../redux/actions';\r\n\r\nfunction AdvantagesDelete({ name, id }) {\r\n    const dispatch = useDispatch();\r\n    const [show, setShow] = React.useState(false);\r\n\r\n    const handleNo = () => setShow(false);\r\n\r\n    const handleYes = () => {\r\n        toggleShow();\r\n        deleteAdvantages(id).then(data => {\r\n            dispatch(fetchAdvantages());\r\n        })\r\n    };\r\n\r\n    const toggleShow = () => {\r\n        setShow(!show);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Button onClick={toggleShow} className=\"m-1 btn-danger\"><TrashFill /></Button>\r\n\r\n            <ModalBox\r\n                show={show}\r\n                handleNo={handleNo}\r\n                handleYes={handleYes}\r\n                body={`   : \"${name}\" ?`}\r\n                title={`: \"${name}\"`}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdvantagesDelete\r\n","import React from 'react';\r\nimport { Modal, Button, Form, Alert, Col } from 'react-bootstrap';\r\n\r\nfunction AdvantagesFormCreate({ show, handleNo, handleSubmit }) {\r\n    const [error, setError] = React.useState(false);\r\n    const [textCount, setTextCount] = React.useState(0);\r\n\r\n    const [inputsValue, setInputsValue] = React.useState({\r\n        text: '',\r\n        img: '',\r\n    });\r\n\r\n    const updateState = (field, newValue) => {\r\n        field === 'text' && setTextCount(newValue.length);\r\n\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            [field]: newValue\r\n        });\r\n    }\r\n\r\n    const onHandleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!inputsValue.text.replace(/\\s/g, '').length) {\r\n            showErrorMsg('!      !');\r\n            return;\r\n        }\r\n\r\n        for (let key in inputsValue) {\r\n            if (inputsValue[key] === '' && typeof inputsValue.img !== 'object') {\r\n                showErrorMsg('!    ');\r\n                return;\r\n            }\r\n        }\r\n\r\n        const img = inputsValue.img;\r\n\r\n        const fileType = img.type.split('/')[0];\r\n\r\n        if (fileType !== 'image') {\r\n            showErrorMsg('!   !');\r\n            return;\r\n        }\r\n\r\n        if (textCount > 60) {\r\n            showErrorMsg(`! '    27 `);\r\n            return;\r\n        }\r\n\r\n        const product = {\r\n            ...inputsValue\r\n        }\r\n\r\n        clearForm();\r\n\r\n        handleNo();\r\n        handleSubmit(product);\r\n    }\r\n\r\n    const onCancelHandle = () => {\r\n        handleNo();\r\n        setError(false);\r\n    }\r\n\r\n    const clearForm = () => {\r\n        setInputsValue({\r\n            text: '',\r\n            img: '',\r\n        });\r\n\r\n        setTextCount(0);\r\n        setError(false);\r\n    }\r\n\r\n    const selectFile = (e) => {\r\n        setInputsValue({\r\n            ...inputsValue,\r\n            img: e.target.files[0]\r\n        });\r\n\r\n    }\r\n\r\n    const showErrorMsg = (text) => {\r\n        setError(text);\r\n    }\r\n\r\n    return (\r\n        <div onClick={e => e.stopPropagation()}>\r\n            <Modal size=\"lg\" animation={true} show={show} onHide={onCancelHandle}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>  </Modal.Title>\r\n                </Modal.Header>\r\n\r\n                {error && <Alert className=\"m-2\" variant={'danger'}>\r\n                    {error}\r\n                </Alert>}\r\n\r\n                <Modal.Body>\r\n                    <Form>\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} controlId=\"formGridName\">\r\n                                <Form.Label>\r\n                                    <b>: <span\r\n                                        className={textCount > 60 ? 'text-danger' : ''}>\r\n                                        ({textCount})</span>\r\n                                    </b>\r\n                                </Form.Label>\r\n                                <Form.Control\r\n                                    onChange={e => updateState('text', e.target.value)}\r\n                                    type=\"text\"\r\n                                    placeholder=\"  \"\r\n                                    value={inputsValue.text}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Col} controlId=\"formGridImage\" className=\"mt-4\">\r\n                                <Form.Control\r\n                                    onChange={selectFile}\r\n                                    type=\"file\"\r\n                                    placeholder=\"Enter the image url\"\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n\r\n                        <hr />\r\n\r\n                        <Button variant=\"secondary\" onClick={onCancelHandle}>\r\n                            \r\n                        </Button>\r\n\r\n                        <Button className=\"m-2\" variant=\"primary\" type=\"button\" onClick={onHandleSubmit}>\r\n                            \r\n                        </Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdvantagesFormCreate\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { UserRoles } from '../../utils/consts';\r\nimport { AdvantagesEdit } from '../admin/admin-advantages';\r\nimport { AdvantagesDelete } from '../admin/admin-advantages';\r\nimport { ImgUrlDefault } from '../../utils/consts';\r\n\r\nfunction AdvantagesListItem({ elem }) {\r\n    const { isAuth, role } = useSelector(({ user }) => user);\r\n\r\n    const isAdmin = role === UserRoles.ADMIN && isAuth;\r\n\r\n    return (\r\n        <div key={elem.id} className=\"advantage\">\r\n            <div className=\"advantage__img\">\r\n                <img src={`${ImgUrlDefault.ADVANTAGES}${elem.img}`} alt=\"icon\" />\r\n            </div>\r\n            <div className=\"advantage__text\">{elem.title}</div>\r\n\r\n            {isAdmin &&\r\n                <div className=\"admin-advantage-edit\">\r\n                    <AdvantagesEdit item={elem} />\r\n                    <AdvantagesDelete name={elem.title} id={elem.id} />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdvantagesListItem\r\n","import React from 'react';\r\nimport { fetchAdvantages } from '../../redux/actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport AdvantagesListItem from './advantages-list-item';\r\nimport { AdvantagesCreate } from '../admin/admin-advantages';\r\nimport { UserRoles } from '../../utils/consts';\r\n\r\nimport Container from '../UI/container';\r\n\r\nimport './advantages-list.scss';\r\n\r\nfunction AdvantagesList() {\r\n    const dispatch = useDispatch();\r\n    const { isAuth, role } = useSelector(({ user }) => user);\r\n\r\n    const { advantagesList, isLoaded } = useSelector(({ advantages }) => {\r\n        return {\r\n            advantagesList: advantages.items,\r\n            isLoaded: advantages.isLoaded\r\n        }\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        dispatch(fetchAdvantages());\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <Container title=\"   ?\" isLoaded={isLoaded}>\r\n            {isAuth && role === UserRoles.ADMIN && <AdvantagesCreate />}\r\n\r\n            <div className=\"advantages-wrapper\">\r\n                {\r\n                    advantagesList && advantagesList.map((elem) => {\r\n                        return <AdvantagesListItem key={elem.id} elem={elem} />\r\n                    })\r\n                }\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default AdvantagesList;\r\n\r\n","import AdvantagesList from './advantages-list';\r\n\r\nexport default AdvantagesList;","import React, { useRef, useEffect, useState } from 'react';\r\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl-csp';\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\nimport MapboxWorker from 'worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker';\r\nimport Container from '../../UI/container';\r\n\r\nimport './map.scss';\r\n\r\nmapboxgl.workerClass = MapboxWorker;\r\nmapboxgl.accessToken = 'pk.eyJ1IjoiZGlrdXNvciIsImEiOiJja25leWhsYWYxdzY2MnBtcjNkdDRhYWU4In0.pdghOzMOAjtXK2FrRLFRcA';\r\n\r\nconst Map = () => {\r\n    const mapContainer = useRef();\r\n    const [lng, setLng] = useState(24.0099813);\r\n    const [lat, setLat] = useState(49.8439957);\r\n    const [zoom, setZoom] = useState(16.5);\r\n\r\n    useEffect(() => {\r\n        const map = new mapboxgl.Map({\r\n            container: mapContainer.current,\r\n            style: 'mapbox://styles/dikusor/ckngbl5xc1bka17p3fql8z4wn',\r\n            center: [lng, lat],\r\n            zoom: zoom\r\n        });\r\n\r\n        map.on('move', () => {\r\n            setLng(map.getCenter().lng.toFixed(4));\r\n            setLat(map.getCenter().lat.toFixed(4));\r\n            setZoom(map.getZoom().toFixed(2));\r\n        });\r\n\r\n        return () => map.remove();\r\n    }, []);\r\n\r\n    return (\r\n        <Container >\r\n            <div>\r\n                <div className=\"map-container\" ref={mapContainer} />\r\n            </div>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Map;","import Map from './map';\r\n\r\nexport default Map;","import React from 'react'\r\nimport { getComponentInfoByName } from '../services/productsAPI'\r\n\r\nfunction usePage(page) {\r\n    const [componentData, setComponentData] = React.useState({})\r\n    const [isLoading, setIsLoading] = React.useState(false)\r\n\r\n    React.useEffect(() => {\r\n        updateInfo();\r\n    }, [])\r\n\r\n    const updateInfo = () => {\r\n        getComponentInfoByName(page).then(data => {\r\n            setComponentData(...data)\r\n        }).finally(() => {\r\n            setIsLoading(true);\r\n        })\r\n    }\r\n\r\n    return {\r\n        data: componentData,\r\n        isLoading,\r\n        update: updateInfo\r\n    }\r\n}\r\n\r\nexport default usePage\r\n","import HomePage from './home-page';\r\n\r\nexport default HomePage;","import React from 'react'\r\nimport Container from '../../components/UI/container';\r\nimport PopularProducts from '../../components/popular-products';\r\nimport AdvantagesList from '../../components/advantages-list';\r\nimport { useSelector } from 'react-redux';\r\nimport Map from '../../components/Layout/map';\r\nimport { AdminComponentsEdit } from '../../components/admin/admin-components';\r\nimport usePage from '../../hooks/usePage';\r\nimport useIsAdmin from '../../hooks/useIsAdmin';\r\n\r\nimport parse from 'html-react-parser';\r\n\r\nimport './home-page.scss';\r\nimport { ComponentName, ImgUrlDefault } from '../../utils/consts';\r\n\r\nexport default function HomePage() {\r\n    const isAdmin = useIsAdmin();\r\n\r\n    const { data, isLoading, update } = usePage(ComponentName.HOME);\r\n\r\n    return (\r\n        <div>\r\n            <Container isLoaded={isLoading}>\r\n                {isAdmin && <AdminComponentsEdit data={data} updateData={update} />}\r\n\r\n                <div className=\"home\">\r\n                    <div className=\"home__img\">\r\n                        {data.img && <img src={`${ImgUrlDefault.COMPONENTS}${data.img}`} className=\"img-fluid\" alt=\"main logo\" />}\r\n                    </div>\r\n\r\n                    <div className=\"home__text\">\r\n                        {data ? parse(`${data.text}`) : ''}\r\n                    </div>\r\n                </div>\r\n            </Container>\r\n            <AdvantagesList />\r\n            <PopularProducts title={\" \"} />\r\n            <Map />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Container from '../../components/UI/container';\r\nimport { AdminComponentsEdit } from '../../components/admin/admin-components';\r\nimport usePage from '../../hooks/usePage';\r\nimport parse from 'html-react-parser';\r\nimport { ImgUrlDefault } from '../../utils/consts';\r\n\r\nimport './about-us-page.scss';\r\nimport { ComponentName } from '../../utils/consts';\r\n\r\nconst AboutUsPage = () => {\r\n    const { isAuth, role } = useSelector(({ user }) => user);\r\n    const { data, isLoading, update } = usePage(ComponentName.ABOUT_US);\r\n\r\n    const image = data.img && <img className=\"aboutus__preloader-img\" src={`${ImgUrlDefault.COMPONENTS}${data.img}`} alt=\"poster\" />\r\n\r\n    return (\r\n        <Container title={data.title} isLoaded={isLoading}>\r\n            {isAuth && role === 'ADMIN' ? <AdminComponentsEdit data={data} updateData={update} /> : ''}\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 text-center\">{image}</div>\r\n                <div className=\"col-md-6 about-us-text\">\r\n                    <div>\r\n                        {data.text ? parse(`${data.text}`) : ''}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n};\r\n\r\nexport default AboutUsPage;\r\n","import AboutUsPage from './about-us-page';\r\n\r\nexport default AboutUsPage;","import ContactsPage from './contacts-page';\r\n\r\nexport default ContactsPage;","import React from 'react'\r\nimport Container from '../../components/UI/container';\r\nimport Map from '../../components/Layout/map';\r\nimport { useSelector } from 'react-redux';\r\nimport { AdminComponentsEdit } from '../../components/admin/admin-components';\r\nimport parse from 'html-react-parser';\r\nimport { ComponentName } from '../../utils/consts';\r\nimport usePage from '../../hooks/usePage';\r\nimport { ImgUrlDefault } from '../../utils/consts';\r\n\r\nimport './contacts-page.scss';\r\n\r\nexport default function ContactsPage() {\r\n    const { isAuth, role } = useSelector(({ user }) => user);\r\n\r\n    const { data, isLoading, update } = usePage(ComponentName.CONTACTS)\r\n\r\n    return (\r\n        <div className=\"contacts\">\r\n            <Container title={data.title} isLoaded={isLoading}>\r\n                {isAuth && role === 'ADMIN' ? <AdminComponentsEdit data={data} updateData={update} /> : ''}\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                        <div className=\"contacts-text\">\r\n                            {data ? parse(`${data.text}`) : ''}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-6\">\r\n                        <div className=\"page-img\">\r\n                            {data.img && <img src={`${ImgUrlDefault.COMPONENTS}${data.img}`} alt=\"poster\" />}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </Container>\r\n\r\n            <Map />\r\n        </div>\r\n    )\r\n}\r\n","import PaymentDeliveryPage from './payment-delivery-page';\r\n\r\nexport default PaymentDeliveryPage;","import React from 'react'\r\nimport Container from '../../components/UI/container';\r\nimport { useSelector } from 'react-redux';\r\nimport { AdminComponentsEdit } from '../../components/admin/admin-components';\r\nimport usePage from '../../hooks/usePage';\r\nimport parse from 'html-react-parser';\r\nimport { ImgUrlDefault } from '../../utils/consts';\r\nimport './payment-delivery-page.scss';\r\nimport { ComponentName } from '../../utils/consts';\r\nimport useIsAdmin from '../../hooks/useIsAdmin';\r\n\r\nexport default function ContactsPage() {\r\n    const isAdmin = useIsAdmin();\r\n\r\n    const { data, isLoading, update } = usePage(ComponentName.PAYMENT);\r\n\r\n    return (\r\n        <Container title={data.title} isLoaded={isLoading}>\r\n            {isAdmin && <AdminComponentsEdit data={data} updateData={update} />}\r\n\r\n            {data ? parse(`${data.text}`) : ''}\r\n\r\n            <div className=\"page-img\">\r\n                {data.img && <img src={`${ImgUrlDefault.COMPONENTS}${data.img}`} alt=\"poster\" />}\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { Modal, Button } from 'react-bootstrap';\r\n\r\nimport './cart-item.scss';\r\nimport ModalBox from '../UI/modal-box';\r\nimport { ImgUrlDefault } from '../../utils/consts';\r\n\r\nconst CartItem = (props) => {\r\n    const { item, count, totalPrice, onDeleteItem, onPlus, onMinus } = props;\r\n    const { id, img, name } = item;\r\n\r\n    const [showPopup, setShowPopup] = React.useState(false);\r\n\r\n    const onClosePopupHandler = () => {\r\n        setShowPopup(!showPopup);\r\n    }\r\n\r\n    const handlePlusClick = () => {\r\n        onPlus(item)\r\n    }\r\n\r\n    const handleMinusClick = () => {\r\n        onMinus(id)\r\n    }\r\n\r\n    const onClickYesPopupHandler = () => {\r\n        onDeleteItem(id)\r\n        setShowPopup(!showPopup);\r\n    }\r\n\r\n    return (\r\n        <li className=\"cart-item \">\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 d-flex align-items-center\">\r\n                    <div className=\"cart-item__img\">\r\n                        <img src={`${ImgUrlDefault.PRODUCTS}${img}`} alt=\"item\" />\r\n                    </div>\r\n                    <div className=\"cart-item__info\">\r\n                        <Link to={`/shop/${id}`}><h3>{name}</h3></Link>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-6 d-flex bottom-item-mobile align-items-center\">\r\n                    <div className=\"cart-item__count\">\r\n                        <div onClick={handleMinusClick} className=\"cart-item__btn unselectable-text\">-</div>\r\n                        <span>{count}</span>\r\n                        <div onClick={handlePlusClick} className=\"cart-item__btn unselectable-text\">+</div>\r\n                    </div>\r\n                    <div className=\"cart-item__price\">{totalPrice} </div>\r\n                    <div className=\"cart-item__del\">\r\n                        <div className=\"cart-item__btn btn_del unselectable-text\" onClick={onClosePopupHandler}>x</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <ModalBox\r\n                show={showPopup}\r\n                handleNo={onClosePopupHandler}\r\n                handleYes={onClickYesPopupHandler}\r\n                title={`: \"${name}\"`}\r\n                body={`      \"${name}\"?`}\r\n            />\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default CartItem;\r\n","import CartItem from './cart-item';\r\n\r\nexport default CartItem;","import jwt_decode from \"jwt-decode\";\r\nimport { $authHost, $host } from './http';\r\nimport { UserRoles } from '../utils/consts';\r\n\r\nexport const registration = async (email, password, name, phone = null) => {\r\n    console.log(phone)\r\n    const { data } = await $host.post('api/user/registration', { email, password, name, phone, role: UserRoles.USER })\r\n    localStorage.setItem('token', data.token)\r\n    return jwt_decode(data.token)\r\n}\r\n\r\nexport const login = async (email, password) => {\r\n    const { data } = await $host.post('api/user/login', { email, password })\r\n    localStorage.setItem('token', data.token)\r\n    return jwt_decode(data.token)\r\n}\r\n\r\nexport const changePassword = async (password, newPassword, id) => {\r\n    const { data } = await $host.post('api/user/changePassword', { password, newPassword, id })\r\n    localStorage.setItem('token', data.token)\r\n    return jwt_decode(data.token)\r\n}\r\n\r\nexport const check = async () => {\r\n    const { data } = await $authHost.get('api/user/auth')\r\n    localStorage.setItem('token', data.token)\r\n    return jwt_decode(data.token)\r\n}\r\n\r\nexport const changeRole = async (id, userRole) => {\r\n    const role = { role: userRole }\r\n    const { data } = await $host.patch('api/user/' + id, role)\r\n    return data;\r\n}\r\n\r\nexport const updateUser = async (user, id) => {\r\n    const { data } = await $authHost.patch('api/user/updateUser/' + id, user)\r\n    localStorage.setItem('token', data.token)\r\n    return jwt_decode(data.token)\r\n}\r\n\r\nexport const deleteUser = async (id) => {\r\n    const { data } = await $authHost.delete('api/user/' + id)\r\n    return data\r\n}\r\n\r\nexport const forgotPassword = async (email) => {\r\n    const { data } = await $authHost.post('api/user/forgotPassword', { email })\r\n    return data\r\n}\r\n\r\nexport const resetPassword = async (id, token, password) => {\r\n    const { data } = await $authHost.post('api/user/resetPassword/' + id + '/' + token, { password });\r\n    return data\r\n}\r\n\r\n","export const isEmpty = value => value.trim() === '';\r\nexport const isFiveChars = value => value.trim().length >= 5;\r\nexport const isEmail = value => value.trim().length === 0 || !value.trim().includes('@');","import React, { useState, useRef, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setIsAuth, setUser, clearCart } from '../../redux/actions';\r\nimport { Modal, Form, Button, Col, Alert } from 'react-bootstrap';\r\nimport { sendEmail } from '../../services/sendMail';\r\nimport { registration } from '../../services/userAPI';\r\nimport { isEmpty, isFiveChars, isEmail } from '../../helpers/isValidInput';\r\nimport ModalBox from '../UI/modal-box';\r\nimport { serialize } from 'object-to-formdata';\r\n\r\nimport './order-form.scss';\r\n\r\nfunction OrderForm() {\r\n    const dispatch = useDispatch();\r\n\r\n    const [checkboxChecked, setCheckboxChecked] = useState(false);\r\n    const [userExists, setUserExists] = useState(false);\r\n    const [showPopup, setShowPopup] = React.useState(false);\r\n    const [showSuccessMsg, setShowSuccessMsg] = React.useState(false);\r\n\r\n    const { items } = useSelector(({ cart }) => cart);\r\n    const { id, isAuth, name, email, phone } = useSelector(({ user }) => user);\r\n\r\n    const [nameValue, setNameValue] = useState('');\r\n    const [phoneValue, setPhoneValue] = useState('');\r\n    const [passwordValue, setPasswordValue] = useState('');\r\n    const [emailValue, setEmailValue] = useState('');\r\n\r\n    const [errors, setErrors] = React.useState({\r\n        name: true,\r\n        phone: true,\r\n        email: true,\r\n        password: true\r\n    });\r\n\r\n    useEffect(() => {\r\n        setNameValue(name)\r\n        setPhoneValue(phone);\r\n        setEmailValue(email)\r\n    }, [])\r\n\r\n    const handleNo = () => {\r\n        setShowPopup(false);\r\n        setErrors({\r\n            name: true,\r\n            phone: true,\r\n            email: true,\r\n            password: true\r\n        });\r\n        setCheckboxChecked(false);\r\n    }\r\n\r\n    const formShowHandler = () => { setShowPopup(true) }\r\n\r\n    const handleSubmit = async (e) => {\r\n        const enteredData = {\r\n            name: nameValue,\r\n            phone: phoneValue,\r\n            email: emailValue,\r\n            password: checkboxChecked ? passwordValue : ''\r\n        }\r\n\r\n        const enteredDataIsValid = {\r\n            name: !isEmpty(enteredData.name),\r\n            phone: !isEmpty(enteredData.phone),\r\n            email: !isEmail(enteredData.email),\r\n            password: checkboxChecked ? isFiveChars(enteredData.password) : true\r\n        }\r\n\r\n        setErrors({ ...enteredDataIsValid })\r\n\r\n        let formIsValid = !Object.values(enteredDataIsValid).includes(false);\r\n\r\n        if (!formIsValid) {\r\n            return;\r\n        }\r\n\r\n        sendOrderToEmail().then(data => {\r\n            if (data === false) {\r\n                setUserExists(true);\r\n                return;\r\n            }\r\n\r\n            handleNo();\r\n            setShowSuccessMsg(true);\r\n        });\r\n    }\r\n\r\n    const sendOrderToEmail = async () => {\r\n        let userId = id;\r\n\r\n        const userData = {\r\n            name: nameValue,\r\n            email: emailValue,\r\n            password: passwordValue,\r\n            phone: phoneValue\r\n        }\r\n\r\n        if (checkboxChecked) {\r\n            try {\r\n                const regData = await registration(userData.email, userData.password, userData.name, userData.phone).then(data => {\r\n                    console.log(data)\r\n                    dispatch(setUser(data))\r\n                    dispatch(setIsAuth(true))\r\n                    userId = data.id\r\n                });\r\n            } catch (e) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        try {\r\n            const itemOrders = {};\r\n\r\n            for (let key in items) {\r\n                itemOrders[key] = { ...items[key][0] };\r\n                itemOrders[key].count = items[key].length;\r\n                itemOrders[key].userId = userId;\r\n                itemOrders[key].userName = nameValue;\r\n                itemOrders[key].userEmail = emailValue;\r\n                itemOrders[key].userPhone = phoneValue;\r\n            }\r\n\r\n            const formData = serialize(\r\n                itemOrders\r\n            );\r\n\r\n            sendEmail(formData);\r\n\r\n        } catch (e) {\r\n            alert(e.response.data.message)\r\n        }\r\n\r\n    }\r\n\r\n    const nameChangeHandler = (e) => {\r\n        setErrors(prevState => ({ ...prevState, name: true }));\r\n        setNameValue(e.target.value);\r\n    }\r\n\r\n    const phoneChangeHandler = (e) => {\r\n        setErrors(prevState => ({ ...prevState, phone: true }));\r\n        setPhoneValue(e.target.value);\r\n    }\r\n\r\n    const emailChangeHandler = (e) => {\r\n        setErrors(prevState => ({ ...prevState, email: true }));\r\n        setUserExists(false);\r\n        setEmailValue(e.target.value);\r\n    }\r\n\r\n    const passwordChangeHandler = (e) => {\r\n        setErrors(prevState => ({ ...prevState, password: true }));\r\n        setPasswordValue(e.target.value);\r\n    }\r\n\r\n    const checkboxChangeHandler = (e) => {\r\n        setCheckboxChecked(e.target.checked);\r\n    }\r\n\r\n    const handleMsgClose = () => {\r\n        setShowSuccessMsg(false)\r\n        dispatch(clearCart());\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"cart-bottom__buy-btn unselectable-text\" onClick={formShowHandler}></div>\r\n\r\n            {showSuccessMsg && <ModalBox\r\n                show={showSuccessMsg}\r\n                handleYes={handleMsgClose}\r\n                title={`  !`}\r\n                body={`   .      .`}\r\n            />}\r\n\r\n            <div onClick={e => e.stopPropagation()}>\r\n                <Modal size=\"lg\" animation={true} show={showPopup} onHide={handleNo}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>   </Modal.Title>\r\n                    </Modal.Header>\r\n\r\n                    {userExists && <Alert variant=\"danger\" className=\"m-2\">\r\n                              \r\n                    </Alert>}\r\n\r\n                    <Modal.Body>\r\n                        <Form>\r\n                            <Form.Row>\r\n                                <Form.Group as={Col} controlId=\"name\">\r\n                                    <Form.Label>\r\n                                          '\r\n                                    </Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        value={nameValue}\r\n                                        onChange={nameChangeHandler}\r\n                                        placeholder=\",  ,    '\"\r\n                                    />\r\n                                </Form.Group>\r\n                                {!errors.name && <Alert className=\"error-msg\" variant='danger'>!     '</Alert>}\r\n                            </Form.Row>\r\n\r\n                            <br />\r\n\r\n                            <Form.Row>\r\n                                <Form.Group as={Col} controlId=\"phone\">\r\n                                    <Form.Label>\r\n                                         \r\n                                    </Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"number\"\r\n                                        onChange={phoneChangeHandler}\r\n                                        value={phoneValue ? phoneValue : ''}\r\n                                        placeholder=\",  ,   \"\r\n                                    />\r\n                                    {!errors.phone && <Alert className=\"error-msg\" variant='danger'>!     </Alert>}\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n\r\n                            <br />\r\n\r\n                            <Form.Row>\r\n                                <Form.Group as={Col} controlId=\"email\">\r\n                                    <Form.Label>\r\n                                         \r\n                                    </Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        onChange={emailChangeHandler}\r\n                                        value={emailValue}\r\n                                        placeholder=\",  ,  email\"\r\n                                    />\r\n                                    {!errors.email && <Alert className=\"error-msg\" variant='danger'>!    </Alert>}\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n\r\n                            <br />\r\n\r\n                            {!isAuth && <Form.Check\r\n                                type={'checkbox'}\r\n                                id={`default-checkbox`}\r\n                                label={``}\r\n                                onChange={checkboxChangeHandler}\r\n                            />}\r\n\r\n                            {checkboxChecked &&\r\n                                <div className=\"registration-section\">\r\n                                    <Form.Row>\r\n                                        <Form.Group as={Col} controlId=\"password\">\r\n                                            <Form.Label>\r\n                                                \r\n                                            </Form.Label>\r\n                                            <Form.Control\r\n                                                type=\"password\"\r\n                                                onChange={passwordChangeHandler}\r\n                                                value={passwordValue}\r\n                                                placeholder=\" \"\r\n                                            />\r\n                                            {!errors.password &&\r\n                                                <Alert className=\"error-msg\" variant='danger'>\r\n                                                         5 \r\n                                                </Alert>}\r\n                                        </Form.Group>\r\n                                    </Form.Row>\r\n                                </div>\r\n                            }\r\n\r\n                            <hr />\r\n\r\n                            <Button variant=\"secondary\" onClick={handleNo}>\r\n                                \r\n                            </Button>\r\n\r\n                            <Button className=\"m-2\" variant=\"primary\" id=\"btn\" type=\"button\" onClick={handleSubmit}>\r\n                                \r\n                            </Button>\r\n                        </Form>\r\n                    </Modal.Body>\r\n                </Modal>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default OrderForm\r\n","import OrderForm from './order-form';\r\nexport default OrderForm;","import { $host } from './http';\r\n\r\nexport const sendEmail = async (mailData) => {\r\n    const { data } = await $host.post('api/order/', mailData)\r\n    return data\r\n}","export default __webpack_public_path__ + \"static/media/trash-icon.49eafd40.png\";","export default __webpack_public_path__ + \"static/media/cart-is-empty.6f0349a5.png\";","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Container from '../../components/UI/container';\r\nimport CartItem from '../../components/cart-item';\r\nimport OrderForm from '../../components/order-form';\r\nimport ModalBox from '../../components/UI/modal-box';\r\nimport trashIcon from '../../assets/images/trash-icon.png';\r\nimport emptyCartImg from '../../assets/images/cart-is-empty.png';\r\n\r\nimport { clearCart, removeCartItem, minusCartItem, addItemToCart } from \"../../redux/actions\"\r\n\r\nimport './cart-page.scss';\r\n\r\nexport default function CartPage() {\r\n    const dispatch = useDispatch();\r\n\r\n    const { totalPrice,\r\n        totalCount,\r\n        items,\r\n        itemTotalCount,\r\n        itemTotalPrice\r\n    } = useSelector(({ cart }) => cart);\r\n\r\n    const [showPopup, setShowPopup] = React.useState(false)\r\n\r\n    const onToggleClearCartPopup = () => {\r\n        setShowPopup(prevState => !prevState);\r\n    }\r\n\r\n    const delItemFromCart = (id) => {\r\n        dispatch(removeCartItem(id));\r\n    }\r\n\r\n    const plusItemCart = (item) => {\r\n        dispatch(addItemToCart(item));\r\n    }\r\n\r\n    const minusItemCart = (id) => {\r\n        itemTotalCount[id] > 1 && dispatch(minusCartItem(id));\r\n    }\r\n\r\n    const handleClickedYes = () => {\r\n        dispatch(clearCart());\r\n        setShowPopup(!showPopup);\r\n    }\r\n\r\n    const cartItems = Object.keys(items).map(key => {\r\n        return items[key][0];\r\n    });\r\n\r\n    const cartItemsList = cartItems.map((elem) => {\r\n        const id = elem.id;\r\n        return <CartItem\r\n            key={id}\r\n            item={elem}\r\n            count={itemTotalCount[id]}\r\n            totalPrice={itemTotalPrice[id]}\r\n            onDeleteItem={delItemFromCart}\r\n            onMinus={minusItemCart}\r\n            onPlus={plusItemCart}\r\n        />\r\n    })\r\n\r\n    return (\r\n        <Container title=\"\" backArrow>\r\n            {totalCount ?\r\n                <CartView\r\n                    items={cartItemsList}\r\n                    onToggleClearCartPopup={onToggleClearCartPopup}\r\n                    onClickYes={handleClickedYes}\r\n                    totalCount={totalCount}\r\n                    totalPrice={totalPrice}\r\n                    showPopup={showPopup}\r\n                />\r\n                :\r\n                <h3 className=\"text-center text-secondary jumbotron jumbotron-fluid\">\r\n                    <img className=\"empty-cart-img\" src={emptyCartImg} alt=\"cart is empty\" />\r\n                    <p>   :( </p>\r\n                </h3>}\r\n        </Container>\r\n    )\r\n}\r\n\r\nconst CartView = (props) => {\r\n    const { items,\r\n        showPopup,\r\n        onToggleClearCartPopup,\r\n        onClickYes,\r\n        totalCount,\r\n        totalPrice\r\n    } = props;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ModalBox\r\n                handleNo={onToggleClearCartPopup}\r\n                handleYes={onClickYes}\r\n                show={showPopup}\r\n                title={''}\r\n                body={'    ?'}\r\n            />\r\n\r\n            <div className=\"cart-top\">\r\n                <div onClick={onToggleClearCartPopup} className=\"cart-top__clear-btn unselectable-text\">\r\n                    <img src={trashIcon} alt=\"trash-icon\" />\r\n                     \r\n                </div>\r\n            </div>\r\n\r\n            <ul>{items}</ul>\r\n\r\n            <div className=\"cart-bottom\">\r\n                <div className=\"cart-bottom__info\">\r\n                    <div className=\"cart-bottom__items-counts\"> : <span>{totalCount} .</span></div>\r\n                    <div className=\"cart-bottom__total-price\"> : <span>{totalPrice} </span></div>\r\n                </div>\r\n\r\n                <OrderForm />\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}","import CartPage from './cart-page';\r\n\r\nexport default CartPage;","import React, { useState } from 'react';\r\nimport { Alert } from 'react-bootstrap';\r\nimport { forgotPassword } from '../../services/userAPI';\r\nimport ModalBox from '../UI/modal-box';\r\n\r\nimport './restore-password.scss';\r\n\r\nfunction RestorePassword() {\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [email, setEmail] = useState('');\r\n    const [errorIsNotExist, setIsNotExist] = useState(false);\r\n    const [showMsgSuccess, setShowMsgSuccess] = useState(false);\r\n\r\n    const onShowRestorePasswordModal = (e) => {\r\n        setShowModal(prevState => !prevState);\r\n        setShowMsgSuccess(false);\r\n    }\r\n\r\n    const onSaveRestorePassword = async () => {\r\n        const data = await forgotPassword(email);\r\n\r\n        if (!data) {\r\n            setIsNotExist(true);\r\n            return;\r\n        }\r\n        setEmail('');\r\n        setShowMsgSuccess(true);\r\n        setIsNotExist(false);\r\n    }\r\n\r\n    const onChangeEmailHandler = (e) => {\r\n        setEmail(e.target.value)\r\n        setIsNotExist(false);\r\n    }\r\n\r\n    const resetPasswordInput = <div className=\"form-outline mb-4\">\r\n        {errorIsNotExist && <Alert variant={'danger'}>       </Alert>}\r\n        <label className=\"form-label\" className=\"reset-form-label\" htmlFor=\"email\">  :</label>\r\n        <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            className=\"form-control\"\r\n            value={email}\r\n            onChange={onChangeEmailHandler}\r\n        />\r\n    </div>\r\n\r\n    const successMessage = <Alert variant={\"success\"}>\r\n                 \r\n    </Alert>\r\n\r\n    return <>\r\n        <div onClick={onShowRestorePasswordModal}\r\n            className=\"restore-password\"\r\n            href=\"#\"> ?\r\n        </div>\r\n\r\n        <ModalBox\r\n            body={!showMsgSuccess ? resetPasswordInput : successMessage}\r\n            title=\" \"\r\n            show={showModal}\r\n            handleNo={onShowRestorePasswordModal}\r\n            handleYes={!showMsgSuccess ? onSaveRestorePassword : onShowRestorePasswordModal}\r\n        />\r\n    </>\r\n}\r\n\r\nexport default RestorePassword;\r\n","import RestorePassword from './restore-password';\r\nexport default RestorePassword;","import React from 'react';\r\nimport Container from '../../components/UI/container';\r\nimport { setIsAuth, setUser } from '../../redux/actions';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { login, registration } from '../../services/userAPI';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { Routes } from '../../utils/consts';\r\nimport { Alert } from 'react-bootstrap';\r\nimport { isFiveChars } from '../../helpers/isValidInput';\r\nimport RestorePassword from '../../components/restore-password';\r\n\r\nimport './auth-page.scss';\r\n\r\nfunction LoginPage() {\r\n    const dispatch = useDispatch();\r\n    const { isAuth } = useSelector(({ user }) => user);\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n    const [userName, setUserName] = React.useState('');\r\n    const [error, setError] = React.useState('');\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    const isLogin = location.pathname === Routes.LOGIN_ROUTE;\r\n\r\n    React.useEffect(() => {\r\n        setError('')\r\n    }, [location])\r\n\r\n    const auth = async (event) => {\r\n        event.preventDefault();\r\n\r\n        if (!email.includes('@') || email.trim().length === 0) {\r\n            setError('Email is not correct');\r\n            return\r\n        }\r\n\r\n        if (!isLogin && userName.trim().length === 0) {\r\n            setError('Name is not correct');\r\n            return;\r\n        }\r\n\r\n        if (!isLogin && !isFiveChars(password)) {\r\n            setError('     5 ');\r\n            return;\r\n        }\r\n\r\n        if (password.trim().length === 0) {\r\n            setError('Password is not correct');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            let data;\r\n            if (isLogin) {\r\n                data = await login(email, password);\r\n            } else {\r\n                data = await registration(email, password, userName);\r\n            }\r\n            dispatch(setIsAuth(true))\r\n            dispatch(setUser(data))\r\n            history.push('/')\r\n        } catch (e) {\r\n            setError(e.response.data.message)\r\n        }\r\n    }\r\n\r\n    if (isAuth) {\r\n        return (\r\n            <Container>\r\n                <div className=\"text-center\">  !</div>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    const onChangeEmailHandler = (e) => {\r\n        setEmail(e.target.value)\r\n    }\r\n\r\n    const onChangePasswordHandler = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    const onChangeNameHandler = (e) => {\r\n        setUserName(e.target.value)\r\n    }\r\n\r\n    const onRestorePassword = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <form className=\"login-form\" onSubmit={auth}>\r\n\r\n                {error.length > 0 && <Alert variant='danger'>\r\n                    {error}\r\n                </Alert>}\r\n\r\n                <h2> {isLogin ? '' : ''} </h2>\r\n\r\n                <div className=\"form-outline mb-4\">\r\n                    <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        className=\"form-control\"\r\n                        value={email}\r\n                        onChange={onChangeEmailHandler}\r\n                    />\r\n                    <label className=\"form-label\" htmlFor=\"email\">Email</label>\r\n                </div>\r\n\r\n                {!isLogin && <div className=\"form-outline mb-4\">\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"userName\"\r\n                        className=\"form-control\"\r\n                        value={userName}\r\n                        onChange={onChangeNameHandler}\r\n                    />\r\n                    <label className=\"form-label\" htmlFor=\"userName\">  '</label>\r\n                </div>}\r\n\r\n                <div className=\"form-outline mb-4\">\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        className=\"form-control\"\r\n                        value={password}\r\n                        onChange={onChangePasswordHandler}\r\n                    />\r\n                    <label className=\"form-label\" htmlFor=\"password\"></label>\r\n                </div>\r\n\r\n                <button type=\"submit\" className=\"btn btn-primary btn-block\">{isLogin ? '' : ''}</button>\r\n            </form>\r\n\r\n            <RestorePassword />\r\n        </Container >\r\n    )\r\n}\r\n\r\nexport default LoginPage\r\n","import AuthPage from './auth-page';\r\n\r\nexport default AuthPage;","import React, { useState } from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { deleteUser } from '../../../../services/userAPI';\r\nimport ModalBox from '../../../UI/modal-box';\r\n\r\nfunction UserDelete(props) {\r\n    const [showDeletePopup, setShowDeletePopup] = useState(false);\r\n\r\n    const onDeleteHandler = () => {\r\n        deleteUser(props.id).then(data => {\r\n            if (data) {\r\n                props.onDeleteUser(props.id);\r\n            }\r\n        })\r\n    }\r\n\r\n    const onTogglePopup = () => {\r\n        setShowDeletePopup(prevState => !prevState);\r\n    }\r\n\r\n    return <>\r\n        <ModalBox\r\n            show={showDeletePopup}\r\n            onHide={onTogglePopup}\r\n            handleYes={onDeleteHandler}\r\n            handleNo={onTogglePopup}\r\n            title={` `}\r\n            body={`     ${props.name}`}\r\n        />\r\n\r\n        <Button variant=\"danger\" onClick={onTogglePopup}>X</Button>\r\n    </>;\r\n}\r\n\r\nexport default UserDelete;\r\n","import React from 'react';\r\nimport './user-item.scss';\r\nimport { Form } from 'react-bootstrap';\r\nimport { changeRole } from '../../../../services/userAPI';\r\nimport { useSelector } from 'react-redux';\r\nimport UserDelete from '../user-delete/user-delete';\r\n\r\nfunction UserItem(props) {\r\n    const { page,\r\n        pageLimit,\r\n        index,\r\n        id,\r\n        role,\r\n        email,\r\n        phone,\r\n        name } = props;\r\n\r\n    const { id: idUserLogined } = useSelector(({ user }) => user);\r\n\r\n    let userNumber = props.page === 2 ?\r\n        index + pageLimit : page * pageLimit - pageLimit + index;\r\n\r\n\r\n    const changeRoleHandler = (e) => {\r\n        changeRole(id, e.target.value);\r\n    }\r\n\r\n    return (\r\n        <tr>\r\n            <td>{userNumber + 1}</td>\r\n            <td>{id}</td>\r\n            <td>{name}</td>\r\n            <td>{!phone ? '---------' : phone}</td>\r\n            <td>{email}</td>\r\n            <td>\r\n                {idUserLogined !== id ?\r\n                    <Form.Control as=\"select\" defaultValue={role} onChange={changeRoleHandler}>\r\n                        <option value=\"ADMIN\">ADMIN</option>\r\n                        <option value=\"MODERATOR\">MODERATOR</option>\r\n                        <option value=\"USER\">USER</option>\r\n                    </Form.Control> : role\r\n                }\r\n            </td>\r\n            <td>\r\n                {idUserLogined !== id ?\r\n                    <UserDelete id={id} onDeleteUser={props.onDeleteUser} name={name} /> : ''}\r\n            </td>\r\n        </tr >\r\n    )\r\n}\r\n\r\nexport default UserItem\r\n","import UserItem from './user-item';\r\nexport default UserItem;","import React from 'react';\r\nimport Container from '../../UI/container';\r\nimport apiServices from '../../../services/api-services';\r\nimport UserItem from './user-item';\r\nimport { Table } from 'react-bootstrap';\r\nimport Pagination from '../../UI/pagination'\r\n\r\nimport './users-list.scss';\r\n\r\nfunction UsersList() {\r\n    const [users, setUsers] = React.useState('');\r\n    const [totalCount, setTotalCount] = React.useState(5);\r\n    const [page, setPage] = React.useState(1);\r\n\r\n    const limit = 9;\r\n\r\n    React.useEffect(() => {\r\n        getUsers();\r\n    }, [page])\r\n\r\n    const getUsers = () => {\r\n        apiServices.getUsers(limit, page).then(data => {\r\n            setUsers(data.rows);\r\n            setTotalCount(data.count)\r\n        })\r\n    }\r\n\r\n    const deleteUserHandler = (id) => {\r\n        const newUsers = users.filter(user => user.id !== id);\r\n\r\n        if (newUsers.length === 0 && page > 1) {\r\n            setPage(prevState => prevState - 1)\r\n        }\r\n        setUsers([...newUsers]);\r\n    }\r\n\r\n    return (\r\n        <Container title={'  '}>\r\n            <div className=\"users-list\">\r\n                <Table responsive>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>#</th>\r\n                            <th>ID</th>\r\n                            <th>Name</th>\r\n                            <th>Phone</th>\r\n                            <th>Email</th>\r\n                            <th>Role</th>\r\n                            <th>Delete</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {users.length !== 0 &&\r\n                            users.map((user, index) => (\r\n                                <UserItem\r\n                                    onDeleteUser={deleteUserHandler}\r\n                                    key={user.id}\r\n                                    index={index}\r\n                                    pageLimit={limit}\r\n                                    page={page}\r\n                                    {...user}\r\n                                />\r\n                            ))}\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n\r\n            <Pagination\r\n                currentPage={page}\r\n                totalCount={totalCount}\r\n                pageSize={limit}\r\n                onPageChange={page => setPage(page)}\r\n            />\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default UsersList\r\n","import UsersList from './users-list';\r\nexport default UsersList;","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport './admin-order-delete.scss';\r\nimport { deleteOrders } from '../../../services/productsAPI';\r\nimport { fetchOrders, setOrdersPage } from '../../../redux/actions';\r\nimport ModalBox from '../../UI/modal-box';\r\n\r\nfunction AdminOrderDelete(props) {\r\n    const dispatch = useDispatch();\r\n\r\n    const [showDeletePopup, setShowDeletePopup] = useState(false);\r\n\r\n    const { pageOrders, limit, items } = useSelector(({ orders }) => orders);\r\n\r\n    const onDeleteHandler = () => {\r\n        deleteOrders(props.id).then(data => {\r\n            dispatch(fetchOrders(pageOrders, limit))\r\n            if (items.length === 1 && pageOrders > 1) {\r\n                dispatch(setOrdersPage(pageOrders - 1))\r\n            }\r\n        })\r\n\r\n        onShowPopupHandler();\r\n    }\r\n\r\n    const onShowPopupHandler = () => {\r\n        setShowDeletePopup(prevState => !prevState);\r\n    }\r\n\r\n    return <>\r\n        <ModalBox\r\n            show={showDeletePopup}\r\n            onHide={onShowPopupHandler}\r\n            handleNo={onShowPopupHandler}\r\n            handleYes={onDeleteHandler}\r\n            title={` `}\r\n            body={`     ${props.orderNumber} ?`}\r\n        />\r\n        <div className=\"del-order-btn\" onClick={onShowPopupHandler}></div>;\r\n    </>\r\n}\r\n\r\nexport default AdminOrderDelete;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ImgUrlDefault, ProductDefault } from '../../../utils/consts';\r\n\r\nfunction OrderTableItem({ item }) {\r\n    const [isProductDeleted, setIsProductDeleted] = useState(false);\r\n\r\n    const onErrorImage = (e) => {\r\n        setIsProductDeleted(true);\r\n        e.target.onError = null;\r\n        e.target.src = `${ImgUrlDefault.PRODUCTS}${ProductDefault.IMAGE}`;\r\n    }\r\n\r\n    return <tr key={item.id}>\r\n        <td className=\"order-table-img\">\r\n            <img src={`${ImgUrlDefault.PRODUCTS}${item.img}`} onError={onErrorImage} alt=\"poster\" />\r\n        </td>\r\n        <td>\r\n            {isProductDeleted ? <p>{item.name}</p> : <Link to={`/shop/${item.goodsId}`}>{item.name}</Link>}\r\n        </td>\r\n        <td>{item.count}</td>\r\n        <td>{item.price * item.count} </td>\r\n    </tr>;\r\n}\r\n\r\nexport default OrderTableItem;\r\n","import React, { useState } from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport OrderTableItem from './order-table-item';\r\n\r\nimport './orders-table.scss';\r\n\r\nfunction OrdersTable(props) {\r\n    return (\r\n        <Table responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>#</th>\r\n                    <th></th>\r\n                    <th></th>\r\n                    <th></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.items.map(item => <OrderTableItem item={item} />)}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}\r\n\r\nexport default OrdersTable\r\n","import OrdersTable from './orders-table';\r\nexport default OrdersTable;","import React from 'react'\r\nimport DropdownArrow from '../../UI/dropdown-arrow'\r\nimport { useDispatch } from 'react-redux';\r\nimport { fetchOrdersItems } from '../../../redux/actions/orders';\r\nimport { ImgUrlDefault, ProductDefault } from '../../../utils/consts';\r\nimport AdminOrderDelete from '../../admin/admin-order-delete/admin-order-delete';\r\nimport useIsAdmin from '../../../hooks/useIsAdmin';\r\n\r\nimport './orders-list-item.scss';\r\nimport OrdersTable from '../orders-table';\r\n\r\nfunction OrdersListItem(props) {\r\n    const dispatch = useDispatch();\r\n    const isAdmin = useIsAdmin();\r\n\r\n    const [dropdownOrder, setDropdownOrder] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        dispatch(fetchOrdersItems(props.orderNumber));\r\n    }, []);\r\n\r\n    const showOrderDetailsHandler = () => {\r\n        setDropdownOrder(prevState => !prevState);\r\n    }\r\n\r\n    const onErrorImage = (e) => {\r\n        e.target.onError = null;\r\n        e.target.src = `${ImgUrlDefault.PRODUCTS}${ProductDefault.IMAGE}`;\r\n    }\r\n\r\n    const orderImages = props.goods.map(item => item.img);\r\n\r\n    const images = orderImages.slice(0, 3).map((img, index) => {\r\n        return <img key={index + img} src={`${ImgUrlDefault.PRODUCTS}${img}`} onError={onErrorImage} alt=\"poster\" />\r\n    });\r\n\r\n    const orderData = props.date.split('T')[0].split('-').join('/');\r\n\r\n    return (\r\n        <>\r\n            <li className=\"orders-item-list\">\r\n\r\n                <div className=\"order-item\" onClick={showOrderDetailsHandler}>\r\n                    <div className=\"order-item__section order-item__number\">\r\n                        <span></span> {props.orderNumber}\r\n                    </div>\r\n                    <div className=\"order-item__section order-item__date\">\r\n                        <span>:</span> {orderData}\r\n                    </div>\r\n                    <div className=\"order-item__section order-item__amount\">\r\n                        <span> :</span> {props.totalAmount} \r\n                    </div>\r\n                    <div className=\"order-item__section order-item__images\">\r\n                        {images}\r\n                        {orderImages.length > 3 ? `+${orderImages.length - 3}` : ''}\r\n                    </div>\r\n\r\n                    <div className=\"drop-arrow\">\r\n                        <DropdownArrow rotate={dropdownOrder} />\r\n                    </div>\r\n                </div>\r\n\r\n                {dropdownOrder &&\r\n                    <>\r\n                        <OrdersTable items={props.goods} />\r\n\r\n                        <div className=\"user-order-info\">\r\n                            <p><span>':</span> {props.userName}</p>\r\n                            <p><span>:</span> {props.userEmail}</p>\r\n                            <p><span>:</span> {props.userPhone}</p>\r\n                            <span><p>{!props.goods[0].userId && '  '}</p></span>\r\n                        </div>\r\n\r\n                        <div className=\"orders-item-list__total\"><span> :</span> {props.totalAmount} </div>\r\n                        {isAdmin && <AdminOrderDelete id={props.id} orderNumber={props.orderNumber} />}\r\n                    </>}\r\n            </li>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default OrdersListItem\r\n","import OrdersListItem from './orders-list-item';\r\nexport default OrdersListItem;","import React from 'react';\r\nimport Container from '../UI/container'\r\nimport OrdersListItem from './orders-list-item';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchOrders, setOrdersPage } from '../../redux/actions';\r\nimport Pagination from '../UI/pagination';\r\n\r\nimport './orders-list.scss';\r\nimport { UserRoles } from '../../utils/consts';\r\n\r\nfunction OrdersList() {\r\n    const dispatch = useDispatch();\r\n\r\n    const { id, role } = useSelector(({ user }) => user);\r\n    const { pageOrders, limit, items, isLoaded, totalCount } = useSelector(({ orders }) => orders);\r\n\r\n    const ordersList = items && items.map((order, index) => <OrdersListItem key={order.orderNumber} {...order} />);\r\n\r\n    React.useEffect(() => {\r\n        if (role !== UserRoles.ADMIN) {\r\n            dispatch(fetchOrders(pageOrders, limit, id))\r\n        } else {\r\n            dispatch(fetchOrders(pageOrders, limit))\r\n        }\r\n    }, [id, pageOrders, limit]);\r\n\r\n    const handleChangePage = (pageNumber) => {\r\n        dispatch(setOrdersPage(pageNumber));\r\n    }\r\n\r\n    return (\r\n        <Container title={' '} isLoaded={isLoaded}>\r\n            <ul>\r\n                {ordersList.length === 0 ? <p>  </p> : ordersList}\r\n            </ul>\r\n\r\n            <Pagination\r\n                currentPage={pageOrders}\r\n                totalCount={totalCount}\r\n                pageSize={limit}\r\n                onPageChange={pageOrders => handleChangePage(pageOrders)}\r\n            />\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default OrdersList\r\n","import OrdersList from './orders-list';\r\nexport default OrdersList;","import React, { useState } from 'react';\r\nimport { isFiveChars } from '../../helpers/isValidInput';\r\nimport Container from '../../components/UI/container';\r\nimport { Alert } from 'react-bootstrap';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { resetPassword } from '../../services/userAPI';\r\n\r\nfunction ResetPasswordPage({ userId, token }) {\r\n    const [error, setError] = useState('');\r\n    const [enteredPasswordInput, setEnteredPasswordInput] = useState('');\r\n\r\n    const history = useHistory();\r\n\r\n    const onChangePasswordHandler = (e) => {\r\n        setError('');\r\n        setEnteredPasswordInput(e.target.value);\r\n    }\r\n\r\n    const onSubmitNewPassword = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!isFiveChars(enteredPasswordInput)) {\r\n            setError('     5 ');\r\n            return;\r\n        }\r\n\r\n        resetPassword(userId, token, enteredPasswordInput).then(data => {\r\n            console.log(data);\r\n        })\r\n\r\n        history.push('/login');\r\n    }\r\n\r\n    return <Container>\r\n        <form className=\"login-form\" onSubmit={onSubmitNewPassword}>\r\n\r\n            {error.length > 0 && <Alert variant='danger'>\r\n                {error}\r\n            </Alert>}\r\n\r\n            <h3>   : </h3>\r\n\r\n            <div className=\"form-outline mb-4\">\r\n                <input\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    className=\"form-control\"\r\n                    value={enteredPasswordInput}\r\n                    onChange={onChangePasswordHandler}\r\n                />\r\n            </div>\r\n\r\n            <button type=\"submit\" className=\"btn btn-primary btn-block\"> </button>\r\n        </form>\r\n    </Container >;\r\n}\r\n\r\nexport default ResetPasswordPage;\r\n","import React from 'react';\r\nimport { Button, Col, Form, Alert, } from 'react-bootstrap';\r\nimport { ImgUrlDefault } from '../../../../utils/consts';\r\n\r\nimport './profile-edit-form.scss';\r\n\r\nfunction ProfileEditForm(props) {\r\n    const [enteredName, setEnteredName] = React.useState(props.name);\r\n    const [enteredEmail, setEnteredEmail] = React.useState(props.email);\r\n    const [enteredPhone, setEnteredPhone] = React.useState(props.phone);\r\n    const [selectedImage, setSelectedImage] = React.useState('')\r\n    const [error, setError] = React.useState('')\r\n\r\n    const onHideForm = () => {\r\n        props.onShowFormHandler();\r\n        setError('');\r\n    }\r\n\r\n    const selectFile = (e) => {\r\n        const fileType = e.target.files[0].type.split('/')[0];\r\n        if (fileType !== 'image') {\r\n            setError('!   ');\r\n            return;\r\n        }\r\n        setError('');\r\n        setSelectedImage(e.target.files[0]);\r\n    }\r\n\r\n    const onChangeNameHandler = (e) => {\r\n        setError('');\r\n        setEnteredName(e.target.value)\r\n    }\r\n    const onChangeEmailHandler = (e) => {\r\n        setError('');\r\n        setEnteredEmail(e.target.value)\r\n    }\r\n    const onChangePhoneHandler = (e) => {\r\n        setError('');\r\n        setEnteredPhone(e.target.value)\r\n    }\r\n\r\n    const onSubmitHandler = () => {\r\n        if (enteredName.trim().length === 0) {\r\n            setError('! \\'    ');\r\n            return;\r\n        }\r\n\r\n        if (!enteredEmail.includes('@') || enteredEmail.trim().length === 0) {\r\n            setError('!     ');\r\n            return;\r\n        }\r\n\r\n        const newProfile = {\r\n            name: enteredName,\r\n            email: enteredEmail,\r\n            phone: enteredPhone,\r\n            image: selectedImage\r\n        }\r\n\r\n        props.onSaveProfile(newProfile);\r\n        onHideForm();\r\n    }\r\n\r\n    const imgUrl = selectedImage.length === 0 ?\r\n        `${ImgUrlDefault.USERS}${props.image}` : URL.createObjectURL(selectedImage);\r\n\r\n    return (\r\n        <Form onSubmit={onSubmitHandler} >\r\n\r\n            {error && <Alert className=\"m-2\" className=\"profile-edit__error\" variant={'danger'}>\r\n                {error}\r\n            </Alert>}\r\n\r\n            <div className=\"user-profile\">\r\n                <div className=\"user-profile__image profile-edit-form__image\">\r\n\r\n                    <img src={`${imgUrl}`} alt=\"user-avatar\" />\r\n\r\n                    <Form.Control\r\n                        onChange={selectFile}\r\n                        type=\"file\"\r\n                        placeholder=\"Enter the image url\"\r\n                    />\r\n\r\n                </div>\r\n\r\n                <div className=\"user-info\">\r\n                    <div className=\"user-profile__item\">\r\n                        <span>\r\n                            ':\r\n                        </span>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            placeholder=\"  '\"\r\n                            value={enteredName}\r\n                            onChange={onChangeNameHandler}\r\n                        />\r\n                    </div>\r\n                    <div className=\"user-profile__item\">\r\n                        <span>Email: </span>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            placeholder=\"  \"\r\n                            value={enteredEmail}\r\n                            onChange={onChangeEmailHandler}\r\n                        />\r\n                    </div>\r\n                    <div className=\"user-profile__item\">\r\n                        <span>: </span>\r\n                        <Form.Control\r\n                            type=\"number\"\r\n                            placeholder=\"   \"\r\n                            value={enteredPhone ? enteredPhone : ''}\r\n                            onChange={onChangePhoneHandler}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"profile-edit-form__nav\">\r\n                <Button variant=\"secondary\" onClick={onHideForm}>\r\n                    \r\n                </Button>\r\n\r\n                <Button className=\"m-2\" variant=\"primary\" type=\"button\" onClick={onSubmitHandler}>\r\n                    \r\n                </Button>\r\n            </div>\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default ProfileEditForm\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Modal, Form, Col, Button, Alert } from 'react-bootstrap';\r\nimport { changePassword } from '../../../../services/userAPI';\r\nimport { isFiveChars, isEmpty } from '../../../../helpers/isValidInput';\r\nimport './change-password-form.scss';\r\n\r\nfunction ChangePasswordForm() {\r\n    const dispatch = useDispatch();\r\n\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [currentPasswordInput, setCurrentPasswordInput] = useState('');\r\n    const [newPasswordInput, setNewPasswordInput] = useState('');\r\n    const [serverError, setServerError] = useState('');\r\n\r\n    const [errors, setErrors] = useState({\r\n        currentPassword: '',\r\n        newPassword: '',\r\n    });\r\n\r\n    const { id } = useSelector(({ user }) => user);\r\n\r\n    const updateErrors = (inputName, msg) => {\r\n        setErrors(state => {\r\n            return {\r\n                ...state,\r\n                [inputName]: msg\r\n            }\r\n        })\r\n    }\r\n\r\n    const onChangePasswordHandler = (e) => {\r\n        setShowForm(prevState => !prevState);\r\n    }\r\n\r\n    const onChangeCurrentPasswordInput = (e) => {\r\n        setCurrentPasswordInput(e.target.value);\r\n\r\n        updateErrors('currentPassword', '');\r\n    }\r\n\r\n    const onChangeNewPasswordInput = (e) => {\r\n        setNewPasswordInput(e.target.value);\r\n\r\n        updateErrors('newPassword', '');\r\n    }\r\n\r\n    const onSavePassword = () => {\r\n        if (isEmpty(currentPasswordInput)) {\r\n            updateErrors('currentPassword', '   ');\r\n            return;\r\n        }\r\n\r\n        if (!isFiveChars(newPasswordInput)) {\r\n            updateErrors('newPassword', '     5 ');\r\n            return;\r\n        }\r\n\r\n        changePassword(currentPasswordInput, newPasswordInput, id).then(data => {\r\n            onChangePasswordHandler();\r\n        }).catch(error => {\r\n            setServerError('  ');\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {showForm && <Modal size=\"lg\" animation={true} show={showForm} onHide={onChangePasswordHandler}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>   </Modal.Title>\r\n                </Modal.Header>\r\n\r\n                {serverError.length !== 0 && <Alert variant=\"danger\" className=\"m-2\">\r\n                    {serverError}\r\n                </Alert>}\r\n\r\n                <Modal.Body>\r\n                    <Form>\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} controlId=\"currentPasswrod\">\r\n                                <Form.Label>\r\n                                     \r\n                                </Form.Label>\r\n                                <Form.Control\r\n                                    type=\"password\"\r\n                                    value={currentPasswordInput}\r\n                                    onChange={onChangeCurrentPasswordInput}\r\n                                    placeholder=\"   \"\r\n                                />\r\n                                {errors.currentPassword.length !== 0 && <p className=\"error-input\">{errors.currentPassword}</p>}\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n\r\n                        <br />\r\n\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} controlId=\"phone\">\r\n                                <Form.Label>\r\n                                     \r\n                                </Form.Label>\r\n                                <Form.Control\r\n                                    type=\"password\"\r\n                                    value={newPasswordInput}\r\n                                    onChange={onChangeNewPasswordInput}\r\n                                    placeholder=\",  ,  \"\r\n                                />\r\n                                {errors.newPassword.length !== 0 && <p className=\"error-input\">{errors.newPassword}</p>}\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n\r\n                        <br />\r\n\r\n                        <hr />\r\n\r\n                        <Button variant=\"secondary\" onClick={onChangePasswordHandler}>\r\n                            \r\n                        </Button>\r\n\r\n                        <Button className=\"m-2\" variant=\"primary\" id=\"btn\" type=\"button\" onClick={onSavePassword}>\r\n                            \r\n                        </Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n            </Modal>}\r\n            <span>\r\n                <button className=\"change-password-btn\"\r\n                    onClick={onChangePasswordHandler}> </button>\r\n            </span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChangePasswordForm;\r\n","import React from 'react';\r\nimport Container from '../../UI/container';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { PencilSquare } from 'react-bootstrap-icons';\r\nimport { setUser } from '../../../redux/actions';\r\nimport { updateUser } from '../../../services/userAPI';\r\nimport ProfileEditForm from './profile-edit-form/profile-edit-form';\r\n\r\nimport './user-profile.scss';\r\nimport { ImgUrlDefault, UserDefault } from '../../../utils/consts';\r\nimport ChangePasswordForm from './change-password-form/change-password-form';\r\n\r\nfunction UserProfile() {\r\n    const dispatch = useDispatch();\r\n\r\n    const { id, image, name, email, phone } = useSelector(({ user }) => user);\r\n\r\n    const [isFormVisible, setIsFormVisible] = React.useState(false);\r\n    const [isLoaded, setIsLoading] = React.useState(true);\r\n\r\n    const onShowFormHandler = () => {\r\n        setIsFormVisible(prevState => !prevState);\r\n    }\r\n\r\n    const onSaveProfile = (profile) => {\r\n        try {\r\n            setIsLoading(false);\r\n            const formData = new FormData();\r\n            formData.append('name', profile.name);\r\n            formData.append('email', profile.email);\r\n            formData.append('phone', profile.phone);\r\n\r\n            typeof profile.image !== 'string' && formData.append('image', profile.image);\r\n\r\n            updateUser(formData, id).then(data => {\r\n                profile.image = data.image;\r\n                dispatch(setUser(profile))\r\n                setIsLoading(true);\r\n            })\r\n        } catch (e) {\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n\r\n    const imgUrl = !image ? UserDefault.IMAGE : image;\r\n\r\n    return (\r\n        <Container title=\"\" isLoaded={isLoaded}>\r\n            {!isFormVisible ? <div className=\"user-profile\">\r\n                <div className=\"user-profile__image\">\r\n                    <img src={`${ImgUrlDefault.USERS}${imgUrl}`} alt=\"user-avatar\" />\r\n                </div>\r\n                <div className=\"user-info\">\r\n                    <div className=\"edit-profile-btn\" onClick={onShowFormHandler}>\r\n                        <PencilSquare />\r\n                    </div>\r\n                    <div className=\"user-profile__item\">\r\n                        <span>': </span>\r\n                        {name}\r\n                    </div>\r\n                    <div className=\"user-profile__item\">\r\n                        <span>Email: </span>\r\n                        {email}\r\n                    </div>\r\n                    <div className=\"user-profile__item\">\r\n                        <span> : </span>\r\n                        {phone ? phone : ''}\r\n                    </div>\r\n                    <div className=\"user-profile__item\">\r\n                        <ChangePasswordForm />\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n                :\r\n                <ProfileEditForm\r\n                    image={imgUrl}\r\n                    name={name}\r\n                    email={email}\r\n                    phone={phone}\r\n                    onShowFormHandler={onShowFormHandler}\r\n                    onSaveProfile={onSaveProfile}\r\n                />\r\n            }\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default UserProfile\r\n","import UserProfile from './user-profile';\r\nexport default UserProfile;","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setIsAuth, setUser } from '../redux/actions';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport Header from '../components/Layout/header';\r\nimport Footer from '../components/Layout/footer';\r\nimport ShopItemDetails from '../components/shop-item-details';\r\nimport Error404 from '../components/error-404';\r\nimport Spinner from '../components/UI/spinner';\r\nimport * as Pages from '../pages';\r\nimport UsersList from '../components/admin/users-list';\r\nimport { Routes } from '../utils/consts';\r\nimport OrdersList from '../components/orders-list';\r\nimport { useSelector } from 'react-redux';\r\nimport ResetPasswordPage from '../pages/reset-password-page/reset-password-page';\r\n\r\nimport { check } from '../services/userAPI';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './App.scss';\r\nimport UserProfile from '../components/user/user-profile';\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const { isAuth } = useSelector(({ user }) => user);\r\n\r\n  React.useEffect(() => {\r\n    check().then(data => {\r\n      dispatch(setIsAuth(true))\r\n      dispatch(setUser(data))\r\n    }).finally(() => {\r\n      setLoading(false)\r\n    })\r\n  }, [dispatch])\r\n\r\n  if (loading) {\r\n    return <Spinner />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <Switch>\r\n\r\n        <Route exact path={Routes.HOME_ROUTE} component={Pages.HomePage} />\r\n        <Route exact path={Routes.ABOUT_ROUTE} component={Pages.AboutUsPage} />\r\n        <Route exact path={Routes.CONTACTS_ROUTE} component={Pages.ContactsPage} />\r\n        <Route exact path={Routes.PAYMENT_DELIVERY_ROUTE} component={Pages.PaymentDeliveryPage} />\r\n        <Route exact path={Routes.CART_ROUTE} component={Pages.CartPage} />\r\n        <Route path={Routes.SHOP_ROUTE} exact component={Pages.ShopPage} />\r\n\r\n        <Route path={Routes.SHOP_ITEM_ROUTE} render={({ match }) => {\r\n          return <ShopItemDetails itemId={match.params.id} exact />\r\n        }} />\r\n\r\n        <Route path={Routes.LOGIN_ROUTE} component={Pages.AuthPage} />\r\n        <Route path={Routes.REGISTRATION_ROUTE} component={Pages.AuthPage} />\r\n\r\n        {isAuth &&\r\n          <>\r\n            <Route path={Routes.ORDERS_LIST} component={OrdersList} />\r\n            <Route path={Routes.USERS_LIST} component={UsersList} />\r\n            <Route path={Routes.USER_PROFILE} component={UserProfile} />\r\n          </>\r\n        }\r\n\r\n        <Route path={Routes.USER_RESET_PASSWORD} render={({ match }) => {\r\n          return <ResetPasswordPage userId={match.params.id} token={match.params.token} />\r\n        }} />\r\n\r\n        <Route path=\"*\" component={Error404} />\r\n      </Switch>\r\n      <Footer />\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n","import App from './App';\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\n\r\nimport ScrollToTop from './components/scroll-to-top/scroll-to-top';\r\n\r\nimport App from './app';\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Provider store={store}>\r\n      <ScrollToTop>\r\n        <App />\r\n      </ScrollToTop>\r\n    </Provider>\r\n  </Router >,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}